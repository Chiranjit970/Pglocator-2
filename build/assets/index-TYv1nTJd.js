function gb(n,e){for(var s=0;s<e.length;s++){const i=e[s];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in n)){const c=Object.getOwnPropertyDescriptor(i,l);c&&Object.defineProperty(n,l,c.get?c:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function hd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function yb(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var s=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var l=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(s,i,l.get?l:{enumerable:!0,get:function(){return n[i]}})}),s}var Qc={exports:{}},Vi={},Xc={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function xb(){if(Fm)return Te;Fm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function k(R,z,ee){this.props=R,this.context=z,this.refs=N,this.updater=ee||w}k.prototype.isReactComponent={},k.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=k.prototype;function I(R,z,ee){this.props=R,this.context=z,this.refs=N,this.updater=ee||w}var _=I.prototype=new E;_.constructor=I,j(_,k.prototype),_.isPureReactComponent=!0;var O=Array.isArray,P=Object.prototype.hasOwnProperty,$={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function W(R,z,ee){var le,ue={},je=null,re=null;if(z!=null)for(le in z.ref!==void 0&&(re=z.ref),z.key!==void 0&&(je=""+z.key),z)P.call(z,le)&&!U.hasOwnProperty(le)&&(ue[le]=z[le]);var Z=arguments.length-2;if(Z===1)ue.children=ee;else if(1<Z){for(var ve=Array(Z),st=0;st<Z;st++)ve[st]=arguments[st+2];ue.children=ve}if(R&&R.defaultProps)for(le in Z=R.defaultProps,Z)ue[le]===void 0&&(ue[le]=Z[le]);return{$$typeof:n,type:R,key:je,ref:re,props:ue,_owner:$.current}}function te(R,z){return{$$typeof:n,type:R.type,key:z,ref:R.ref,props:R.props,_owner:R._owner}}function ye(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function _e(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ee){return z[ee]})}var J=/\/+/g;function ae(R,z){return typeof R=="object"&&R!==null&&R.key!=null?_e(""+R.key):z.toString(36)}function Se(R,z,ee,le,ue){var je=typeof R;(je==="undefined"||je==="boolean")&&(R=null);var re=!1;if(R===null)re=!0;else switch(je){case"string":case"number":re=!0;break;case"object":switch(R.$$typeof){case n:case e:re=!0}}if(re)return re=R,ue=ue(re),R=le===""?"."+ae(re,0):le,O(ue)?(ee="",R!=null&&(ee=R.replace(J,"$&/")+"/"),Se(ue,z,ee,"",function(st){return st})):ue!=null&&(ye(ue)&&(ue=te(ue,ee+(!ue.key||re&&re.key===ue.key?"":(""+ue.key).replace(J,"$&/")+"/")+R)),z.push(ue)),1;if(re=0,le=le===""?".":le+":",O(R))for(var Z=0;Z<R.length;Z++){je=R[Z];var ve=le+ae(je,Z);re+=Se(je,z,ee,ve,ue)}else if(ve=v(R),typeof ve=="function")for(R=ve.call(R),Z=0;!(je=R.next()).done;)je=je.value,ve=le+ae(je,Z++),re+=Se(je,z,ee,ve,ue);else if(je==="object")throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return re}function Ae(R,z,ee){if(R==null)return R;var le=[],ue=0;return Se(R,le,"","",function(je){return z.call(ee,je,ue++)}),le}function xe(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(ee){(R._status===0||R._status===-1)&&(R._status=1,R._result=ee)},function(ee){(R._status===0||R._status===-1)&&(R._status=2,R._result=ee)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var ne={current:null},G={transition:null},B={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:G,ReactCurrentOwner:$};function F(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Ae,forEach:function(R,z,ee){Ae(R,function(){z.apply(this,arguments)},ee)},count:function(R){var z=0;return Ae(R,function(){z++}),z},toArray:function(R){return Ae(R,function(z){return z})||[]},only:function(R){if(!ye(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Te.Component=k,Te.Fragment=s,Te.Profiler=l,Te.PureComponent=I,Te.StrictMode=i,Te.Suspense=m,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Te.act=F,Te.cloneElement=function(R,z,ee){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var le=j({},R.props),ue=R.key,je=R.ref,re=R._owner;if(z!=null){if(z.ref!==void 0&&(je=z.ref,re=$.current),z.key!==void 0&&(ue=""+z.key),R.type&&R.type.defaultProps)var Z=R.type.defaultProps;for(ve in z)P.call(z,ve)&&!U.hasOwnProperty(ve)&&(le[ve]=z[ve]===void 0&&Z!==void 0?Z[ve]:z[ve])}var ve=arguments.length-2;if(ve===1)le.children=ee;else if(1<ve){Z=Array(ve);for(var st=0;st<ve;st++)Z[st]=arguments[st+2];le.children=Z}return{$$typeof:n,type:R.type,key:ue,ref:je,props:le,_owner:re}},Te.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:c,_context:R},R.Consumer=R},Te.createElement=W,Te.createFactory=function(R){var z=W.bind(null,R);return z.type=R,z},Te.createRef=function(){return{current:null}},Te.forwardRef=function(R){return{$$typeof:h,render:R}},Te.isValidElement=ye,Te.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:xe}},Te.memo=function(R,z){return{$$typeof:p,type:R,compare:z===void 0?null:z}},Te.startTransition=function(R){var z=G.transition;G.transition={};try{R()}finally{G.transition=z}},Te.unstable_act=F,Te.useCallback=function(R,z){return ne.current.useCallback(R,z)},Te.useContext=function(R){return ne.current.useContext(R)},Te.useDebugValue=function(){},Te.useDeferredValue=function(R){return ne.current.useDeferredValue(R)},Te.useEffect=function(R,z){return ne.current.useEffect(R,z)},Te.useId=function(){return ne.current.useId()},Te.useImperativeHandle=function(R,z,ee){return ne.current.useImperativeHandle(R,z,ee)},Te.useInsertionEffect=function(R,z){return ne.current.useInsertionEffect(R,z)},Te.useLayoutEffect=function(R,z){return ne.current.useLayoutEffect(R,z)},Te.useMemo=function(R,z){return ne.current.useMemo(R,z)},Te.useReducer=function(R,z,ee){return ne.current.useReducer(R,z,ee)},Te.useRef=function(R){return ne.current.useRef(R)},Te.useState=function(R){return ne.current.useState(R)},Te.useSyncExternalStore=function(R,z,ee){return ne.current.useSyncExternalStore(R,z,ee)},Te.useTransition=function(){return ne.current.useTransition()},Te.version="18.3.1",Te}var Um;function fd(){return Um||(Um=1,Xc.exports=xb()),Xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function vb(){if(zm)return Vi;zm=1;var n=fd(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,m,p){var y,g={},v=null,w=null;p!==void 0&&(v=""+p),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(w=m.ref);for(y in m)i.call(m,y)&&!c.hasOwnProperty(y)&&(g[y]=m[y]);if(h&&h.defaultProps)for(y in m=h.defaultProps,m)g[y]===void 0&&(g[y]=m[y]);return{$$typeof:e,type:h,key:v,ref:w,props:g,_owner:l.current}}return Vi.Fragment=s,Vi.jsx=u,Vi.jsxs=u,Vi}var Wm;function bb(){return Wm||(Wm=1,Qc.exports=vb()),Qc.exports}var o=bb(),Sa={},Zc={exports:{}},Rt={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function wb(){return Hm||(Hm=1,(function(n){function e(G,B){var F=G.length;G.push(B);e:for(;0<F;){var R=F-1>>>1,z=G[R];if(0<l(z,B))G[R]=B,G[F]=z,F=R;else break e}}function s(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var B=G[0],F=G.pop();if(F!==B){G[0]=F;e:for(var R=0,z=G.length,ee=z>>>1;R<ee;){var le=2*(R+1)-1,ue=G[le],je=le+1,re=G[je];if(0>l(ue,F))je<z&&0>l(re,ue)?(G[R]=re,G[je]=F,R=je):(G[R]=ue,G[le]=F,R=le);else if(je<z&&0>l(re,F))G[R]=re,G[je]=F,R=je;else break e}}return B}function l(G,B){var F=G.sortIndex-B.sortIndex;return F!==0?F:G.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,g=null,v=3,w=!1,j=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var B=s(p);B!==null;){if(B.callback===null)i(p);else if(B.startTime<=G)i(p),B.sortIndex=B.expirationTime,e(m,B);else break;B=s(p)}}function O(G){if(N=!1,_(G),!j)if(s(m)!==null)j=!0,xe(P);else{var B=s(p);B!==null&&ne(O,B.startTime-G)}}function P(G,B){j=!1,N&&(N=!1,E(W),W=-1),w=!0;var F=v;try{for(_(B),g=s(m);g!==null&&(!(g.expirationTime>B)||G&&!_e());){var R=g.callback;if(typeof R=="function"){g.callback=null,v=g.priorityLevel;var z=R(g.expirationTime<=B);B=n.unstable_now(),typeof z=="function"?g.callback=z:g===s(m)&&i(m),_(B)}else i(m);g=s(m)}if(g!==null)var ee=!0;else{var le=s(p);le!==null&&ne(O,le.startTime-B),ee=!1}return ee}finally{g=null,v=F,w=!1}}var $=!1,U=null,W=-1,te=5,ye=-1;function _e(){return!(n.unstable_now()-ye<te)}function J(){if(U!==null){var G=n.unstable_now();ye=G;var B=!0;try{B=U(!0,G)}finally{B?ae():($=!1,U=null)}}else $=!1}var ae;if(typeof I=="function")ae=function(){I(J)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ae=Se.port2;Se.port1.onmessage=J,ae=function(){Ae.postMessage(null)}}else ae=function(){k(J,0)};function xe(G){U=G,$||($=!0,ae())}function ne(G,B){W=k(function(){G(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){j||w||(j=!0,xe(P))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var F=v;v=B;try{return G()}finally{v=F}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,B){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var F=v;v=G;try{return B()}finally{v=F}},n.unstable_scheduleCallback=function(G,B,F){var R=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?R+F:R):F=R,G){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,G={id:y++,callback:B,priorityLevel:G,startTime:F,expirationTime:z,sortIndex:-1},F>R?(G.sortIndex=F,e(p,G),s(m)===null&&G===s(p)&&(N?(E(W),W=-1):N=!0,ne(O,F-R))):(G.sortIndex=z,e(m,G),j||w||(j=!0,xe(P))),G},n.unstable_shouldYield=_e,n.unstable_wrapCallback=function(G){var B=v;return function(){var F=v;v=B;try{return G.apply(this,arguments)}finally{v=F}}}})(tu)),tu}var Gm;function jb(){return Gm||(Gm=1,eu.exports=wb()),eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function Nb(){if(qm)return Rt;qm=1;var n=fd(),e=jb();function s(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(t,r){u(t,r),u(t+"Capture",r)}function u(t,r){for(l[t]=r,t=0;t<r.length;t++)i.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function v(t){return m.call(g,t)?!0:m.call(y,t)?!1:p.test(t)?g[t]=!0:(y[t]=!0,!1)}function w(t,r,a,d){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,r,a,d){if(r===null||typeof r>"u"||w(t,r,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function N(t,r,a,d,f,x,b){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=x,this.removeEmptyString=b}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){k[t]=new N(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];k[r]=new N(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){k[t]=new N(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){k[t]=new N(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){k[t]=new N(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){k[t]=new N(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){k[t]=new N(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){k[t]=new N(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){k[t]=new N(t,5,!1,t.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function I(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(E,I);k[r]=new N(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(E,I);k[r]=new N(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(E,I);k[r]=new N(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){k[t]=new N(t,1,!1,t.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){k[t]=new N(t,1,!1,t.toLowerCase(),null,!0,!0)});function _(t,r,a,d){var f=k.hasOwnProperty(r)?k[r]:null;(f!==null?f.type!==0:d||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,a,f,d)&&(a=null),d||f===null?v(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):f.mustUseProperty?t[f.propertyName]=a===null?f.type===3?!1:"":a:(r=f.attributeName,d=f.attributeNamespace,a===null?t.removeAttribute(r):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,d?t.setAttributeNS(d,r,a):t.setAttribute(r,a))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),$=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),_e=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),G=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var F=Object.assign,R;function z(t){if(R===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);R=r&&r[1]||""}return`
`+R+t}var ee=!1;function le(t,r){if(!t||ee)return"";ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(M){var d=M}Reflect.construct(t,[],r)}else{try{r.call()}catch(M){d=M}t.call(r.prototype)}else{try{throw Error()}catch(M){d=M}t()}}catch(M){if(M&&d&&typeof M.stack=="string"){for(var f=M.stack.split(`
`),x=d.stack.split(`
`),b=f.length-1,S=x.length-1;1<=b&&0<=S&&f[b]!==x[S];)S--;for(;1<=b&&0<=S;b--,S--)if(f[b]!==x[S]){if(b!==1||S!==1)do if(b--,S--,0>S||f[b]!==x[S]){var C=`
`+f[b].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=b&&0<=S);break}}}finally{ee=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?z(t):""}function ue(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=le(t.type,!1),t;case 11:return t=le(t.type.render,!1),t;case 1:return t=le(t.type,!0),t;default:return""}}function je(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case $:return"Portal";case te:return"Profiler";case W:return"StrictMode";case ae:return"Suspense";case Se:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _e:return(t.displayName||"Context")+".Consumer";case ye:return(t._context.displayName||"Context")+".Provider";case J:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ae:return r=t.displayName||null,r!==null?r:je(t.type)||"Memo";case xe:r=t._payload,t=t._init;try{return je(t(r))}catch{}}return null}function re(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(r);case 8:return r===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Z(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ve(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function st(t){var r=ve(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),d=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,x=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(b){d=""+b,x.call(this,b)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function En(t){t._valueTracker||(t._valueTracker=st(t))}function Tn(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),d="";return t&&(d=ve(t)?t.checked?"true":"false":t.value),t=d,t!==a?(r.setValue(t),!0):!1}function ir(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ss(t,r){var a=r.checked;return F({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function po(t,r){var a=r.defaultValue==null?"":r.defaultValue,d=r.checked!=null?r.checked:r.defaultChecked;a=Z(r.value!=null?r.value:a),t._wrapperState={initialChecked:d,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ei(t,r){r=r.checked,r!=null&&_(t,"checked",r,!1)}function Cn(t,r){ei(t,r);var a=Z(r.value),d=r.type;if(a!=null)d==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(d==="submit"||d==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?It(t,r.type,a):r.hasOwnProperty("defaultValue")&&It(t,r.type,Z(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ti(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var d=r.type;if(!(d!=="submit"&&d!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function It(t,r,a){(r!=="number"||ir(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Es=Array.isArray;function Hn(t,r,a,d){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&d&&(t[a].defaultSelected=!0)}else{for(a=""+Z(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,d&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function lt(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return F({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pn(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(s(92));if(Es(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:Z(a)}}function go(t,r){var a=Z(r.value),d=Z(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),d!=null&&(t.defaultValue=""+d)}function yo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Ts(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ni(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Ts(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cs,or=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,d,f){MSApp.execUnsafeLocalFunction(function(){return t(r,a,d,f)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Cs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ht(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qn=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(t){qn.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Gn[r]=Gn[t]})});function xo(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Gn.hasOwnProperty(t)&&Gn[t]?(""+r).trim():r+"px"}function vo(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var d=a.indexOf("--")===0,f=xo(a,r[a],d);a==="float"&&(a="cssFloat"),d?t.setProperty(a,f):t[a]=f}}var bo=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ar(t,r){if(r){if(bo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function si(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=null;function Gt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ri=null,Kn=null,Rn=null;function ii(t){if(t=ki(t)){if(typeof ri!="function")throw Error(s(280));var r=t.stateNode;r&&(r=Fo(r),ri(t.stateNode,t.type,r))}}function ke(t){Kn?Rn?Rn.push(t):Rn=[t]:Kn=t}function He(){if(Kn){var t=Kn,r=Rn;if(Rn=Kn=null,ii(t),r)for(t=0;t<r.length;t++)ii(r[t])}}function Ze(t,r){return t(r)}function mt(){}var Yn=!1;function Ye(t,r,a){if(Yn)return t(r,a);Yn=!0;try{return Ze(t,r,a)}finally{Yn=!1,(Kn!==null||Rn!==null)&&(mt(),He())}}function rt(t,r){var a=t.stateNode;if(a===null)return null;var d=Fo(a);if(d===null)return null;a=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Jn=!1;if(h)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Jn=!1}function Dt(t,r,a,d,f,x,b,S,C){var M=Array.prototype.slice.call(arguments,3);try{r.apply(a,M)}catch(q){this.onError(q)}}var Qn=!1,qt=null,oi=!1,gl=null,Nx={onError:function(t){Qn=!0,qt=t}};function _x(t,r,a,d,f,x,b,S,C){Qn=!1,qt=null,Dt.apply(Nx,arguments)}function kx(t,r,a,d,f,x,b,S,C){if(_x.apply(this,arguments),Qn){if(Qn){var M=qt;Qn=!1,qt=null}else throw Error(s(198));oi||(oi=!0,gl=M)}}function Rs(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function ch(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function uh(t){if(Rs(t)!==t)throw Error(s(188))}function Sx(t){var r=t.alternate;if(!r){if(r=Rs(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,d=r;;){var f=a.return;if(f===null)break;var x=f.alternate;if(x===null){if(d=f.return,d!==null){a=d;continue}break}if(f.child===x.child){for(x=f.child;x;){if(x===a)return uh(f),t;if(x===d)return uh(f),r;x=x.sibling}throw Error(s(188))}if(a.return!==d.return)a=f,d=x;else{for(var b=!1,S=f.child;S;){if(S===a){b=!0,a=f,d=x;break}if(S===d){b=!0,d=f,a=x;break}S=S.sibling}if(!b){for(S=x.child;S;){if(S===a){b=!0,a=x,d=f;break}if(S===d){b=!0,d=x,a=f;break}S=S.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==d)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function dh(t){return t=Sx(t),t!==null?hh(t):null}function hh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=hh(t);if(r!==null)return r;t=t.sibling}return null}var fh=e.unstable_scheduleCallback,mh=e.unstable_cancelCallback,Ex=e.unstable_shouldYield,Tx=e.unstable_requestPaint,Ge=e.unstable_now,Cx=e.unstable_getCurrentPriorityLevel,yl=e.unstable_ImmediatePriority,ph=e.unstable_UserBlockingPriority,wo=e.unstable_NormalPriority,Px=e.unstable_LowPriority,gh=e.unstable_IdlePriority,jo=null,vn=null;function Rx(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(jo,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Ix,Ax=Math.log,Ox=Math.LN2;function Ix(t){return t>>>=0,t===0?32:31-(Ax(t)/Ox|0)|0}var No=64,_o=4194304;function ai(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ko(t,r){var a=t.pendingLanes;if(a===0)return 0;var d=0,f=t.suspendedLanes,x=t.pingedLanes,b=a&268435455;if(b!==0){var S=b&~f;S!==0?d=ai(S):(x&=b,x!==0&&(d=ai(x)))}else b=a&~f,b!==0?d=ai(b):x!==0&&(d=ai(x));if(d===0)return 0;if(r!==0&&r!==d&&(r&f)===0&&(f=d&-d,x=r&-r,f>=x||f===16&&(x&4194240)!==0))return r;if((d&4)!==0&&(d|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=d;0<r;)a=31-rn(r),f=1<<a,d|=t[a],r&=~f;return d}function Dx(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lx(t,r){for(var a=t.suspendedLanes,d=t.pingedLanes,f=t.expirationTimes,x=t.pendingLanes;0<x;){var b=31-rn(x),S=1<<b,C=f[b];C===-1?((S&a)===0||(S&d)!==0)&&(f[b]=Dx(S,r)):C<=r&&(t.expiredLanes|=S),x&=~S}}function xl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yh(){var t=No;return No<<=1,(No&4194240)===0&&(No=64),t}function vl(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function li(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-rn(r),t[r]=a}function Mx(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var d=t.eventTimes;for(t=t.expirationTimes;0<a;){var f=31-rn(a),x=1<<f;r[f]=0,d[f]=-1,t[f]=-1,a&=~x}}function bl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var d=31-rn(a),f=1<<d;f&r|t[d]&r&&(t[d]|=r),a&=~f}}var Re=0;function xh(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var vh,wl,bh,wh,jh,jl=!1,So=[],Xn=null,Zn=null,es=null,ci=new Map,ui=new Map,ts=[],$x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nh(t,r){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":ci.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(r.pointerId)}}function di(t,r,a,d,f,x){return t===null||t.nativeEvent!==x?(t={blockedOn:r,domEventName:a,eventSystemFlags:d,nativeEvent:x,targetContainers:[f]},r!==null&&(r=ki(r),r!==null&&wl(r)),t):(t.eventSystemFlags|=d,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Bx(t,r,a,d,f){switch(r){case"focusin":return Xn=di(Xn,t,r,a,d,f),!0;case"dragenter":return Zn=di(Zn,t,r,a,d,f),!0;case"mouseover":return es=di(es,t,r,a,d,f),!0;case"pointerover":var x=f.pointerId;return ci.set(x,di(ci.get(x)||null,t,r,a,d,f)),!0;case"gotpointercapture":return x=f.pointerId,ui.set(x,di(ui.get(x)||null,t,r,a,d,f)),!0}return!1}function _h(t){var r=As(t.target);if(r!==null){var a=Rs(r);if(a!==null){if(r=a.tag,r===13){if(r=ch(a),r!==null){t.blockedOn=r,jh(t.priority,function(){bh(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eo(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=_l(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var d=new a.constructor(a.type,a);Ps=d,a.target.dispatchEvent(d),Ps=null}else return r=ki(a),r!==null&&wl(r),t.blockedOn=a,!1;r.shift()}return!0}function kh(t,r,a){Eo(t)&&a.delete(r)}function Vx(){jl=!1,Xn!==null&&Eo(Xn)&&(Xn=null),Zn!==null&&Eo(Zn)&&(Zn=null),es!==null&&Eo(es)&&(es=null),ci.forEach(kh),ui.forEach(kh)}function hi(t,r){t.blockedOn===r&&(t.blockedOn=null,jl||(jl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vx)))}function fi(t){function r(f){return hi(f,t)}if(0<So.length){hi(So[0],t);for(var a=1;a<So.length;a++){var d=So[a];d.blockedOn===t&&(d.blockedOn=null)}}for(Xn!==null&&hi(Xn,t),Zn!==null&&hi(Zn,t),es!==null&&hi(es,t),ci.forEach(r),ui.forEach(r),a=0;a<ts.length;a++)d=ts[a],d.blockedOn===t&&(d.blockedOn=null);for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)_h(a),a.blockedOn===null&&ts.shift()}var lr=O.ReactCurrentBatchConfig,To=!0;function Fx(t,r,a,d){var f=Re,x=lr.transition;lr.transition=null;try{Re=1,Nl(t,r,a,d)}finally{Re=f,lr.transition=x}}function Ux(t,r,a,d){var f=Re,x=lr.transition;lr.transition=null;try{Re=4,Nl(t,r,a,d)}finally{Re=f,lr.transition=x}}function Nl(t,r,a,d){if(To){var f=_l(t,r,a,d);if(f===null)Fl(t,r,d,Co,a),Nh(t,d);else if(Bx(f,t,r,a,d))d.stopPropagation();else if(Nh(t,d),r&4&&-1<$x.indexOf(t)){for(;f!==null;){var x=ki(f);if(x!==null&&vh(x),x=_l(t,r,a,d),x===null&&Fl(t,r,d,Co,a),x===f)break;f=x}f!==null&&d.stopPropagation()}else Fl(t,r,d,null,a)}}var Co=null;function _l(t,r,a,d){if(Co=null,t=Gt(d),t=As(t),t!==null)if(r=Rs(t),r===null)t=null;else if(a=r.tag,a===13){if(t=ch(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Co=t,null}function Sh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cx()){case yl:return 1;case ph:return 4;case wo:case Px:return 16;case gh:return 536870912;default:return 16}default:return 16}}var ns=null,kl=null,Po=null;function Eh(){if(Po)return Po;var t,r=kl,a=r.length,d,f="value"in ns?ns.value:ns.textContent,x=f.length;for(t=0;t<a&&r[t]===f[t];t++);var b=a-t;for(d=1;d<=b&&r[a-d]===f[x-d];d++);return Po=f.slice(t,1<d?1-d:void 0)}function Ro(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ao(){return!0}function Th(){return!1}function Lt(t){function r(a,d,f,x,b){this._reactName=a,this._targetInst=f,this.type=d,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(x):x[S]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ao:Th,this.isPropagationStopped=Th,this}return F(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),r}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Lt(cr),mi=F({},cr,{view:0,detail:0}),zx=Lt(mi),El,Tl,pi,Oo=F({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(El=t.screenX-pi.screenX,Tl=t.screenY-pi.screenY):Tl=El=0,pi=t),El)},movementY:function(t){return"movementY"in t?t.movementY:Tl}}),Ch=Lt(Oo),Wx=F({},Oo,{dataTransfer:0}),Hx=Lt(Wx),Gx=F({},mi,{relatedTarget:0}),Cl=Lt(Gx),qx=F({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kx=Lt(qx),Yx=F({},cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jx=Lt(Yx),Qx=F({},cr,{data:0}),Ph=Lt(Qx),Xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tv(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ev[t])?!!r[t]:!1}function Pl(){return tv}var nv=F({},mi,{key:function(t){if(t.key){var r=Xx[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(t){return t.type==="keypress"?Ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sv=Lt(nv),rv=F({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=Lt(rv),iv=F({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),ov=Lt(iv),av=F({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=Lt(av),cv=F({},Oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=Lt(cv),dv=[9,13,27,32],Rl=h&&"CompositionEvent"in window,gi=null;h&&"documentMode"in document&&(gi=document.documentMode);var hv=h&&"TextEvent"in window&&!gi,Ah=h&&(!Rl||gi&&8<gi&&11>=gi),Oh=" ",Ih=!1;function Dh(t,r){switch(t){case"keyup":return dv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function fv(t,r){switch(t){case"compositionend":return Lh(r);case"keypress":return r.which!==32?null:(Ih=!0,Oh);case"textInput":return t=r.data,t===Oh&&Ih?null:t;default:return null}}function mv(t,r){if(ur)return t==="compositionend"||!Rl&&Dh(t,r)?(t=Eh(),Po=kl=ns=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ah&&r.locale!=="ko"?null:r.data;default:return null}}var pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!pv[t.type]:r==="textarea"}function $h(t,r,a,d){ke(d),r=$o(r,"onChange"),0<r.length&&(a=new Sl("onChange","change",null,a,d),t.push({event:a,listeners:r}))}var yi=null,xi=null;function gv(t){nf(t,0)}function Io(t){var r=pr(t);if(Tn(r))return t}function yv(t,r){if(t==="change")return r}var Bh=!1;if(h){var Al;if(h){var Ol="oninput"in document;if(!Ol){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),Ol=typeof Vh.oninput=="function"}Al=Ol}else Al=!1;Bh=Al&&(!document.documentMode||9<document.documentMode)}function Fh(){yi&&(yi.detachEvent("onpropertychange",Uh),xi=yi=null)}function Uh(t){if(t.propertyName==="value"&&Io(xi)){var r=[];$h(r,xi,t,Gt(t)),Ye(gv,r)}}function xv(t,r,a){t==="focusin"?(Fh(),yi=r,xi=a,yi.attachEvent("onpropertychange",Uh)):t==="focusout"&&Fh()}function vv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(xi)}function bv(t,r){if(t==="click")return Io(r)}function wv(t,r){if(t==="input"||t==="change")return Io(r)}function jv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var on=typeof Object.is=="function"?Object.is:jv;function vi(t,r){if(on(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),d=Object.keys(r);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(!m.call(r,f)||!on(t[f],r[f]))return!1}return!0}function zh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wh(t,r){var a=zh(t);t=0;for(var d;a;){if(a.nodeType===3){if(d=t+a.textContent.length,t<=r&&d>=r)return{node:a,offset:r-t};t=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zh(a)}}function Hh(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Hh(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Gh(){for(var t=window,r=ir();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ir(t.document)}return r}function Il(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Nv(t){var r=Gh(),a=t.focusedElem,d=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&Hh(a.ownerDocument.documentElement,a)){if(d!==null&&Il(a)){if(r=d.start,t=d.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=a.textContent.length,x=Math.min(d.start,f);d=d.end===void 0?x:Math.min(d.end,f),!t.extend&&x>d&&(f=d,d=x,x=f),f=Wh(a,x);var b=Wh(a,d);f&&b&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==b.node||t.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),x>d?(t.addRange(r),t.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _v=h&&"documentMode"in document&&11>=document.documentMode,dr=null,Dl=null,bi=null,Ll=!1;function qh(t,r,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ll||dr==null||dr!==ir(d)||(d=dr,"selectionStart"in d&&Il(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),bi&&vi(bi,d)||(bi=d,d=$o(Dl,"onSelect"),0<d.length&&(r=new Sl("onSelect","select",null,r,a),t.push({event:r,listeners:d}),r.target=dr)))}function Do(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var hr={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},Ml={},Kh={};h&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function Lo(t){if(Ml[t])return Ml[t];if(!hr[t])return t;var r=hr[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Kh)return Ml[t]=r[a];return t}var Yh=Lo("animationend"),Jh=Lo("animationiteration"),Qh=Lo("animationstart"),Xh=Lo("transitionend"),Zh=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(t,r){Zh.set(t,r),c(r,[t])}for(var $l=0;$l<ef.length;$l++){var Bl=ef[$l],kv=Bl.toLowerCase(),Sv=Bl[0].toUpperCase()+Bl.slice(1);ss(kv,"on"+Sv)}ss(Yh,"onAnimationEnd"),ss(Jh,"onAnimationIteration"),ss(Qh,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(Xh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function tf(t,r,a){var d=t.type||"unknown-event";t.currentTarget=a,kx(d,r,void 0,t),t.currentTarget=null}function nf(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var d=t[a],f=d.event;d=d.listeners;e:{var x=void 0;if(r)for(var b=d.length-1;0<=b;b--){var S=d[b],C=S.instance,M=S.currentTarget;if(S=S.listener,C!==x&&f.isPropagationStopped())break e;tf(f,S,M),x=C}else for(b=0;b<d.length;b++){if(S=d[b],C=S.instance,M=S.currentTarget,S=S.listener,C!==x&&f.isPropagationStopped())break e;tf(f,S,M),x=C}}}if(oi)throw t=gl,oi=!1,gl=null,t}function De(t,r){var a=r[ql];a===void 0&&(a=r[ql]=new Set);var d=t+"__bubble";a.has(d)||(sf(r,t,2,!1),a.add(d))}function Vl(t,r,a){var d=0;r&&(d|=4),sf(a,t,d,r)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function ji(t){if(!t[Mo]){t[Mo]=!0,i.forEach(function(a){a!=="selectionchange"&&(Ev.has(a)||Vl(a,!1,t),Vl(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Mo]||(r[Mo]=!0,Vl("selectionchange",!1,r))}}function sf(t,r,a,d){switch(Sh(r)){case 1:var f=Fx;break;case 4:f=Ux;break;default:f=Nl}a=f.bind(null,r,a,t),f=void 0,!Jn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),d?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Fl(t,r,a,d,f){var x=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var S=d.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(b===4)for(b=d.return;b!==null;){var C=b.tag;if((C===3||C===4)&&(C=b.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;b=b.return}for(;S!==null;){if(b=As(S),b===null)return;if(C=b.tag,C===5||C===6){d=x=b;continue e}S=S.parentNode}}d=d.return}Ye(function(){var M=x,q=Gt(a),Y=[];e:{var H=Zh.get(t);if(H!==void 0){var se=Sl,oe=t;switch(t){case"keypress":if(Ro(a)===0)break e;case"keydown":case"keyup":se=sv;break;case"focusin":oe="focus",se=Cl;break;case"focusout":oe="blur",se=Cl;break;case"beforeblur":case"afterblur":se=Cl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=ov;break;case Yh:case Jh:case Qh:se=Kx;break;case Xh:se=lv;break;case"scroll":se=zx;break;case"wheel":se=uv;break;case"copy":case"cut":case"paste":se=Jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Rh}var ce=(r&4)!==0,qe=!ce&&t==="scroll",D=ce?H!==null?H+"Capture":null:H;ce=[];for(var A=M,L;A!==null;){L=A;var Q=L.stateNode;if(L.tag===5&&Q!==null&&(L=Q,D!==null&&(Q=rt(A,D),Q!=null&&ce.push(Ni(A,Q,L)))),qe)break;A=A.return}0<ce.length&&(H=new se(H,oe,null,a,q),Y.push({event:H,listeners:ce}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",H&&a!==Ps&&(oe=a.relatedTarget||a.fromElement)&&(As(oe)||oe[An]))break e;if((se||H)&&(H=q.window===q?q:(H=q.ownerDocument)?H.defaultView||H.parentWindow:window,se?(oe=a.relatedTarget||a.toElement,se=M,oe=oe?As(oe):null,oe!==null&&(qe=Rs(oe),oe!==qe||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(se=null,oe=M),se!==oe)){if(ce=Ch,Q="onMouseLeave",D="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(ce=Rh,Q="onPointerLeave",D="onPointerEnter",A="pointer"),qe=se==null?H:pr(se),L=oe==null?H:pr(oe),H=new ce(Q,A+"leave",se,a,q),H.target=qe,H.relatedTarget=L,Q=null,As(q)===M&&(ce=new ce(D,A+"enter",oe,a,q),ce.target=L,ce.relatedTarget=qe,Q=ce),qe=Q,se&&oe)t:{for(ce=se,D=oe,A=0,L=ce;L;L=fr(L))A++;for(L=0,Q=D;Q;Q=fr(Q))L++;for(;0<A-L;)ce=fr(ce),A--;for(;0<L-A;)D=fr(D),L--;for(;A--;){if(ce===D||D!==null&&ce===D.alternate)break t;ce=fr(ce),D=fr(D)}ce=null}else ce=null;se!==null&&rf(Y,H,se,ce,!1),oe!==null&&qe!==null&&rf(Y,qe,oe,ce,!0)}}e:{if(H=M?pr(M):window,se=H.nodeName&&H.nodeName.toLowerCase(),se==="select"||se==="input"&&H.type==="file")var de=yv;else if(Mh(H))if(Bh)de=wv;else{de=vv;var pe=xv}else(se=H.nodeName)&&se.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(de=bv);if(de&&(de=de(t,M))){$h(Y,de,a,q);break e}pe&&pe(t,H,M),t==="focusout"&&(pe=H._wrapperState)&&pe.controlled&&H.type==="number"&&It(H,"number",H.value)}switch(pe=M?pr(M):window,t){case"focusin":(Mh(pe)||pe.contentEditable==="true")&&(dr=pe,Dl=M,bi=null);break;case"focusout":bi=Dl=dr=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,qh(Y,a,q);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":qh(Y,a,q)}var ge;if(Rl)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ur?Dh(t,a)&&(Ne="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ah&&a.locale!=="ko"&&(ur||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ur&&(ge=Eh()):(ns=q,kl="value"in ns?ns.value:ns.textContent,ur=!0)),pe=$o(M,Ne),0<pe.length&&(Ne=new Ph(Ne,t,null,a,q),Y.push({event:Ne,listeners:pe}),ge?Ne.data=ge:(ge=Lh(a),ge!==null&&(Ne.data=ge)))),(ge=hv?fv(t,a):mv(t,a))&&(M=$o(M,"onBeforeInput"),0<M.length&&(q=new Ph("onBeforeInput","beforeinput",null,a,q),Y.push({event:q,listeners:M}),q.data=ge))}nf(Y,r)})}function Ni(t,r,a){return{instance:t,listener:r,currentTarget:a}}function $o(t,r){for(var a=r+"Capture",d=[];t!==null;){var f=t,x=f.stateNode;f.tag===5&&x!==null&&(f=x,x=rt(t,a),x!=null&&d.unshift(Ni(t,x,f)),x=rt(t,r),x!=null&&d.push(Ni(t,x,f))),t=t.return}return d}function fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rf(t,r,a,d,f){for(var x=r._reactName,b=[];a!==null&&a!==d;){var S=a,C=S.alternate,M=S.stateNode;if(C!==null&&C===d)break;S.tag===5&&M!==null&&(S=M,f?(C=rt(a,x),C!=null&&b.unshift(Ni(a,C,S))):f||(C=rt(a,x),C!=null&&b.push(Ni(a,C,S)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var Tv=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function of(t){return(typeof t=="string"?t:""+t).replace(Tv,`
`).replace(Cv,"")}function Bo(t,r,a){if(r=of(r),of(t)!==r&&a)throw Error(s(425))}function Vo(){}var Ul=null,zl=null;function Wl(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,Pv=typeof clearTimeout=="function"?clearTimeout:void 0,af=typeof Promise=="function"?Promise:void 0,Rv=typeof queueMicrotask=="function"?queueMicrotask:typeof af<"u"?function(t){return af.resolve(null).then(t).catch(Av)}:Hl;function Av(t){setTimeout(function(){throw t})}function Gl(t,r){var a=r,d=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(d===0){t.removeChild(f),fi(r);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=f}while(a);fi(r)}function rs(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function lf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var mr=Math.random().toString(36).slice(2),bn="__reactFiber$"+mr,_i="__reactProps$"+mr,An="__reactContainer$"+mr,ql="__reactEvents$"+mr,Ov="__reactListeners$"+mr,Iv="__reactHandles$"+mr;function As(t){var r=t[bn];if(r)return r;for(var a=t.parentNode;a;){if(r=a[An]||a[bn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=lf(t);t!==null;){if(a=t[bn])return a;t=lf(t)}return r}t=a,a=t.parentNode}return null}function ki(t){return t=t[bn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function Fo(t){return t[_i]||null}var Kl=[],gr=-1;function is(t){return{current:t}}function Le(t){0>gr||(t.current=Kl[gr],Kl[gr]=null,gr--)}function Oe(t,r){gr++,Kl[gr]=t.current,t.current=r}var os={},pt=is(os),St=is(!1),Os=os;function yr(t,r){var a=t.type.contextTypes;if(!a)return os;var d=t.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===r)return d.__reactInternalMemoizedMaskedChildContext;var f={},x;for(x in a)f[x]=r[x];return d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Et(t){return t=t.childContextTypes,t!=null}function Uo(){Le(St),Le(pt)}function cf(t,r,a){if(pt.current!==os)throw Error(s(168));Oe(pt,r),Oe(St,a)}function uf(t,r,a){var d=t.stateNode;if(r=r.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var f in d)if(!(f in r))throw Error(s(108,re(t)||"Unknown",f));return F({},a,d)}function zo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,Os=pt.current,Oe(pt,t),Oe(St,St.current),!0}function df(t,r,a){var d=t.stateNode;if(!d)throw Error(s(169));a?(t=uf(t,r,Os),d.__reactInternalMemoizedMergedChildContext=t,Le(St),Le(pt),Oe(pt,t)):Le(St),Oe(St,a)}var On=null,Wo=!1,Yl=!1;function hf(t){On===null?On=[t]:On.push(t)}function Dv(t){Wo=!0,hf(t)}function as(){if(!Yl&&On!==null){Yl=!0;var t=0,r=Re;try{var a=On;for(Re=1;t<a.length;t++){var d=a[t];do d=d(!0);while(d!==null)}On=null,Wo=!1}catch(f){throw On!==null&&(On=On.slice(t+1)),fh(yl,as),f}finally{Re=r,Yl=!1}}return null}var xr=[],vr=0,Ho=null,Go=0,Kt=[],Yt=0,Is=null,In=1,Dn="";function Ds(t,r){xr[vr++]=Go,xr[vr++]=Ho,Ho=t,Go=r}function ff(t,r,a){Kt[Yt++]=In,Kt[Yt++]=Dn,Kt[Yt++]=Is,Is=t;var d=In;t=Dn;var f=32-rn(d)-1;d&=~(1<<f),a+=1;var x=32-rn(r)+f;if(30<x){var b=f-f%5;x=(d&(1<<b)-1).toString(32),d>>=b,f-=b,In=1<<32-rn(r)+f|a<<f|d,Dn=x+t}else In=1<<x|a<<f|d,Dn=t}function Jl(t){t.return!==null&&(Ds(t,1),ff(t,1,0))}function Ql(t){for(;t===Ho;)Ho=xr[--vr],xr[vr]=null,Go=xr[--vr],xr[vr]=null;for(;t===Is;)Is=Kt[--Yt],Kt[Yt]=null,Dn=Kt[--Yt],Kt[Yt]=null,In=Kt[--Yt],Kt[Yt]=null}var Mt=null,$t=null,Me=!1,an=null;function mf(t,r){var a=Zt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function pf(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Mt=t,$t=rs(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Mt=t,$t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Is!==null?{id:In,overflow:Dn}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Zt(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,Mt=t,$t=null,!0):!1;default:return!1}}function Xl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zl(t){if(Me){var r=$t;if(r){var a=r;if(!pf(t,r)){if(Xl(t))throw Error(s(418));r=rs(a.nextSibling);var d=Mt;r&&pf(t,r)?mf(d,a):(t.flags=t.flags&-4097|2,Me=!1,Mt=t)}}else{if(Xl(t))throw Error(s(418));t.flags=t.flags&-4097|2,Me=!1,Mt=t}}}function gf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function qo(t){if(t!==Mt)return!1;if(!Me)return gf(t),Me=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Wl(t.type,t.memoizedProps)),r&&(r=$t)){if(Xl(t))throw yf(),Error(s(418));for(;r;)mf(t,r),r=rs(r.nextSibling)}if(gf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){$t=rs(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}$t=null}}else $t=Mt?rs(t.stateNode.nextSibling):null;return!0}function yf(){for(var t=$t;t;)t=rs(t.nextSibling)}function br(){$t=Mt=null,Me=!1}function ec(t){an===null?an=[t]:an.push(t)}var Lv=O.ReactCurrentBatchConfig;function Si(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var d=a.stateNode}if(!d)throw Error(s(147,t));var f=d,x=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===x?r.ref:(r=function(b){var S=f.refs;b===null?delete S[x]:S[x]=b},r._stringRef=x,r)}if(typeof t!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,t))}return t}function Ko(t,r){throw t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function xf(t){var r=t._init;return r(t._payload)}function vf(t){function r(D,A){if(t){var L=D.deletions;L===null?(D.deletions=[A],D.flags|=16):L.push(A)}}function a(D,A){if(!t)return null;for(;A!==null;)r(D,A),A=A.sibling;return null}function d(D,A){for(D=new Map;A!==null;)A.key!==null?D.set(A.key,A):D.set(A.index,A),A=A.sibling;return D}function f(D,A){return D=ps(D,A),D.index=0,D.sibling=null,D}function x(D,A,L){return D.index=L,t?(L=D.alternate,L!==null?(L=L.index,L<A?(D.flags|=2,A):L):(D.flags|=2,A)):(D.flags|=1048576,A)}function b(D){return t&&D.alternate===null&&(D.flags|=2),D}function S(D,A,L,Q){return A===null||A.tag!==6?(A=Hc(L,D.mode,Q),A.return=D,A):(A=f(A,L),A.return=D,A)}function C(D,A,L,Q){var de=L.type;return de===U?q(D,A,L.props.children,Q,L.key):A!==null&&(A.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===xe&&xf(de)===A.type)?(Q=f(A,L.props),Q.ref=Si(D,A,L),Q.return=D,Q):(Q=xa(L.type,L.key,L.props,null,D.mode,Q),Q.ref=Si(D,A,L),Q.return=D,Q)}function M(D,A,L,Q){return A===null||A.tag!==4||A.stateNode.containerInfo!==L.containerInfo||A.stateNode.implementation!==L.implementation?(A=Gc(L,D.mode,Q),A.return=D,A):(A=f(A,L.children||[]),A.return=D,A)}function q(D,A,L,Q,de){return A===null||A.tag!==7?(A=zs(L,D.mode,Q,de),A.return=D,A):(A=f(A,L),A.return=D,A)}function Y(D,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Hc(""+A,D.mode,L),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case P:return L=xa(A.type,A.key,A.props,null,D.mode,L),L.ref=Si(D,null,A),L.return=D,L;case $:return A=Gc(A,D.mode,L),A.return=D,A;case xe:var Q=A._init;return Y(D,Q(A._payload),L)}if(Es(A)||B(A))return A=zs(A,D.mode,L,null),A.return=D,A;Ko(D,A)}return null}function H(D,A,L,Q){var de=A!==null?A.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return de!==null?null:S(D,A,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return L.key===de?C(D,A,L,Q):null;case $:return L.key===de?M(D,A,L,Q):null;case xe:return de=L._init,H(D,A,de(L._payload),Q)}if(Es(L)||B(L))return de!==null?null:q(D,A,L,Q,null);Ko(D,L)}return null}function se(D,A,L,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return D=D.get(L)||null,S(A,D,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return D=D.get(Q.key===null?L:Q.key)||null,C(A,D,Q,de);case $:return D=D.get(Q.key===null?L:Q.key)||null,M(A,D,Q,de);case xe:var pe=Q._init;return se(D,A,L,pe(Q._payload),de)}if(Es(Q)||B(Q))return D=D.get(L)||null,q(A,D,Q,de,null);Ko(A,Q)}return null}function oe(D,A,L,Q){for(var de=null,pe=null,ge=A,Ne=A=0,at=null;ge!==null&&Ne<L.length;Ne++){ge.index>Ne?(at=ge,ge=null):at=ge.sibling;var Pe=H(D,ge,L[Ne],Q);if(Pe===null){ge===null&&(ge=at);break}t&&ge&&Pe.alternate===null&&r(D,ge),A=x(Pe,A,Ne),pe===null?de=Pe:pe.sibling=Pe,pe=Pe,ge=at}if(Ne===L.length)return a(D,ge),Me&&Ds(D,Ne),de;if(ge===null){for(;Ne<L.length;Ne++)ge=Y(D,L[Ne],Q),ge!==null&&(A=x(ge,A,Ne),pe===null?de=ge:pe.sibling=ge,pe=ge);return Me&&Ds(D,Ne),de}for(ge=d(D,ge);Ne<L.length;Ne++)at=se(ge,D,Ne,L[Ne],Q),at!==null&&(t&&at.alternate!==null&&ge.delete(at.key===null?Ne:at.key),A=x(at,A,Ne),pe===null?de=at:pe.sibling=at,pe=at);return t&&ge.forEach(function(gs){return r(D,gs)}),Me&&Ds(D,Ne),de}function ce(D,A,L,Q){var de=B(L);if(typeof de!="function")throw Error(s(150));if(L=de.call(L),L==null)throw Error(s(151));for(var pe=de=null,ge=A,Ne=A=0,at=null,Pe=L.next();ge!==null&&!Pe.done;Ne++,Pe=L.next()){ge.index>Ne?(at=ge,ge=null):at=ge.sibling;var gs=H(D,ge,Pe.value,Q);if(gs===null){ge===null&&(ge=at);break}t&&ge&&gs.alternate===null&&r(D,ge),A=x(gs,A,Ne),pe===null?de=gs:pe.sibling=gs,pe=gs,ge=at}if(Pe.done)return a(D,ge),Me&&Ds(D,Ne),de;if(ge===null){for(;!Pe.done;Ne++,Pe=L.next())Pe=Y(D,Pe.value,Q),Pe!==null&&(A=x(Pe,A,Ne),pe===null?de=Pe:pe.sibling=Pe,pe=Pe);return Me&&Ds(D,Ne),de}for(ge=d(D,ge);!Pe.done;Ne++,Pe=L.next())Pe=se(ge,D,Ne,Pe.value,Q),Pe!==null&&(t&&Pe.alternate!==null&&ge.delete(Pe.key===null?Ne:Pe.key),A=x(Pe,A,Ne),pe===null?de=Pe:pe.sibling=Pe,pe=Pe);return t&&ge.forEach(function(pb){return r(D,pb)}),Me&&Ds(D,Ne),de}function qe(D,A,L,Q){if(typeof L=="object"&&L!==null&&L.type===U&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case P:e:{for(var de=L.key,pe=A;pe!==null;){if(pe.key===de){if(de=L.type,de===U){if(pe.tag===7){a(D,pe.sibling),A=f(pe,L.props.children),A.return=D,D=A;break e}}else if(pe.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===xe&&xf(de)===pe.type){a(D,pe.sibling),A=f(pe,L.props),A.ref=Si(D,pe,L),A.return=D,D=A;break e}a(D,pe);break}else r(D,pe);pe=pe.sibling}L.type===U?(A=zs(L.props.children,D.mode,Q,L.key),A.return=D,D=A):(Q=xa(L.type,L.key,L.props,null,D.mode,Q),Q.ref=Si(D,A,L),Q.return=D,D=Q)}return b(D);case $:e:{for(pe=L.key;A!==null;){if(A.key===pe)if(A.tag===4&&A.stateNode.containerInfo===L.containerInfo&&A.stateNode.implementation===L.implementation){a(D,A.sibling),A=f(A,L.children||[]),A.return=D,D=A;break e}else{a(D,A);break}else r(D,A);A=A.sibling}A=Gc(L,D.mode,Q),A.return=D,D=A}return b(D);case xe:return pe=L._init,qe(D,A,pe(L._payload),Q)}if(Es(L))return oe(D,A,L,Q);if(B(L))return ce(D,A,L,Q);Ko(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,A!==null&&A.tag===6?(a(D,A.sibling),A=f(A,L),A.return=D,D=A):(a(D,A),A=Hc(L,D.mode,Q),A.return=D,D=A),b(D)):a(D,A)}return qe}var wr=vf(!0),bf=vf(!1),Yo=is(null),Jo=null,jr=null,tc=null;function nc(){tc=jr=Jo=null}function sc(t){var r=Yo.current;Le(Yo),t._currentValue=r}function rc(t,r,a){for(;t!==null;){var d=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),t===a)break;t=t.return}}function Nr(t,r){Jo=t,tc=jr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Tt=!0),t.firstContext=null)}function Jt(t){var r=t._currentValue;if(tc!==t)if(t={context:t,memoizedValue:r,next:null},jr===null){if(Jo===null)throw Error(s(308));jr=t,Jo.dependencies={lanes:0,firstContext:t}}else jr=jr.next=t;return r}var Ls=null;function ic(t){Ls===null?Ls=[t]:Ls.push(t)}function wf(t,r,a,d){var f=r.interleaved;return f===null?(a.next=a,ic(r)):(a.next=f.next,f.next=a),r.interleaved=a,Ln(t,d)}function Ln(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var ls=!1;function oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function cs(t,r,a){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(Ce&2)!==0){var f=d.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),d.pending=r,Ln(t,a)}return f=d.interleaved,f===null?(r.next=r,ic(d)):(r.next=f.next,f.next=r),d.interleaved=r,Ln(t,a)}function Qo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var d=r.lanes;d&=t.pendingLanes,a|=d,r.lanes=a,bl(t,a)}}function Nf(t,r){var a=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var f=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};x===null?f=x=b:x=x.next=b,a=a.next}while(a!==null);x===null?f=x=r:x=x.next=r}else f=x=r;a={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:x,shared:d.shared,effects:d.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Xo(t,r,a,d){var f=t.updateQueue;ls=!1;var x=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var C=S,M=C.next;C.next=null,b===null?x=M:b.next=M,b=C;var q=t.alternate;q!==null&&(q=q.updateQueue,S=q.lastBaseUpdate,S!==b&&(S===null?q.firstBaseUpdate=M:S.next=M,q.lastBaseUpdate=C))}if(x!==null){var Y=f.baseState;b=0,q=M=C=null,S=x;do{var H=S.lane,se=S.eventTime;if((d&H)===H){q!==null&&(q=q.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var oe=t,ce=S;switch(H=r,se=a,ce.tag){case 1:if(oe=ce.payload,typeof oe=="function"){Y=oe.call(se,Y,H);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ce.payload,H=typeof oe=="function"?oe.call(se,Y,H):oe,H==null)break e;Y=F({},Y,H);break e;case 2:ls=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,H=f.effects,H===null?f.effects=[S]:H.push(S))}else se={eventTime:se,lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},q===null?(M=q=se,C=Y):q=q.next=se,b|=H;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;H=S,S=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);if(q===null&&(C=Y),f.baseState=C,f.firstBaseUpdate=M,f.lastBaseUpdate=q,r=f.shared.interleaved,r!==null){f=r;do b|=f.lane,f=f.next;while(f!==r)}else x===null&&(f.shared.lanes=0);Bs|=b,t.lanes=b,t.memoizedState=Y}}function _f(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var d=t[r],f=d.callback;if(f!==null){if(d.callback=null,d=a,typeof f!="function")throw Error(s(191,f));f.call(d)}}}var Ei={},wn=is(Ei),Ti=is(Ei),Ci=is(Ei);function Ms(t){if(t===Ei)throw Error(s(174));return t}function ac(t,r){switch(Oe(Ci,r),Oe(Ti,t),Oe(wn,Ei),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ni(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ni(r,t)}Le(wn),Oe(wn,r)}function _r(){Le(wn),Le(Ti),Le(Ci)}function kf(t){Ms(Ci.current);var r=Ms(wn.current),a=ni(r,t.type);r!==a&&(Oe(Ti,t),Oe(wn,a))}function lc(t){Ti.current===t&&(Le(wn),Le(Ti))}var Be=is(0);function Zo(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cc=[];function uc(){for(var t=0;t<cc.length;t++)cc[t]._workInProgressVersionPrimary=null;cc.length=0}var ea=O.ReactCurrentDispatcher,dc=O.ReactCurrentBatchConfig,$s=0,Ve=null,et=null,it=null,ta=!1,Pi=!1,Ri=0,Mv=0;function gt(){throw Error(s(321))}function hc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!on(t[a],r[a]))return!1;return!0}function fc(t,r,a,d,f,x){if($s=x,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ea.current=t===null||t.memoizedState===null?Fv:Uv,t=a(d,f),Pi){x=0;do{if(Pi=!1,Ri=0,25<=x)throw Error(s(301));x+=1,it=et=null,r.updateQueue=null,ea.current=zv,t=a(d,f)}while(Pi)}if(ea.current=ra,r=et!==null&&et.next!==null,$s=0,it=et=Ve=null,ta=!1,r)throw Error(s(300));return t}function mc(){var t=Ri!==0;return Ri=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ve.memoizedState=it=t:it=it.next=t,it}function Qt(){if(et===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var r=it===null?Ve.memoizedState:it.next;if(r!==null)it=r,et=t;else{if(t===null)throw Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?Ve.memoizedState=it=t:it=it.next=t}return it}function Ai(t,r){return typeof r=="function"?r(t):r}function pc(t){var r=Qt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var d=et,f=d.baseQueue,x=a.pending;if(x!==null){if(f!==null){var b=f.next;f.next=x.next,x.next=b}d.baseQueue=f=x,a.pending=null}if(f!==null){x=f.next,d=d.baseState;var S=b=null,C=null,M=x;do{var q=M.lane;if(($s&q)===q)C!==null&&(C=C.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),d=M.hasEagerState?M.eagerState:t(d,M.action);else{var Y={lane:q,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};C===null?(S=C=Y,b=d):C=C.next=Y,Ve.lanes|=q,Bs|=q}M=M.next}while(M!==null&&M!==x);C===null?b=d:C.next=S,on(d,r.memoizedState)||(Tt=!0),r.memoizedState=d,r.baseState=b,r.baseQueue=C,a.lastRenderedState=d}if(t=a.interleaved,t!==null){f=t;do x=f.lane,Ve.lanes|=x,Bs|=x,f=f.next;while(f!==t)}else f===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function gc(t){var r=Qt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var d=a.dispatch,f=a.pending,x=r.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do x=t(x,b.action),b=b.next;while(b!==f);on(x,r.memoizedState)||(Tt=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),a.lastRenderedState=x}return[x,d]}function Sf(){}function Ef(t,r){var a=Ve,d=Qt(),f=r(),x=!on(d.memoizedState,f);if(x&&(d.memoizedState=f,Tt=!0),d=d.queue,yc(Pf.bind(null,a,d,t),[t]),d.getSnapshot!==r||x||it!==null&&it.memoizedState.tag&1){if(a.flags|=2048,Oi(9,Cf.bind(null,a,d,f,r),void 0,null),ot===null)throw Error(s(349));($s&30)!==0||Tf(a,r,f)}return f}function Tf(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ve.updateQueue,r===null?(r={lastEffect:null,stores:null},Ve.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Cf(t,r,a,d){r.value=a,r.getSnapshot=d,Rf(r)&&Af(t)}function Pf(t,r,a){return a(function(){Rf(r)&&Af(t)})}function Rf(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!on(t,a)}catch{return!0}}function Af(t){var r=Ln(t,1);r!==null&&dn(r,t,1,-1)}function Of(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},r.queue=t,t=t.dispatch=Vv.bind(null,Ve,t),[r.memoizedState,t]}function Oi(t,r,a,d){return t={tag:t,create:r,destroy:a,deps:d,next:null},r=Ve.updateQueue,r===null?(r={lastEffect:null,stores:null},Ve.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(d=a.next,a.next=t,t.next=d,r.lastEffect=t)),t}function If(){return Qt().memoizedState}function na(t,r,a,d){var f=jn();Ve.flags|=t,f.memoizedState=Oi(1|r,a,void 0,d===void 0?null:d)}function sa(t,r,a,d){var f=Qt();d=d===void 0?null:d;var x=void 0;if(et!==null){var b=et.memoizedState;if(x=b.destroy,d!==null&&hc(d,b.deps)){f.memoizedState=Oi(r,a,x,d);return}}Ve.flags|=t,f.memoizedState=Oi(1|r,a,x,d)}function Df(t,r){return na(8390656,8,t,r)}function yc(t,r){return sa(2048,8,t,r)}function Lf(t,r){return sa(4,2,t,r)}function Mf(t,r){return sa(4,4,t,r)}function $f(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Bf(t,r,a){return a=a!=null?a.concat([t]):null,sa(4,4,$f.bind(null,r,t),a)}function xc(){}function Vf(t,r){var a=Qt();r=r===void 0?null:r;var d=a.memoizedState;return d!==null&&r!==null&&hc(r,d[1])?d[0]:(a.memoizedState=[t,r],t)}function Ff(t,r){var a=Qt();r=r===void 0?null:r;var d=a.memoizedState;return d!==null&&r!==null&&hc(r,d[1])?d[0]:(t=t(),a.memoizedState=[t,r],t)}function Uf(t,r,a){return($s&21)===0?(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=a):(on(a,r)||(a=yh(),Ve.lanes|=a,Bs|=a,t.baseState=!0),r)}function $v(t,r){var a=Re;Re=a!==0&&4>a?a:4,t(!0);var d=dc.transition;dc.transition={};try{t(!1),r()}finally{Re=a,dc.transition=d}}function zf(){return Qt().memoizedState}function Bv(t,r,a){var d=fs(t);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Wf(t))Hf(r,a);else if(a=wf(t,r,a,d),a!==null){var f=_t();dn(a,t,d,f),Gf(a,r,d)}}function Vv(t,r,a){var d=fs(t),f={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wf(t))Hf(r,f);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var b=r.lastRenderedState,S=x(b,a);if(f.hasEagerState=!0,f.eagerState=S,on(S,b)){var C=r.interleaved;C===null?(f.next=f,ic(r)):(f.next=C.next,C.next=f),r.interleaved=f;return}}catch{}finally{}a=wf(t,r,f,d),a!==null&&(f=_t(),dn(a,t,d,f),Gf(a,r,d))}}function Wf(t){var r=t.alternate;return t===Ve||r!==null&&r===Ve}function Hf(t,r){Pi=ta=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Gf(t,r,a){if((a&4194240)!==0){var d=r.lanes;d&=t.pendingLanes,a|=d,r.lanes=a,bl(t,a)}}var ra={readContext:Jt,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},Fv={readContext:Jt,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:Jt,useEffect:Df,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,na(4194308,4,$f.bind(null,r,t),a)},useLayoutEffect:function(t,r){return na(4194308,4,t,r)},useInsertionEffect:function(t,r){return na(4,2,t,r)},useMemo:function(t,r){var a=jn();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var d=jn();return r=a!==void 0?a(r):r,d.memoizedState=d.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},d.queue=t,t=t.dispatch=Bv.bind(null,Ve,t),[d.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:Of,useDebugValue:xc,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=Of(!1),r=t[0];return t=$v.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var d=Ve,f=jn();if(Me){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));($s&30)!==0||Tf(d,r,a)}f.memoizedState=a;var x={value:a,getSnapshot:r};return f.queue=x,Df(Pf.bind(null,d,x,t),[t]),d.flags|=2048,Oi(9,Cf.bind(null,d,x,a,r),void 0,null),a},useId:function(){var t=jn(),r=ot.identifierPrefix;if(Me){var a=Dn,d=In;a=(d&~(1<<32-rn(d)-1)).toString(32)+a,r=":"+r+"R"+a,a=Ri++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Mv++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Uv={readContext:Jt,useCallback:Vf,useContext:Jt,useEffect:yc,useImperativeHandle:Bf,useInsertionEffect:Lf,useLayoutEffect:Mf,useMemo:Ff,useReducer:pc,useRef:If,useState:function(){return pc(Ai)},useDebugValue:xc,useDeferredValue:function(t){var r=Qt();return Uf(r,et.memoizedState,t)},useTransition:function(){var t=pc(Ai)[0],r=Qt().memoizedState;return[t,r]},useMutableSource:Sf,useSyncExternalStore:Ef,useId:zf,unstable_isNewReconciler:!1},zv={readContext:Jt,useCallback:Vf,useContext:Jt,useEffect:yc,useImperativeHandle:Bf,useInsertionEffect:Lf,useLayoutEffect:Mf,useMemo:Ff,useReducer:gc,useRef:If,useState:function(){return gc(Ai)},useDebugValue:xc,useDeferredValue:function(t){var r=Qt();return et===null?r.memoizedState=t:Uf(r,et.memoizedState,t)},useTransition:function(){var t=gc(Ai)[0],r=Qt().memoizedState;return[t,r]},useMutableSource:Sf,useSyncExternalStore:Ef,useId:zf,unstable_isNewReconciler:!1};function ln(t,r){if(t&&t.defaultProps){r=F({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function vc(t,r,a,d){r=t.memoizedState,a=a(d,r),a=a==null?r:F({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ia={isMounted:function(t){return(t=t._reactInternals)?Rs(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var d=_t(),f=fs(t),x=Mn(d,f);x.payload=r,a!=null&&(x.callback=a),r=cs(t,x,f),r!==null&&(dn(r,t,f,d),Qo(r,t,f))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var d=_t(),f=fs(t),x=Mn(d,f);x.tag=1,x.payload=r,a!=null&&(x.callback=a),r=cs(t,x,f),r!==null&&(dn(r,t,f,d),Qo(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_t(),d=fs(t),f=Mn(a,d);f.tag=2,r!=null&&(f.callback=r),r=cs(t,f,d),r!==null&&(dn(r,t,d,a),Qo(r,t,d))}};function qf(t,r,a,d,f,x,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,x,b):r.prototype&&r.prototype.isPureReactComponent?!vi(a,d)||!vi(f,x):!0}function Kf(t,r,a){var d=!1,f=os,x=r.contextType;return typeof x=="object"&&x!==null?x=Jt(x):(f=Et(r)?Os:pt.current,d=r.contextTypes,x=(d=d!=null)?yr(t,f):os),r=new r(a,x),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ia,t.stateNode=r,r._reactInternals=t,d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=x),r}function Yf(t,r,a,d){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,d),r.state!==t&&ia.enqueueReplaceState(r,r.state,null)}function bc(t,r,a,d){var f=t.stateNode;f.props=a,f.state=t.memoizedState,f.refs={},oc(t);var x=r.contextType;typeof x=="object"&&x!==null?f.context=Jt(x):(x=Et(r)?Os:pt.current,f.context=yr(t,x)),f.state=t.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(vc(t,r,x,a),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&ia.enqueueReplaceState(f,f.state,null),Xo(t,a,f,d),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function kr(t,r){try{var a="",d=r;do a+=ue(d),d=d.return;while(d);var f=a}catch(x){f=`
Error generating stack: `+x.message+`
`+x.stack}return{value:t,source:r,stack:f,digest:null}}function wc(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function jc(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Wv=typeof WeakMap=="function"?WeakMap:Map;function Jf(t,r,a){a=Mn(-1,a),a.tag=3,a.payload={element:null};var d=r.value;return a.callback=function(){ha||(ha=!0,Mc=d),jc(t,r)},a}function Qf(t,r,a){a=Mn(-1,a),a.tag=3;var d=t.type.getDerivedStateFromError;if(typeof d=="function"){var f=r.value;a.payload=function(){return d(f)},a.callback=function(){jc(t,r)}}var x=t.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){jc(t,r),typeof d!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})}),a}function Xf(t,r,a){var d=t.pingCache;if(d===null){d=t.pingCache=new Wv;var f=new Set;d.set(r,f)}else f=d.get(r),f===void 0&&(f=new Set,d.set(r,f));f.has(a)||(f.add(a),t=rb.bind(null,t,r,a),r.then(t,t))}function Zf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function em(t,r,a,d,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Mn(-1,1),r.tag=2,cs(a,r,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var Hv=O.ReactCurrentOwner,Tt=!1;function Nt(t,r,a,d){r.child=t===null?bf(r,null,a,d):wr(r,t.child,a,d)}function tm(t,r,a,d,f){a=a.render;var x=r.ref;return Nr(r,f),d=fc(t,r,a,d,x,f),a=mc(),t!==null&&!Tt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,$n(t,r,f)):(Me&&a&&Jl(r),r.flags|=1,Nt(t,r,d,f),r.child)}function nm(t,r,a,d,f){if(t===null){var x=a.type;return typeof x=="function"&&!Wc(x)&&x.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=x,sm(t,r,x,d,f)):(t=xa(a.type,null,d,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(x=t.child,(t.lanes&f)===0){var b=x.memoizedProps;if(a=a.compare,a=a!==null?a:vi,a(b,d)&&t.ref===r.ref)return $n(t,r,f)}return r.flags|=1,t=ps(x,d),t.ref=r.ref,t.return=r,r.child=t}function sm(t,r,a,d,f){if(t!==null){var x=t.memoizedProps;if(vi(x,d)&&t.ref===r.ref)if(Tt=!1,r.pendingProps=d=x,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Tt=!0);else return r.lanes=t.lanes,$n(t,r,f)}return Nc(t,r,a,d,f)}function rm(t,r,a){var d=r.pendingProps,f=d.children,x=t!==null?t.memoizedState:null;if(d.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Er,Bt),Bt|=a;else{if((a&1073741824)===0)return t=x!==null?x.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Oe(Er,Bt),Bt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:a,Oe(Er,Bt),Bt|=d}else x!==null?(d=x.baseLanes|a,r.memoizedState=null):d=a,Oe(Er,Bt),Bt|=d;return Nt(t,r,f,a),r.child}function im(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Nc(t,r,a,d,f){var x=Et(a)?Os:pt.current;return x=yr(r,x),Nr(r,f),a=fc(t,r,a,d,x,f),d=mc(),t!==null&&!Tt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,$n(t,r,f)):(Me&&d&&Jl(r),r.flags|=1,Nt(t,r,a,f),r.child)}function om(t,r,a,d,f){if(Et(a)){var x=!0;zo(r)}else x=!1;if(Nr(r,f),r.stateNode===null)aa(t,r),Kf(r,a,d),bc(r,a,d,f),d=!0;else if(t===null){var b=r.stateNode,S=r.memoizedProps;b.props=S;var C=b.context,M=a.contextType;typeof M=="object"&&M!==null?M=Jt(M):(M=Et(a)?Os:pt.current,M=yr(r,M));var q=a.getDerivedStateFromProps,Y=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function";Y||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==d||C!==M)&&Yf(r,b,d,M),ls=!1;var H=r.memoizedState;b.state=H,Xo(r,d,b,f),C=r.memoizedState,S!==d||H!==C||St.current||ls?(typeof q=="function"&&(vc(r,a,q,d),C=r.memoizedState),(S=ls||qf(r,a,S,d,H,C,M))?(Y||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=C),b.props=d,b.state=C,b.context=M,d=S):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{b=r.stateNode,jf(t,r),S=r.memoizedProps,M=r.type===r.elementType?S:ln(r.type,S),b.props=M,Y=r.pendingProps,H=b.context,C=a.contextType,typeof C=="object"&&C!==null?C=Jt(C):(C=Et(a)?Os:pt.current,C=yr(r,C));var se=a.getDerivedStateFromProps;(q=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==Y||H!==C)&&Yf(r,b,d,C),ls=!1,H=r.memoizedState,b.state=H,Xo(r,d,b,f);var oe=r.memoizedState;S!==Y||H!==oe||St.current||ls?(typeof se=="function"&&(vc(r,a,se,d),oe=r.memoizedState),(M=ls||qf(r,a,M,d,H,oe,C)||!1)?(q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,oe,C),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,oe,C)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=oe),b.props=d,b.state=oe,b.context=C,d=M):(typeof b.componentDidUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),d=!1)}return _c(t,r,a,d,x,f)}function _c(t,r,a,d,f,x){im(t,r);var b=(r.flags&128)!==0;if(!d&&!b)return f&&df(r,a,!1),$n(t,r,x);d=r.stateNode,Hv.current=r;var S=b&&typeof a.getDerivedStateFromError!="function"?null:d.render();return r.flags|=1,t!==null&&b?(r.child=wr(r,t.child,null,x),r.child=wr(r,null,S,x)):Nt(t,r,S,x),r.memoizedState=d.state,f&&df(r,a,!0),r.child}function am(t){var r=t.stateNode;r.pendingContext?cf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&cf(t,r.context,!1),ac(t,r.containerInfo)}function lm(t,r,a,d,f){return br(),ec(f),r.flags|=256,Nt(t,r,a,d),r.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function Sc(t){return{baseLanes:t,cachePool:null,transitions:null}}function cm(t,r,a){var d=r.pendingProps,f=Be.current,x=!1,b=(r.flags&128)!==0,S;if((S=b)||(S=t!==null&&t.memoizedState===null?!1:(f&2)!==0),S?(x=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Oe(Be,f&1),t===null)return Zl(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(b=d.children,t=d.fallback,x?(d=r.mode,x=r.child,b={mode:"hidden",children:b},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=b):x=va(b,d,0,null),t=zs(t,d,a,null),x.return=r,t.return=r,x.sibling=t,r.child=x,r.child.memoizedState=Sc(a),r.memoizedState=kc,t):Ec(r,b));if(f=t.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return Gv(t,r,b,d,S,f,a);if(x){x=d.fallback,b=r.mode,f=t.child,S=f.sibling;var C={mode:"hidden",children:d.children};return(b&1)===0&&r.child!==f?(d=r.child,d.childLanes=0,d.pendingProps=C,r.deletions=null):(d=ps(f,C),d.subtreeFlags=f.subtreeFlags&14680064),S!==null?x=ps(S,x):(x=zs(x,b,a,null),x.flags|=2),x.return=r,d.return=r,d.sibling=x,r.child=d,d=x,x=r.child,b=t.child.memoizedState,b=b===null?Sc(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},x.memoizedState=b,x.childLanes=t.childLanes&~a,r.memoizedState=kc,d}return x=t.child,t=x.sibling,d=ps(x,{mode:"visible",children:d.children}),(r.mode&1)===0&&(d.lanes=a),d.return=r,d.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=d,r.memoizedState=null,d}function Ec(t,r){return r=va({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function oa(t,r,a,d){return d!==null&&ec(d),wr(r,t.child,null,a),t=Ec(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Gv(t,r,a,d,f,x,b){if(a)return r.flags&256?(r.flags&=-257,d=wc(Error(s(422))),oa(t,r,b,d)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(x=d.fallback,f=r.mode,d=va({mode:"visible",children:d.children},f,0,null),x=zs(x,f,b,null),x.flags|=2,d.return=r,x.return=r,d.sibling=x,r.child=d,(r.mode&1)!==0&&wr(r,t.child,null,b),r.child.memoizedState=Sc(b),r.memoizedState=kc,x);if((r.mode&1)===0)return oa(t,r,b,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var S=d.dgst;return d=S,x=Error(s(419)),d=wc(x,d,void 0),oa(t,r,b,d)}if(S=(b&t.childLanes)!==0,Tt||S){if(d=ot,d!==null){switch(b&-b){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|b))!==0?0:f,f!==0&&f!==x.retryLane&&(x.retryLane=f,Ln(t,f),dn(d,t,f,-1))}return zc(),d=wc(Error(s(421))),oa(t,r,b,d)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=ib.bind(null,t),f._reactRetry=r,null):(t=x.treeContext,$t=rs(f.nextSibling),Mt=r,Me=!0,an=null,t!==null&&(Kt[Yt++]=In,Kt[Yt++]=Dn,Kt[Yt++]=Is,In=t.id,Dn=t.overflow,Is=r),r=Ec(r,d.children),r.flags|=4096,r)}function um(t,r,a){t.lanes|=r;var d=t.alternate;d!==null&&(d.lanes|=r),rc(t.return,r,a)}function Tc(t,r,a,d,f){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:f}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=a,x.tailMode=f)}function dm(t,r,a){var d=r.pendingProps,f=d.revealOrder,x=d.tail;if(Nt(t,r,d.children,a),d=Be.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&um(t,a,r);else if(t.tag===19)um(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}if(Oe(Be,d),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Zo(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Tc(r,!1,f,a,x);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Zo(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Tc(r,!0,a,null,x);break;case"together":Tc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function aa(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function $n(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Bs|=r.lanes,(a&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ps(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ps(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function qv(t,r,a){switch(r.tag){case 3:am(r),br();break;case 5:kf(r);break;case 1:Et(r.type)&&zo(r);break;case 4:ac(r,r.stateNode.containerInfo);break;case 10:var d=r.type._context,f=r.memoizedProps.value;Oe(Yo,d._currentValue),d._currentValue=f;break;case 13:if(d=r.memoizedState,d!==null)return d.dehydrated!==null?(Oe(Be,Be.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?cm(t,r,a):(Oe(Be,Be.current&1),t=$n(t,r,a),t!==null?t.sibling:null);Oe(Be,Be.current&1);break;case 19:if(d=(a&r.childLanes)!==0,(t.flags&128)!==0){if(d)return dm(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Oe(Be,Be.current),d)break;return null;case 22:case 23:return r.lanes=0,rm(t,r,a)}return $n(t,r,a)}var hm,Cc,fm,mm;hm=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Cc=function(){},fm=function(t,r,a,d){var f=t.memoizedProps;if(f!==d){t=r.stateNode,Ms(wn.current);var x=null;switch(a){case"input":f=Ss(t,f),d=Ss(t,d),x=[];break;case"select":f=F({},f,{value:void 0}),d=F({},d,{value:void 0}),x=[];break;case"textarea":f=lt(t,f),d=lt(t,d),x=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(t.onclick=Vo)}ar(a,d);var b;a=null;for(M in f)if(!d.hasOwnProperty(M)&&f.hasOwnProperty(M)&&f[M]!=null)if(M==="style"){var S=f[M];for(b in S)S.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(l.hasOwnProperty(M)?x||(x=[]):(x=x||[]).push(M,null));for(M in d){var C=d[M];if(S=f?.[M],d.hasOwnProperty(M)&&C!==S&&(C!=null||S!=null))if(M==="style")if(S){for(b in S)!S.hasOwnProperty(b)||C&&C.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in C)C.hasOwnProperty(b)&&S[b]!==C[b]&&(a||(a={}),a[b]=C[b])}else a||(x||(x=[]),x.push(M,a)),a=C;else M==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,S=S?S.__html:void 0,C!=null&&S!==C&&(x=x||[]).push(M,C)):M==="children"?typeof C!="string"&&typeof C!="number"||(x=x||[]).push(M,""+C):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(l.hasOwnProperty(M)?(C!=null&&M==="onScroll"&&De("scroll",t),x||S===C||(x=[])):(x=x||[]).push(M,C))}a&&(x=x||[]).push("style",a);var M=x;(r.updateQueue=M)&&(r.flags|=4)}},mm=function(t,r,a,d){a!==d&&(r.flags|=4)};function Ii(t,r){if(!Me)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function yt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,d=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=d,t.childLanes=a,r}function Kv(t,r,a){var d=r.pendingProps;switch(Ql(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return Et(r.type)&&Uo(),yt(r),null;case 3:return d=r.stateNode,_r(),Le(St),Le(pt),uc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(t===null||t.child===null)&&(qo(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,an!==null&&(Vc(an),an=null))),Cc(t,r),yt(r),null;case 5:lc(r);var f=Ms(Ci.current);if(a=r.type,t!==null&&r.stateNode!=null)fm(t,r,a,d,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!d){if(r.stateNode===null)throw Error(s(166));return yt(r),null}if(t=Ms(wn.current),qo(r)){d=r.stateNode,a=r.type;var x=r.memoizedProps;switch(d[bn]=r,d[_i]=x,t=(r.mode&1)!==0,a){case"dialog":De("cancel",d),De("close",d);break;case"iframe":case"object":case"embed":De("load",d);break;case"video":case"audio":for(f=0;f<wi.length;f++)De(wi[f],d);break;case"source":De("error",d);break;case"img":case"image":case"link":De("error",d),De("load",d);break;case"details":De("toggle",d);break;case"input":po(d,x),De("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},De("invalid",d);break;case"textarea":Pn(d,x),De("invalid",d)}ar(a,x),f=null;for(var b in x)if(x.hasOwnProperty(b)){var S=x[b];b==="children"?typeof S=="string"?d.textContent!==S&&(x.suppressHydrationWarning!==!0&&Bo(d.textContent,S,t),f=["children",S]):typeof S=="number"&&d.textContent!==""+S&&(x.suppressHydrationWarning!==!0&&Bo(d.textContent,S,t),f=["children",""+S]):l.hasOwnProperty(b)&&S!=null&&b==="onScroll"&&De("scroll",d)}switch(a){case"input":En(d),ti(d,x,!0);break;case"textarea":En(d),yo(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=Vo)}d=f,r.updateQueue=d,d!==null&&(r.flags|=4)}else{b=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ts(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=b.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof d.is=="string"?t=b.createElement(a,{is:d.is}):(t=b.createElement(a),a==="select"&&(b=t,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):t=b.createElementNS(t,a),t[bn]=r,t[_i]=d,hm(t,r,!1,!1),r.stateNode=t;e:{switch(b=si(a,d),a){case"dialog":De("cancel",t),De("close",t),f=d;break;case"iframe":case"object":case"embed":De("load",t),f=d;break;case"video":case"audio":for(f=0;f<wi.length;f++)De(wi[f],t);f=d;break;case"source":De("error",t),f=d;break;case"img":case"image":case"link":De("error",t),De("load",t),f=d;break;case"details":De("toggle",t),f=d;break;case"input":po(t,d),f=Ss(t,d),De("invalid",t);break;case"option":f=d;break;case"select":t._wrapperState={wasMultiple:!!d.multiple},f=F({},d,{value:void 0}),De("invalid",t);break;case"textarea":Pn(t,d),f=lt(t,d),De("invalid",t);break;default:f=d}ar(a,f),S=f;for(x in S)if(S.hasOwnProperty(x)){var C=S[x];x==="style"?vo(t,C):x==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&or(t,C)):x==="children"?typeof C=="string"?(a!=="textarea"||C!=="")&&Ht(t,C):typeof C=="number"&&Ht(t,""+C):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(l.hasOwnProperty(x)?C!=null&&x==="onScroll"&&De("scroll",t):C!=null&&_(t,x,C,b))}switch(a){case"input":En(t),ti(t,d,!1);break;case"textarea":En(t),yo(t);break;case"option":d.value!=null&&t.setAttribute("value",""+Z(d.value));break;case"select":t.multiple=!!d.multiple,x=d.value,x!=null?Hn(t,!!d.multiple,x,!1):d.defaultValue!=null&&Hn(t,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Vo)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return yt(r),null;case 6:if(t&&r.stateNode!=null)mm(t,r,t.memoizedProps,d);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(a=Ms(Ci.current),Ms(wn.current),qo(r)){if(d=r.stateNode,a=r.memoizedProps,d[bn]=r,(x=d.nodeValue!==a)&&(t=Mt,t!==null))switch(t.tag){case 3:Bo(d.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bo(d.nodeValue,a,(t.mode&1)!==0)}x&&(r.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[bn]=r,r.stateNode=d}return yt(r),null;case 13:if(Le(Be),d=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&$t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)yf(),br(),r.flags|=98560,x=!1;else if(x=qo(r),d!==null&&d.dehydrated!==null){if(t===null){if(!x)throw Error(s(318));if(x=r.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[bn]=r}else br(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),x=!1}else an!==null&&(Vc(an),an=null),x=!0;if(!x)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(d=d!==null,d!==(t!==null&&t.memoizedState!==null)&&d&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Be.current&1)!==0?tt===0&&(tt=3):zc())),r.updateQueue!==null&&(r.flags|=4),yt(r),null);case 4:return _r(),Cc(t,r),t===null&&ji(r.stateNode.containerInfo),yt(r),null;case 10:return sc(r.type._context),yt(r),null;case 17:return Et(r.type)&&Uo(),yt(r),null;case 19:if(Le(Be),x=r.memoizedState,x===null)return yt(r),null;if(d=(r.flags&128)!==0,b=x.rendering,b===null)if(d)Ii(x,!1);else{if(tt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(b=Zo(t),b!==null){for(r.flags|=128,Ii(x,!1),d=b.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),r.subtreeFlags=0,d=a,a=r.child;a!==null;)x=a,t=d,x.flags&=14680066,b=x.alternate,b===null?(x.childLanes=0,x.lanes=t,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=b.childLanes,x.lanes=b.lanes,x.child=b.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=b.memoizedProps,x.memoizedState=b.memoizedState,x.updateQueue=b.updateQueue,x.type=b.type,t=b.dependencies,x.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Oe(Be,Be.current&1|2),r.child}t=t.sibling}x.tail!==null&&Ge()>Tr&&(r.flags|=128,d=!0,Ii(x,!1),r.lanes=4194304)}else{if(!d)if(t=Zo(b),t!==null){if(r.flags|=128,d=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Ii(x,!0),x.tail===null&&x.tailMode==="hidden"&&!b.alternate&&!Me)return yt(r),null}else 2*Ge()-x.renderingStartTime>Tr&&a!==1073741824&&(r.flags|=128,d=!0,Ii(x,!1),r.lanes=4194304);x.isBackwards?(b.sibling=r.child,r.child=b):(a=x.last,a!==null?a.sibling=b:r.child=b,x.last=b)}return x.tail!==null?(r=x.tail,x.rendering=r,x.tail=r.sibling,x.renderingStartTime=Ge(),r.sibling=null,a=Be.current,Oe(Be,d?a&1|2:a&1),r):(yt(r),null);case 22:case 23:return Uc(),d=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==d&&(r.flags|=8192),d&&(r.mode&1)!==0?(Bt&1073741824)!==0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Yv(t,r){switch(Ql(r),r.tag){case 1:return Et(r.type)&&Uo(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return _r(),Le(St),Le(pt),uc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return lc(r),null;case 13:if(Le(Be),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));br()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Le(Be),null;case 4:return _r(),null;case 10:return sc(r.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var la=!1,xt=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Sr(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){ze(t,r,d)}else a.current=null}function Pc(t,r,a){try{a()}catch(d){ze(t,r,d)}}var pm=!1;function Qv(t,r){if(Ul=To,t=Gh(),Il(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var f=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var b=0,S=-1,C=-1,M=0,q=0,Y=t,H=null;t:for(;;){for(var se;Y!==a||f!==0&&Y.nodeType!==3||(S=b+f),Y!==x||d!==0&&Y.nodeType!==3||(C=b+d),Y.nodeType===3&&(b+=Y.nodeValue.length),(se=Y.firstChild)!==null;)H=Y,Y=se;for(;;){if(Y===t)break t;if(H===a&&++M===f&&(S=b),H===x&&++q===d&&(C=b),(se=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=se}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(zl={focusedElem:t,selectionRange:a},To=!1,ie=r;ie!==null;)if(r=ie,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ie=t;else for(;ie!==null;){r=ie;try{var oe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ce=oe.memoizedProps,qe=oe.memoizedState,D=r.stateNode,A=D.getSnapshotBeforeUpdate(r.elementType===r.type?ce:ln(r.type,ce),qe);D.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var L=r.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Q){ze(r,r.return,Q)}if(t=r.sibling,t!==null){t.return=r.return,ie=t;break}ie=r.return}return oe=pm,pm=!1,oe}function Di(t,r,a){var d=r.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&t)===t){var x=f.destroy;f.destroy=void 0,x!==void 0&&Pc(r,a,x)}f=f.next}while(f!==d)}}function ca(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var d=a.create;a.destroy=d()}a=a.next}while(a!==r)}}function Rc(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function gm(t){var r=t.alternate;r!==null&&(t.alternate=null,gm(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[bn],delete r[_i],delete r[ql],delete r[Ov],delete r[Iv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ym(t){return t.tag===5||t.tag===3||t.tag===4}function xm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ym(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ac(t,r,a){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Vo));else if(d!==4&&(t=t.child,t!==null))for(Ac(t,r,a),t=t.sibling;t!==null;)Ac(t,r,a),t=t.sibling}function Oc(t,r,a){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(d!==4&&(t=t.child,t!==null))for(Oc(t,r,a),t=t.sibling;t!==null;)Oc(t,r,a),t=t.sibling}var ut=null,cn=!1;function us(t,r,a){for(a=a.child;a!==null;)vm(t,r,a),a=a.sibling}function vm(t,r,a){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(jo,a)}catch{}switch(a.tag){case 5:xt||Sr(a,r);case 6:var d=ut,f=cn;ut=null,us(t,r,a),ut=d,cn=f,ut!==null&&(cn?(t=ut,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):ut.removeChild(a.stateNode));break;case 18:ut!==null&&(cn?(t=ut,a=a.stateNode,t.nodeType===8?Gl(t.parentNode,a):t.nodeType===1&&Gl(t,a),fi(t)):Gl(ut,a.stateNode));break;case 4:d=ut,f=cn,ut=a.stateNode.containerInfo,cn=!0,us(t,r,a),ut=d,cn=f;break;case 0:case 11:case 14:case 15:if(!xt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var x=f,b=x.destroy;x=x.tag,b!==void 0&&((x&2)!==0||(x&4)!==0)&&Pc(a,r,b),f=f.next}while(f!==d)}us(t,r,a);break;case 1:if(!xt&&(Sr(a,r),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(S){ze(a,r,S)}us(t,r,a);break;case 21:us(t,r,a);break;case 22:a.mode&1?(xt=(d=xt)||a.memoizedState!==null,us(t,r,a),xt=d):us(t,r,a);break;default:us(t,r,a)}}function bm(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Jv),r.forEach(function(d){var f=ob.bind(null,t,d);a.has(d)||(a.add(d),d.then(f,f))})}}function un(t,r){var a=r.deletions;if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];try{var x=t,b=r,S=b;e:for(;S!==null;){switch(S.tag){case 5:ut=S.stateNode,cn=!1;break e;case 3:ut=S.stateNode.containerInfo,cn=!0;break e;case 4:ut=S.stateNode.containerInfo,cn=!0;break e}S=S.return}if(ut===null)throw Error(s(160));vm(x,b,f),ut=null,cn=!1;var C=f.alternate;C!==null&&(C.return=null),f.return=null}catch(M){ze(f,r,M)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)wm(r,t),r=r.sibling}function wm(t,r){var a=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(r,t),Nn(t),d&4){try{Di(3,t,t.return),ca(3,t)}catch(ce){ze(t,t.return,ce)}try{Di(5,t,t.return)}catch(ce){ze(t,t.return,ce)}}break;case 1:un(r,t),Nn(t),d&512&&a!==null&&Sr(a,a.return);break;case 5:if(un(r,t),Nn(t),d&512&&a!==null&&Sr(a,a.return),t.flags&32){var f=t.stateNode;try{Ht(f,"")}catch(ce){ze(t,t.return,ce)}}if(d&4&&(f=t.stateNode,f!=null)){var x=t.memoizedProps,b=a!==null?a.memoizedProps:x,S=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{S==="input"&&x.type==="radio"&&x.name!=null&&ei(f,x),si(S,b);var M=si(S,x);for(b=0;b<C.length;b+=2){var q=C[b],Y=C[b+1];q==="style"?vo(f,Y):q==="dangerouslySetInnerHTML"?or(f,Y):q==="children"?Ht(f,Y):_(f,q,Y,M)}switch(S){case"input":Cn(f,x);break;case"textarea":go(f,x);break;case"select":var H=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!x.multiple;var se=x.value;se!=null?Hn(f,!!x.multiple,se,!1):H!==!!x.multiple&&(x.defaultValue!=null?Hn(f,!!x.multiple,x.defaultValue,!0):Hn(f,!!x.multiple,x.multiple?[]:"",!1))}f[_i]=x}catch(ce){ze(t,t.return,ce)}}break;case 6:if(un(r,t),Nn(t),d&4){if(t.stateNode===null)throw Error(s(162));f=t.stateNode,x=t.memoizedProps;try{f.nodeValue=x}catch(ce){ze(t,t.return,ce)}}break;case 3:if(un(r,t),Nn(t),d&4&&a!==null&&a.memoizedState.isDehydrated)try{fi(r.containerInfo)}catch(ce){ze(t,t.return,ce)}break;case 4:un(r,t),Nn(t);break;case 13:un(r,t),Nn(t),f=t.child,f.flags&8192&&(x=f.memoizedState!==null,f.stateNode.isHidden=x,!x||f.alternate!==null&&f.alternate.memoizedState!==null||(Lc=Ge())),d&4&&bm(t);break;case 22:if(q=a!==null&&a.memoizedState!==null,t.mode&1?(xt=(M=xt)||q,un(r,t),xt=M):un(r,t),Nn(t),d&8192){if(M=t.memoizedState!==null,(t.stateNode.isHidden=M)&&!q&&(t.mode&1)!==0)for(ie=t,q=t.child;q!==null;){for(Y=ie=q;ie!==null;){switch(H=ie,se=H.child,H.tag){case 0:case 11:case 14:case 15:Di(4,H,H.return);break;case 1:Sr(H,H.return);var oe=H.stateNode;if(typeof oe.componentWillUnmount=="function"){d=H,a=H.return;try{r=d,oe.props=r.memoizedProps,oe.state=r.memoizedState,oe.componentWillUnmount()}catch(ce){ze(d,a,ce)}}break;case 5:Sr(H,H.return);break;case 22:if(H.memoizedState!==null){_m(Y);continue}}se!==null?(se.return=H,ie=se):_m(Y)}q=q.sibling}e:for(q=null,Y=t;;){if(Y.tag===5){if(q===null){q=Y;try{f=Y.stateNode,M?(x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(S=Y.stateNode,C=Y.memoizedProps.style,b=C!=null&&C.hasOwnProperty("display")?C.display:null,S.style.display=xo("display",b))}catch(ce){ze(t,t.return,ce)}}}else if(Y.tag===6){if(q===null)try{Y.stateNode.nodeValue=M?"":Y.memoizedProps}catch(ce){ze(t,t.return,ce)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;q===Y&&(q=null),Y=Y.return}q===Y&&(q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:un(r,t),Nn(t),d&4&&bm(t);break;case 21:break;default:un(r,t),Nn(t)}}function Nn(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(ym(a)){var d=a;break e}a=a.return}throw Error(s(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(Ht(f,""),d.flags&=-33);var x=xm(t);Oc(t,x,f);break;case 3:case 4:var b=d.stateNode.containerInfo,S=xm(t);Ac(t,S,b);break;default:throw Error(s(161))}}catch(C){ze(t,t.return,C)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Xv(t,r,a){ie=t,jm(t)}function jm(t,r,a){for(var d=(t.mode&1)!==0;ie!==null;){var f=ie,x=f.child;if(f.tag===22&&d){var b=f.memoizedState!==null||la;if(!b){var S=f.alternate,C=S!==null&&S.memoizedState!==null||xt;S=la;var M=xt;if(la=b,(xt=C)&&!M)for(ie=f;ie!==null;)b=ie,C=b.child,b.tag===22&&b.memoizedState!==null?km(f):C!==null?(C.return=b,ie=C):km(f);for(;x!==null;)ie=x,jm(x),x=x.sibling;ie=f,la=S,xt=M}Nm(t)}else(f.subtreeFlags&8772)!==0&&x!==null?(x.return=f,ie=x):Nm(t)}}function Nm(t){for(;ie!==null;){var r=ie;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:xt||ca(5,r);break;case 1:var d=r.stateNode;if(r.flags&4&&!xt)if(a===null)d.componentDidMount();else{var f=r.elementType===r.type?a.memoizedProps:ln(r.type,a.memoizedProps);d.componentDidUpdate(f,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=r.updateQueue;x!==null&&_f(r,x,d);break;case 3:var b=r.updateQueue;if(b!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}_f(r,b,a)}break;case 5:var S=r.stateNode;if(a===null&&r.flags&4){a=S;var C=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&a.focus();break;case"img":C.src&&(a.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var M=r.alternate;if(M!==null){var q=M.memoizedState;if(q!==null){var Y=q.dehydrated;Y!==null&&fi(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}xt||r.flags&512&&Rc(r)}catch(H){ze(r,r.return,H)}}if(r===t){ie=null;break}if(a=r.sibling,a!==null){a.return=r.return,ie=a;break}ie=r.return}}function _m(t){for(;ie!==null;){var r=ie;if(r===t){ie=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ie=a;break}ie=r.return}}function km(t){for(;ie!==null;){var r=ie;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{ca(4,r)}catch(C){ze(r,a,C)}break;case 1:var d=r.stateNode;if(typeof d.componentDidMount=="function"){var f=r.return;try{d.componentDidMount()}catch(C){ze(r,f,C)}}var x=r.return;try{Rc(r)}catch(C){ze(r,x,C)}break;case 5:var b=r.return;try{Rc(r)}catch(C){ze(r,b,C)}}}catch(C){ze(r,r.return,C)}if(r===t){ie=null;break}var S=r.sibling;if(S!==null){S.return=r.return,ie=S;break}ie=r.return}}var Zv=Math.ceil,ua=O.ReactCurrentDispatcher,Ic=O.ReactCurrentOwner,Xt=O.ReactCurrentBatchConfig,Ce=0,ot=null,Je=null,dt=0,Bt=0,Er=is(0),tt=0,Li=null,Bs=0,da=0,Dc=0,Mi=null,Ct=null,Lc=0,Tr=1/0,Bn=null,ha=!1,Mc=null,ds=null,fa=!1,hs=null,ma=0,$i=0,$c=null,pa=-1,ga=0;function _t(){return(Ce&6)!==0?Ge():pa!==-1?pa:pa=Ge()}function fs(t){return(t.mode&1)===0?1:(Ce&2)!==0&&dt!==0?dt&-dt:Lv.transition!==null?(ga===0&&(ga=yh()),ga):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Sh(t.type)),t)}function dn(t,r,a,d){if(50<$i)throw $i=0,$c=null,Error(s(185));li(t,a,d),((Ce&2)===0||t!==ot)&&(t===ot&&((Ce&2)===0&&(da|=a),tt===4&&ms(t,dt)),Pt(t,d),a===1&&Ce===0&&(r.mode&1)===0&&(Tr=Ge()+500,Wo&&as()))}function Pt(t,r){var a=t.callbackNode;Lx(t,r);var d=ko(t,t===ot?dt:0);if(d===0)a!==null&&mh(a),t.callbackNode=null,t.callbackPriority=0;else if(r=d&-d,t.callbackPriority!==r){if(a!=null&&mh(a),r===1)t.tag===0?Dv(Em.bind(null,t)):hf(Em.bind(null,t)),Rv(function(){(Ce&6)===0&&as()}),a=null;else{switch(xh(d)){case 1:a=yl;break;case 4:a=ph;break;case 16:a=wo;break;case 536870912:a=gh;break;default:a=wo}a=Dm(a,Sm.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function Sm(t,r){if(pa=-1,ga=0,(Ce&6)!==0)throw Error(s(327));var a=t.callbackNode;if(Cr()&&t.callbackNode!==a)return null;var d=ko(t,t===ot?dt:0);if(d===0)return null;if((d&30)!==0||(d&t.expiredLanes)!==0||r)r=ya(t,d);else{r=d;var f=Ce;Ce|=2;var x=Cm();(ot!==t||dt!==r)&&(Bn=null,Tr=Ge()+500,Fs(t,r));do try{nb();break}catch(S){Tm(t,S)}while(!0);nc(),ua.current=x,Ce=f,Je!==null?r=0:(ot=null,dt=0,r=tt)}if(r!==0){if(r===2&&(f=xl(t),f!==0&&(d=f,r=Bc(t,f))),r===1)throw a=Li,Fs(t,0),ms(t,d),Pt(t,Ge()),a;if(r===6)ms(t,d);else{if(f=t.current.alternate,(d&30)===0&&!eb(f)&&(r=ya(t,d),r===2&&(x=xl(t),x!==0&&(d=x,r=Bc(t,x))),r===1))throw a=Li,Fs(t,0),ms(t,d),Pt(t,Ge()),a;switch(t.finishedWork=f,t.finishedLanes=d,r){case 0:case 1:throw Error(s(345));case 2:Us(t,Ct,Bn);break;case 3:if(ms(t,d),(d&130023424)===d&&(r=Lc+500-Ge(),10<r)){if(ko(t,0)!==0)break;if(f=t.suspendedLanes,(f&d)!==d){_t(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Hl(Us.bind(null,t,Ct,Bn),r);break}Us(t,Ct,Bn);break;case 4:if(ms(t,d),(d&4194240)===d)break;for(r=t.eventTimes,f=-1;0<d;){var b=31-rn(d);x=1<<b,b=r[b],b>f&&(f=b),d&=~x}if(d=f,d=Ge()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Zv(d/1960))-d,10<d){t.timeoutHandle=Hl(Us.bind(null,t,Ct,Bn),d);break}Us(t,Ct,Bn);break;case 5:Us(t,Ct,Bn);break;default:throw Error(s(329))}}}return Pt(t,Ge()),t.callbackNode===a?Sm.bind(null,t):null}function Bc(t,r){var a=Mi;return t.current.memoizedState.isDehydrated&&(Fs(t,r).flags|=256),t=ya(t,r),t!==2&&(r=Ct,Ct=a,r!==null&&Vc(r)),t}function Vc(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function eb(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var f=a[d],x=f.getSnapshot;f=f.value;try{if(!on(x(),f))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ms(t,r){for(r&=~Dc,r&=~da,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-rn(r),d=1<<a;t[a]=-1,r&=~d}}function Em(t){if((Ce&6)!==0)throw Error(s(327));Cr();var r=ko(t,0);if((r&1)===0)return Pt(t,Ge()),null;var a=ya(t,r);if(t.tag!==0&&a===2){var d=xl(t);d!==0&&(r=d,a=Bc(t,d))}if(a===1)throw a=Li,Fs(t,0),ms(t,r),Pt(t,Ge()),a;if(a===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Us(t,Ct,Bn),Pt(t,Ge()),null}function Fc(t,r){var a=Ce;Ce|=1;try{return t(r)}finally{Ce=a,Ce===0&&(Tr=Ge()+500,Wo&&as())}}function Vs(t){hs!==null&&hs.tag===0&&(Ce&6)===0&&Cr();var r=Ce;Ce|=1;var a=Xt.transition,d=Re;try{if(Xt.transition=null,Re=1,t)return t()}finally{Re=d,Xt.transition=a,Ce=r,(Ce&6)===0&&as()}}function Uc(){Bt=Er.current,Le(Er)}function Fs(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,Pv(a)),Je!==null)for(a=Je.return;a!==null;){var d=a;switch(Ql(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Uo();break;case 3:_r(),Le(St),Le(pt),uc();break;case 5:lc(d);break;case 4:_r();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:sc(d.type._context);break;case 22:case 23:Uc()}a=a.return}if(ot=t,Je=t=ps(t.current,null),dt=Bt=r,tt=0,Li=null,Dc=da=Bs=0,Ct=Mi=null,Ls!==null){for(r=0;r<Ls.length;r++)if(a=Ls[r],d=a.interleaved,d!==null){a.interleaved=null;var f=d.next,x=a.pending;if(x!==null){var b=x.next;x.next=f,d.next=b}a.pending=d}Ls=null}return t}function Tm(t,r){do{var a=Je;try{if(nc(),ea.current=ra,ta){for(var d=Ve.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}ta=!1}if($s=0,it=et=Ve=null,Pi=!1,Ri=0,Ic.current=null,a===null||a.return===null){tt=1,Li=r,Je=null;break}e:{var x=t,b=a.return,S=a,C=r;if(r=dt,S.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var M=C,q=S,Y=q.tag;if((q.mode&1)===0&&(Y===0||Y===11||Y===15)){var H=q.alternate;H?(q.updateQueue=H.updateQueue,q.memoizedState=H.memoizedState,q.lanes=H.lanes):(q.updateQueue=null,q.memoizedState=null)}var se=Zf(b);if(se!==null){se.flags&=-257,em(se,b,S,x,r),se.mode&1&&Xf(x,M,r),r=se,C=M;var oe=r.updateQueue;if(oe===null){var ce=new Set;ce.add(C),r.updateQueue=ce}else oe.add(C);break e}else{if((r&1)===0){Xf(x,M,r),zc();break e}C=Error(s(426))}}else if(Me&&S.mode&1){var qe=Zf(b);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),em(qe,b,S,x,r),ec(kr(C,S));break e}}x=C=kr(C,S),tt!==4&&(tt=2),Mi===null?Mi=[x]:Mi.push(x),x=b;do{switch(x.tag){case 3:x.flags|=65536,r&=-r,x.lanes|=r;var D=Jf(x,C,r);Nf(x,D);break e;case 1:S=C;var A=x.type,L=x.stateNode;if((x.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ds===null||!ds.has(L)))){x.flags|=65536,r&=-r,x.lanes|=r;var Q=Qf(x,S,r);Nf(x,Q);break e}}x=x.return}while(x!==null)}Rm(a)}catch(de){r=de,Je===a&&a!==null&&(Je=a=a.return);continue}break}while(!0)}function Cm(){var t=ua.current;return ua.current=ra,t===null?ra:t}function zc(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||(Bs&268435455)===0&&(da&268435455)===0||ms(ot,dt)}function ya(t,r){var a=Ce;Ce|=2;var d=Cm();(ot!==t||dt!==r)&&(Bn=null,Fs(t,r));do try{tb();break}catch(f){Tm(t,f)}while(!0);if(nc(),Ce=a,ua.current=d,Je!==null)throw Error(s(261));return ot=null,dt=0,tt}function tb(){for(;Je!==null;)Pm(Je)}function nb(){for(;Je!==null&&!Ex();)Pm(Je)}function Pm(t){var r=Im(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,r===null?Rm(t):Je=r,Ic.current=null}function Rm(t){var r=t;do{var a=r.alternate;if(t=r.return,(r.flags&32768)===0){if(a=Kv(a,r,Bt),a!==null){Je=a;return}}else{if(a=Yv(a,r),a!==null){a.flags&=32767,Je=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Je=null;return}}if(r=r.sibling,r!==null){Je=r;return}Je=r=t}while(r!==null);tt===0&&(tt=5)}function Us(t,r,a){var d=Re,f=Xt.transition;try{Xt.transition=null,Re=1,sb(t,r,a,d)}finally{Xt.transition=f,Re=d}return null}function sb(t,r,a,d){do Cr();while(hs!==null);if((Ce&6)!==0)throw Error(s(327));a=t.finishedWork;var f=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var x=a.lanes|a.childLanes;if(Mx(t,x),t===ot&&(Je=ot=null,dt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||fa||(fa=!0,Dm(wo,function(){return Cr(),null})),x=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||x){x=Xt.transition,Xt.transition=null;var b=Re;Re=1;var S=Ce;Ce|=4,Ic.current=null,Qv(t,a),wm(a,t),Nv(zl),To=!!Ul,zl=Ul=null,t.current=a,Xv(a),Tx(),Ce=S,Re=b,Xt.transition=x}else t.current=a;if(fa&&(fa=!1,hs=t,ma=f),x=t.pendingLanes,x===0&&(ds=null),Rx(a.stateNode),Pt(t,Ge()),r!==null)for(d=t.onRecoverableError,a=0;a<r.length;a++)f=r[a],d(f.value,{componentStack:f.stack,digest:f.digest});if(ha)throw ha=!1,t=Mc,Mc=null,t;return(ma&1)!==0&&t.tag!==0&&Cr(),x=t.pendingLanes,(x&1)!==0?t===$c?$i++:($i=0,$c=t):$i=0,as(),null}function Cr(){if(hs!==null){var t=xh(ma),r=Xt.transition,a=Re;try{if(Xt.transition=null,Re=16>t?16:t,hs===null)var d=!1;else{if(t=hs,hs=null,ma=0,(Ce&6)!==0)throw Error(s(331));var f=Ce;for(Ce|=4,ie=t.current;ie!==null;){var x=ie,b=x.child;if((ie.flags&16)!==0){var S=x.deletions;if(S!==null){for(var C=0;C<S.length;C++){var M=S[C];for(ie=M;ie!==null;){var q=ie;switch(q.tag){case 0:case 11:case 15:Di(8,q,x)}var Y=q.child;if(Y!==null)Y.return=q,ie=Y;else for(;ie!==null;){q=ie;var H=q.sibling,se=q.return;if(gm(q),q===M){ie=null;break}if(H!==null){H.return=se,ie=H;break}ie=se}}}var oe=x.alternate;if(oe!==null){var ce=oe.child;if(ce!==null){oe.child=null;do{var qe=ce.sibling;ce.sibling=null,ce=qe}while(ce!==null)}}ie=x}}if((x.subtreeFlags&2064)!==0&&b!==null)b.return=x,ie=b;else e:for(;ie!==null;){if(x=ie,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Di(9,x,x.return)}var D=x.sibling;if(D!==null){D.return=x.return,ie=D;break e}ie=x.return}}var A=t.current;for(ie=A;ie!==null;){b=ie;var L=b.child;if((b.subtreeFlags&2064)!==0&&L!==null)L.return=b,ie=L;else e:for(b=A;ie!==null;){if(S=ie,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:ca(9,S)}}catch(de){ze(S,S.return,de)}if(S===b){ie=null;break e}var Q=S.sibling;if(Q!==null){Q.return=S.return,ie=Q;break e}ie=S.return}}if(Ce=f,as(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(jo,t)}catch{}d=!0}return d}finally{Re=a,Xt.transition=r}}return!1}function Am(t,r,a){r=kr(a,r),r=Jf(t,r,1),t=cs(t,r,1),r=_t(),t!==null&&(li(t,1,r),Pt(t,r))}function ze(t,r,a){if(t.tag===3)Am(t,t,a);else for(;r!==null;){if(r.tag===3){Am(r,t,a);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ds===null||!ds.has(d))){t=kr(a,t),t=Qf(r,t,1),r=cs(r,t,1),t=_t(),r!==null&&(li(r,1,t),Pt(r,t));break}}r=r.return}}function rb(t,r,a){var d=t.pingCache;d!==null&&d.delete(r),r=_t(),t.pingedLanes|=t.suspendedLanes&a,ot===t&&(dt&a)===a&&(tt===4||tt===3&&(dt&130023424)===dt&&500>Ge()-Lc?Fs(t,0):Dc|=a),Pt(t,r)}function Om(t,r){r===0&&((t.mode&1)===0?r=1:(r=_o,_o<<=1,(_o&130023424)===0&&(_o=4194304)));var a=_t();t=Ln(t,r),t!==null&&(li(t,r,a),Pt(t,a))}function ib(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Om(t,a)}function ob(t,r){var a=0;switch(t.tag){case 13:var d=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:d=t.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(r),Om(t,a)}var Im;Im=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||St.current)Tt=!0;else{if((t.lanes&a)===0&&(r.flags&128)===0)return Tt=!1,qv(t,r,a);Tt=(t.flags&131072)!==0}else Tt=!1,Me&&(r.flags&1048576)!==0&&ff(r,Go,r.index);switch(r.lanes=0,r.tag){case 2:var d=r.type;aa(t,r),t=r.pendingProps;var f=yr(r,pt.current);Nr(r,a),f=fc(null,r,d,t,f,a);var x=mc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Et(d)?(x=!0,zo(r)):x=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,oc(r),f.updater=ia,r.stateNode=f,f._reactInternals=r,bc(r,d,t,a),r=_c(null,r,d,!0,x,a)):(r.tag=0,Me&&x&&Jl(r),Nt(null,r,f,a),r=r.child),r;case 16:d=r.elementType;e:{switch(aa(t,r),t=r.pendingProps,f=d._init,d=f(d._payload),r.type=d,f=r.tag=lb(d),t=ln(d,t),f){case 0:r=Nc(null,r,d,t,a);break e;case 1:r=om(null,r,d,t,a);break e;case 11:r=tm(null,r,d,t,a);break e;case 14:r=nm(null,r,d,ln(d.type,t),a);break e}throw Error(s(306,d,""))}return r;case 0:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:ln(d,f),Nc(t,r,d,f,a);case 1:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:ln(d,f),om(t,r,d,f,a);case 3:e:{if(am(r),t===null)throw Error(s(387));d=r.pendingProps,x=r.memoizedState,f=x.element,jf(t,r),Xo(r,d,null,a);var b=r.memoizedState;if(d=b.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){f=kr(Error(s(423)),r),r=lm(t,r,d,a,f);break e}else if(d!==f){f=kr(Error(s(424)),r),r=lm(t,r,d,a,f);break e}else for($t=rs(r.stateNode.containerInfo.firstChild),Mt=r,Me=!0,an=null,a=bf(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(br(),d===f){r=$n(t,r,a);break e}Nt(t,r,d,a)}r=r.child}return r;case 5:return kf(r),t===null&&Zl(r),d=r.type,f=r.pendingProps,x=t!==null?t.memoizedProps:null,b=f.children,Wl(d,f)?b=null:x!==null&&Wl(d,x)&&(r.flags|=32),im(t,r),Nt(t,r,b,a),r.child;case 6:return t===null&&Zl(r),null;case 13:return cm(t,r,a);case 4:return ac(r,r.stateNode.containerInfo),d=r.pendingProps,t===null?r.child=wr(r,null,d,a):Nt(t,r,d,a),r.child;case 11:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:ln(d,f),tm(t,r,d,f,a);case 7:return Nt(t,r,r.pendingProps,a),r.child;case 8:return Nt(t,r,r.pendingProps.children,a),r.child;case 12:return Nt(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(d=r.type._context,f=r.pendingProps,x=r.memoizedProps,b=f.value,Oe(Yo,d._currentValue),d._currentValue=b,x!==null)if(on(x.value,b)){if(x.children===f.children&&!St.current){r=$n(t,r,a);break e}}else for(x=r.child,x!==null&&(x.return=r);x!==null;){var S=x.dependencies;if(S!==null){b=x.child;for(var C=S.firstContext;C!==null;){if(C.context===d){if(x.tag===1){C=Mn(-1,a&-a),C.tag=2;var M=x.updateQueue;if(M!==null){M=M.shared;var q=M.pending;q===null?C.next=C:(C.next=q.next,q.next=C),M.pending=C}}x.lanes|=a,C=x.alternate,C!==null&&(C.lanes|=a),rc(x.return,a,r),S.lanes|=a;break}C=C.next}}else if(x.tag===10)b=x.type===r.type?null:x.child;else if(x.tag===18){if(b=x.return,b===null)throw Error(s(341));b.lanes|=a,S=b.alternate,S!==null&&(S.lanes|=a),rc(b,a,r),b=x.sibling}else b=x.child;if(b!==null)b.return=x;else for(b=x;b!==null;){if(b===r){b=null;break}if(x=b.sibling,x!==null){x.return=b.return,b=x;break}b=b.return}x=b}Nt(t,r,f.children,a),r=r.child}return r;case 9:return f=r.type,d=r.pendingProps.children,Nr(r,a),f=Jt(f),d=d(f),r.flags|=1,Nt(t,r,d,a),r.child;case 14:return d=r.type,f=ln(d,r.pendingProps),f=ln(d.type,f),nm(t,r,d,f,a);case 15:return sm(t,r,r.type,r.pendingProps,a);case 17:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:ln(d,f),aa(t,r),r.tag=1,Et(d)?(t=!0,zo(r)):t=!1,Nr(r,a),Kf(r,d,f),bc(r,d,f,a),_c(null,r,d,!0,t,a);case 19:return dm(t,r,a);case 22:return rm(t,r,a)}throw Error(s(156,r.tag))};function Dm(t,r){return fh(t,r)}function ab(t,r,a,d){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,r,a,d){return new ab(t,r,a,d)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lb(t){if(typeof t=="function")return Wc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J)return 11;if(t===Ae)return 14}return 2}function ps(t,r){var a=t.alternate;return a===null?(a=Zt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function xa(t,r,a,d,f,x){var b=2;if(d=t,typeof t=="function")Wc(t)&&(b=1);else if(typeof t=="string")b=5;else e:switch(t){case U:return zs(a.children,f,x,r);case W:b=8,f|=8;break;case te:return t=Zt(12,a,r,f|2),t.elementType=te,t.lanes=x,t;case ae:return t=Zt(13,a,r,f),t.elementType=ae,t.lanes=x,t;case Se:return t=Zt(19,a,r,f),t.elementType=Se,t.lanes=x,t;case ne:return va(a,f,x,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:b=10;break e;case _e:b=9;break e;case J:b=11;break e;case Ae:b=14;break e;case xe:b=16,d=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return r=Zt(b,a,r,f),r.elementType=t,r.type=d,r.lanes=x,r}function zs(t,r,a,d){return t=Zt(7,t,d,r),t.lanes=a,t}function va(t,r,a,d){return t=Zt(22,t,d,r),t.elementType=ne,t.lanes=a,t.stateNode={isHidden:!1},t}function Hc(t,r,a){return t=Zt(6,t,null,r),t.lanes=a,t}function Gc(t,r,a){return r=Zt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function cb(t,r,a,d,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function qc(t,r,a,d,f,x,b,S,C){return t=new cb(t,r,a,S,C),r===1?(r=1,x===!0&&(r|=8)):r=0,x=Zt(3,null,null,r),t.current=x,x.stateNode=t,x.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(x),t}function ub(t,r,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:d==null?null:""+d,children:t,containerInfo:r,implementation:a}}function Lm(t){if(!t)return os;t=t._reactInternals;e:{if(Rs(t)!==t||t.tag!==1)throw Error(s(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Et(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(t.tag===1){var a=t.type;if(Et(a))return uf(t,a,r)}return r}function Mm(t,r,a,d,f,x,b,S,C){return t=qc(a,d,!0,t,f,x,b,S,C),t.context=Lm(null),a=t.current,d=_t(),f=fs(a),x=Mn(d,f),x.callback=r??null,cs(a,x,f),t.current.lanes=f,li(t,f,d),Pt(t,d),t}function ba(t,r,a,d){var f=r.current,x=_t(),b=fs(f);return a=Lm(a),r.context===null?r.context=a:r.pendingContext=a,r=Mn(x,b),r.payload={element:t},d=d===void 0?null:d,d!==null&&(r.callback=d),t=cs(f,r,b),t!==null&&(dn(t,f,b,x),Qo(t,f,b)),b}function wa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $m(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Kc(t,r){$m(t,r),(t=t.alternate)&&$m(t,r)}function db(){return null}var Bm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}ja.prototype.render=Yc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));ba(t,r,null,null)},ja.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Vs(function(){ba(null,t,null,null)}),r[An]=null}};function ja(t){this._internalRoot=t}ja.prototype.unstable_scheduleHydration=function(t){if(t){var r=wh();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ts.length&&r!==0&&r<ts[a].priority;a++);ts.splice(a,0,t),a===0&&_h(t)}};function Jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Na(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vm(){}function hb(t,r,a,d,f){if(f){if(typeof d=="function"){var x=d;d=function(){var M=wa(b);x.call(M)}}var b=Mm(r,d,t,0,null,!1,!1,"",Vm);return t._reactRootContainer=b,t[An]=b.current,ji(t.nodeType===8?t.parentNode:t),Vs(),b}for(;f=t.lastChild;)t.removeChild(f);if(typeof d=="function"){var S=d;d=function(){var M=wa(C);S.call(M)}}var C=qc(t,0,!1,null,null,!1,!1,"",Vm);return t._reactRootContainer=C,t[An]=C.current,ji(t.nodeType===8?t.parentNode:t),Vs(function(){ba(r,C,a,d)}),C}function _a(t,r,a,d,f){var x=a._reactRootContainer;if(x){var b=x;if(typeof f=="function"){var S=f;f=function(){var C=wa(b);S.call(C)}}ba(r,b,t,f)}else b=hb(a,r,t,f,d);return wa(b)}vh=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=ai(r.pendingLanes);a!==0&&(bl(r,a|1),Pt(r,Ge()),(Ce&6)===0&&(Tr=Ge()+500,as()))}break;case 13:Vs(function(){var d=Ln(t,1);if(d!==null){var f=_t();dn(d,t,1,f)}}),Kc(t,1)}},wl=function(t){if(t.tag===13){var r=Ln(t,134217728);if(r!==null){var a=_t();dn(r,t,134217728,a)}Kc(t,134217728)}},bh=function(t){if(t.tag===13){var r=fs(t),a=Ln(t,r);if(a!==null){var d=_t();dn(a,t,r,d)}Kc(t,r)}},wh=function(){return Re},jh=function(t,r){var a=Re;try{return Re=t,r()}finally{Re=a}},ri=function(t,r,a){switch(r){case"input":if(Cn(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var d=a[r];if(d!==t&&d.form===t.form){var f=Fo(d);if(!f)throw Error(s(90));Tn(d),Cn(d,f)}}}break;case"textarea":go(t,a);break;case"select":r=a.value,r!=null&&Hn(t,!!a.multiple,r,!1)}},Ze=Fc,mt=Vs;var fb={usingClientEntryPoint:!1,Events:[ki,pr,Fo,ke,He,Fc]},Bi={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mb={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dh(t),t===null?null:t.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{jo=ka.inject(mb),vn=ka}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fb,Rt.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jc(r))throw Error(s(200));return ub(t,r,null,a)},Rt.createRoot=function(t,r){if(!Jc(t))throw Error(s(299));var a=!1,d="",f=Bm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=qc(t,1,!1,null,null,a,!1,d,f),t[An]=r.current,ji(t.nodeType===8?t.parentNode:t),new Yc(r)},Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=dh(r),t=t===null?null:t.stateNode,t},Rt.flushSync=function(t){return Vs(t)},Rt.hydrate=function(t,r,a){if(!Na(r))throw Error(s(200));return _a(null,t,r,!0,a)},Rt.hydrateRoot=function(t,r,a){if(!Jc(t))throw Error(s(405));var d=a!=null&&a.hydratedSources||null,f=!1,x="",b=Bm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),r=Mm(r,null,t,1,a??null,f,!1,x,b),t[An]=r.current,ji(t),d)for(t=0;t<d.length;t++)a=d[t],f=a._getVersion,f=f(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,f]:r.mutableSourceEagerHydrationData.push(a,f);return new ja(r)},Rt.render=function(t,r,a){if(!Na(r))throw Error(s(200));return _a(null,t,r,!1,a)},Rt.unmountComponentAtNode=function(t){if(!Na(t))throw Error(s(40));return t._reactRootContainer?(Vs(function(){_a(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1},Rt.unstable_batchedUpdates=Fc,Rt.unstable_renderSubtreeIntoContainer=function(t,r,a,d){if(!Na(a))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return _a(t,r,a,!1,d)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var Km;function W0(){if(Km)return Zc.exports;Km=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zc.exports=Nb(),Zc.exports}var Ym;function _b(){if(Ym)return Sa;Ym=1;var n=W0();return Sa.createRoot=n.createRoot,Sa.hydrateRoot=n.hydrateRoot,Sa}var kb=_b(),T=fd();const X=hd(T);var Sb=W0();const Eb=hd(Sb);function Tb(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}const Cb=n=>{switch(n){case"success":return Ab;case"info":return Ib;case"warning":return Ob;case"error":return Db;default:return null}},Pb=Array(12).fill(0),Rb=({visible:n,className:e})=>X.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},X.createElement("div",{className:"sonner-spinner"},Pb.map((s,i)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Ab=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ob=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ib=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Db=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Lb=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Mb=()=>{const[n,e]=X.useState(document.hidden);return X.useEffect(()=>{const s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),n};let Eu=1;class $b{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const s=this.subscribers.indexOf(e);this.subscribers.splice(s,1)}),this.publish=e=>{this.subscribers.forEach(s=>s(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var s;const{message:i,...l}=e,c=typeof e?.id=="number"||((s=e.id)==null?void 0:s.length)>0?e.id:Eu++,u=this.toasts.find(m=>m.id===c),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(m=>m.id===c?(this.publish({...m,...e,id:c,title:i}),{...m,...e,id:c,dismissible:h,title:i}):m):this.addToast({title:i,...l,dismissible:h,id:c}),c},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:e,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(i=>i({id:s.id,dismiss:!0}))}),e),this.message=(e,s)=>this.create({...s,message:e}),this.error=(e,s)=>this.create({...s,message:e,type:"error"}),this.success=(e,s)=>this.create({...s,type:"success",message:e}),this.info=(e,s)=>this.create({...s,type:"info",message:e}),this.warning=(e,s)=>this.create({...s,type:"warning",message:e}),this.loading=(e,s)=>this.create({...s,type:"loading",message:e}),this.promise=(e,s)=>{if(!s)return;let i;s.loading!==void 0&&(i=this.create({...s,promise:e,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const l=Promise.resolve(e instanceof Function?e():e);let c=i!==void 0,u;const h=l.then(async p=>{if(u=["resolve",p],X.isValidElement(p))c=!1,this.create({id:i,type:"default",message:p});else if(Vb(p)&&!p.ok){c=!1;const g=typeof s.error=="function"?await s.error(`HTTP error! status: ${p.status}`):s.error,v=typeof s.description=="function"?await s.description(`HTTP error! status: ${p.status}`):s.description,j=typeof g=="object"&&!X.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...j})}else if(p instanceof Error){c=!1;const g=typeof s.error=="function"?await s.error(p):s.error,v=typeof s.description=="function"?await s.description(p):s.description,j=typeof g=="object"&&!X.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...j})}else if(s.success!==void 0){c=!1;const g=typeof s.success=="function"?await s.success(p):s.success,v=typeof s.description=="function"?await s.description(p):s.description,j=typeof g=="object"&&!X.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:v,...j})}}).catch(async p=>{if(u=["reject",p],s.error!==void 0){c=!1;const y=typeof s.error=="function"?await s.error(p):s.error,g=typeof s.description=="function"?await s.description(p):s.description,w=typeof y=="object"&&!X.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:g,...w})}}).finally(()=>{c&&(this.dismiss(i),i=void 0),s.finally==null||s.finally.call(s)}),m=()=>new Promise((p,y)=>h.then(()=>u[0]==="reject"?y(u[1]):p(u[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:m}:Object.assign(i,{unwrap:m})},this.custom=(e,s)=>{const i=s?.id||Eu++;return this.create({jsx:e(i),id:i,...s}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const At=new $b,Bb=(n,e)=>{const s=e?.id||Eu++;return At.addToast({title:n,...e,id:s}),s},Vb=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Fb=Bb,Ub=()=>At.toasts,zb=()=>At.getActiveToasts(),K=Object.assign(Fb,{success:At.success,info:At.info,warning:At.warning,error:At.error,custom:At.custom,message:At.message,promise:At.promise,dismiss:At.dismiss,loading:At.loading},{getHistory:Ub,getToasts:zb});Tb("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ea(n){return n.label!==void 0}const Wb=3,Hb="24px",Gb="16px",Jm=4e3,qb=356,Kb=14,Yb=45,Jb=200;function _n(...n){return n.filter(Boolean).join(" ")}function Qb(n){const[e,s]=n.split("-"),i=[];return e&&i.push(e),s&&i.push(s),i}const Xb=n=>{var e,s,i,l,c,u,h,m,p;const{invert:y,toast:g,unstyled:v,interacting:w,setHeights:j,visibleToasts:N,heights:k,index:E,toasts:I,expanded:_,removeToast:O,defaultRichColors:P,closeButton:$,style:U,cancelButtonStyle:W,actionButtonStyle:te,className:ye="",descriptionClassName:_e="",duration:J,position:ae,gap:Se,expandByDefault:Ae,classNames:xe,icons:ne,closeButtonAriaLabel:G="Close toast"}=n,[B,F]=X.useState(null),[R,z]=X.useState(null),[ee,le]=X.useState(!1),[ue,je]=X.useState(!1),[re,Z]=X.useState(!1),[ve,st]=X.useState(!1),[En,Tn]=X.useState(!1),[ir,Ss]=X.useState(0),[po,ei]=X.useState(0),Cn=X.useRef(g.duration||J||Jm),ti=X.useRef(null),It=X.useRef(null),Es=E===0,Hn=E+1<=N,lt=g.type,Pn=g.dismissible!==!1,go=g.className||"",yo=g.descriptionClassName||"",Ts=X.useMemo(()=>k.findIndex(ke=>ke.toastId===g.id)||0,[k,g.id]),ni=X.useMemo(()=>{var ke;return(ke=g.closeButton)!=null?ke:$},[g.closeButton,$]),Cs=X.useMemo(()=>g.duration||J||Jm,[g.duration,J]),or=X.useRef(0),Ht=X.useRef(0),Gn=X.useRef(0),qn=X.useRef(null),[xo,vo]=ae.split("-"),bo=X.useMemo(()=>k.reduce((ke,He,Ze)=>Ze>=Ts?ke:ke+He.height,0),[k,Ts]),ar=Mb(),si=g.invert||y,Ps=lt==="loading";Ht.current=X.useMemo(()=>Ts*Se+bo,[Ts,bo]),X.useEffect(()=>{Cn.current=Cs},[Cs]),X.useEffect(()=>{le(!0)},[]),X.useEffect(()=>{const ke=It.current;if(ke){const He=ke.getBoundingClientRect().height;return ei(He),j(Ze=>[{toastId:g.id,height:He,position:g.position},...Ze]),()=>j(Ze=>Ze.filter(mt=>mt.toastId!==g.id))}},[j,g.id]),X.useLayoutEffect(()=>{if(!ee)return;const ke=It.current,He=ke.style.height;ke.style.height="auto";const Ze=ke.getBoundingClientRect().height;ke.style.height=He,ei(Ze),j(mt=>mt.find(Ye=>Ye.toastId===g.id)?mt.map(Ye=>Ye.toastId===g.id?{...Ye,height:Ze}:Ye):[{toastId:g.id,height:Ze,position:g.position},...mt])},[ee,g.title,g.description,j,g.id,g.jsx,g.action,g.cancel]);const Gt=X.useCallback(()=>{je(!0),Ss(Ht.current),j(ke=>ke.filter(He=>He.toastId!==g.id)),setTimeout(()=>{O(g)},Jb)},[g,O,j,Ht]);X.useEffect(()=>{if(g.promise&&lt==="loading"||g.duration===1/0||g.type==="loading")return;let ke;return _||w||ar?(()=>{if(Gn.current<or.current){const mt=new Date().getTime()-or.current;Cn.current=Cn.current-mt}Gn.current=new Date().getTime()})():(()=>{Cn.current!==1/0&&(or.current=new Date().getTime(),ke=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Gt()},Cn.current))})(),()=>clearTimeout(ke)},[_,w,g,lt,ar,Gt]),X.useEffect(()=>{g.delete&&(Gt(),g.onDismiss==null||g.onDismiss.call(g,g))},[Gt,g.delete]);function ri(){var ke;if(ne?.loading){var He;return X.createElement("div",{className:_n(xe?.loader,g==null||(He=g.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":lt==="loading"},ne.loading)}return X.createElement(Rb,{className:_n(xe?.loader,g==null||(ke=g.classNames)==null?void 0:ke.loader),visible:lt==="loading"})}const Kn=g.icon||ne?.[lt]||Cb(lt);var Rn,ii;return X.createElement("li",{tabIndex:0,ref:It,className:_n(ye,go,xe?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,xe?.default,xe?.[lt],g==null||(s=g.classNames)==null?void 0:s[lt]),"data-sonner-toast":"","data-rich-colors":(Rn=g.richColors)!=null?Rn:P,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":ee,"data-promise":!!g.promise,"data-swiped":En,"data-removed":ue,"data-visible":Hn,"data-y-position":xo,"data-x-position":vo,"data-index":E,"data-front":Es,"data-swiping":re,"data-dismissible":Pn,"data-type":lt,"data-invert":si,"data-swipe-out":ve,"data-swipe-direction":R,"data-expanded":!!(_||Ae&&ee),"data-testid":g.testId,style:{"--index":E,"--toasts-before":E,"--z-index":I.length-E,"--offset":`${ue?ir:Ht.current}px`,"--initial-height":Ae?"auto":`${po}px`,...U,...g.style},onDragEnd:()=>{Z(!1),F(null),qn.current=null},onPointerDown:ke=>{ke.button!==2&&(Ps||!Pn||(ti.current=new Date,Ss(Ht.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Z(!0),qn.current={x:ke.clientX,y:ke.clientY})))},onPointerUp:()=>{var ke,He,Ze;if(ve||!Pn)return;qn.current=null;const mt=Number(((ke=It.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yn=Number(((He=It.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ye=new Date().getTime()-((Ze=ti.current)==null?void 0:Ze.getTime()),rt=B==="x"?mt:Yn,Jn=Math.abs(rt)/Ye;if(Math.abs(rt)>=Yb||Jn>.11){Ss(Ht.current),g.onDismiss==null||g.onDismiss.call(g,g),z(B==="x"?mt>0?"right":"left":Yn>0?"down":"up"),Gt(),st(!0);return}else{var ct,Dt;(ct=It.current)==null||ct.style.setProperty("--swipe-amount-x","0px"),(Dt=It.current)==null||Dt.style.setProperty("--swipe-amount-y","0px")}Tn(!1),Z(!1),F(null)},onPointerMove:ke=>{var He,Ze,mt;if(!qn.current||!Pn||((He=window.getSelection())==null?void 0:He.toString().length)>0)return;const Ye=ke.clientY-qn.current.y,rt=ke.clientX-qn.current.x;var Jn;const ct=(Jn=n.swipeDirections)!=null?Jn:Qb(ae);!B&&(Math.abs(rt)>1||Math.abs(Ye)>1)&&F(Math.abs(rt)>Math.abs(Ye)?"x":"y");let Dt={x:0,y:0};const Qn=qt=>1/(1.5+Math.abs(qt)/20);if(B==="y"){if(ct.includes("top")||ct.includes("bottom"))if(ct.includes("top")&&Ye<0||ct.includes("bottom")&&Ye>0)Dt.y=Ye;else{const qt=Ye*Qn(Ye);Dt.y=Math.abs(qt)<Math.abs(Ye)?qt:Ye}}else if(B==="x"&&(ct.includes("left")||ct.includes("right")))if(ct.includes("left")&&rt<0||ct.includes("right")&&rt>0)Dt.x=rt;else{const qt=rt*Qn(rt);Dt.x=Math.abs(qt)<Math.abs(rt)?qt:rt}(Math.abs(Dt.x)>0||Math.abs(Dt.y)>0)&&Tn(!0),(Ze=It.current)==null||Ze.style.setProperty("--swipe-amount-x",`${Dt.x}px`),(mt=It.current)==null||mt.style.setProperty("--swipe-amount-y",`${Dt.y}px`)}},ni&&!g.jsx&&lt!=="loading"?X.createElement("button",{"aria-label":G,"data-disabled":Ps,"data-close-button":!0,onClick:Ps||!Pn?()=>{}:()=>{Gt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:_n(xe?.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(ii=ne?.close)!=null?ii:Lb):null,(lt||g.icon||g.promise)&&g.icon!==null&&(ne?.[lt]!==null||g.icon)?X.createElement("div",{"data-icon":"",className:_n(xe?.icon,g==null||(l=g.classNames)==null?void 0:l.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ri():null,g.type!=="loading"?Kn:null):null,X.createElement("div",{"data-content":"",className:_n(xe?.content,g==null||(c=g.classNames)==null?void 0:c.content)},X.createElement("div",{"data-title":"",className:_n(xe?.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?X.createElement("div",{"data-description":"",className:_n(_e,yo,xe?.description,g==null||(h=g.classNames)==null?void 0:h.description)},typeof g.description=="function"?g.description():g.description):null),X.isValidElement(g.cancel)?g.cancel:g.cancel&&Ea(g.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||W,onClick:ke=>{Ea(g.cancel)&&Pn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,ke),Gt())},className:_n(xe?.cancelButton,g==null||(m=g.classNames)==null?void 0:m.cancelButton)},g.cancel.label):null,X.isValidElement(g.action)?g.action:g.action&&Ea(g.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||te,onClick:ke=>{Ea(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,ke),!ke.defaultPrevented&&Gt())},className:_n(xe?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function Qm(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Zb(n,e){const s={};return[n,e].forEach((i,l)=>{const c=l===1,u=c?"--mobile-offset":"--offset",h=c?Gb:Hb;function m(p){["top","right","bottom","left"].forEach(y=>{s[`${u}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?m(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?s[`${u}-${p}`]=h:s[`${u}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):m(h)}),s}const Ua=X.forwardRef(function(e,s){const{id:i,invert:l,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:m,className:p,offset:y,mobileOffset:g,theme:v="light",richColors:w,duration:j,style:N,visibleToasts:k=Wb,toastOptions:E,dir:I=Qm(),gap:_=Kb,icons:O,containerAriaLabel:P="Notifications"}=e,[$,U]=X.useState([]),W=X.useMemo(()=>i?$.filter(ee=>ee.toasterId===i):$.filter(ee=>!ee.toasterId),[$,i]),te=X.useMemo(()=>Array.from(new Set([c].concat(W.filter(ee=>ee.position).map(ee=>ee.position)))),[W,c]),[ye,_e]=X.useState([]),[J,ae]=X.useState(!1),[Se,Ae]=X.useState(!1),[xe,ne]=X.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=X.useRef(null),B=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=X.useRef(null),R=X.useRef(!1),z=X.useCallback(ee=>{U(le=>{var ue;return(ue=le.find(je=>je.id===ee.id))!=null&&ue.delete||At.dismiss(ee.id),le.filter(({id:je})=>je!==ee.id)})},[]);return X.useEffect(()=>At.subscribe(ee=>{if(ee.dismiss){requestAnimationFrame(()=>{U(le=>le.map(ue=>ue.id===ee.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{Eb.flushSync(()=>{U(le=>{const ue=le.findIndex(je=>je.id===ee.id);return ue!==-1?[...le.slice(0,ue),{...le[ue],...ee},...le.slice(ue+1)]:[ee,...le]})})})}),[$]),X.useEffect(()=>{if(v!=="system"){ne(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:le})=>{ne(le?"dark":"light")})}catch{ee.addListener(({matches:ue})=>{try{ne(ue?"dark":"light")}catch(je){console.error(je)}})}},[v]),X.useEffect(()=>{$.length<=1&&ae(!1)},[$]),X.useEffect(()=>{const ee=le=>{var ue;if(u.every(Z=>le[Z]||le.code===Z)){var re;ae(!0),(re=G.current)==null||re.focus()}le.code==="Escape"&&(document.activeElement===G.current||(ue=G.current)!=null&&ue.contains(document.activeElement))&&ae(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[u]),X.useEffect(()=>{if(G.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,R.current=!1)}},[G.current]),X.createElement("section",{ref:s,"aria-label":`${P} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},te.map((ee,le)=>{var ue;const[je,re]=ee.split("-");return W.length?X.createElement("ol",{key:ee,dir:I==="auto"?Qm():I,tabIndex:-1,ref:G,className:p,"data-sonner-toaster":!0,"data-sonner-theme":xe,"data-y-position":je,"data-x-position":re,style:{"--front-toast-height":`${((ue=ye[0])==null?void 0:ue.height)||0}px`,"--width":`${qb}px`,"--gap":`${_}px`,...N,...Zb(y,g)},onBlur:Z=>{R.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(R.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||R.current||(R.current=!0,F.current=Z.relatedTarget)},onMouseEnter:()=>ae(!0),onMouseMove:()=>ae(!0),onMouseLeave:()=>{Se||ae(!1)},onDragEnd:()=>ae(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||Ae(!0)},onPointerUp:()=>Ae(!1)},W.filter(Z=>!Z.position&&le===0||Z.position===ee).map((Z,ve)=>{var st,En;return X.createElement(Xb,{key:Z.id,icons:O,index:ve,toast:Z,defaultRichColors:w,duration:(st=E?.duration)!=null?st:j,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:l,visibleToasts:k,closeButton:(En=E?.closeButton)!=null?En:m,interacting:Se,position:ee,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:z,toasts:W.filter(Tn=>Tn.position==Z.position),heights:ye.filter(Tn=>Tn.position==Z.position),setHeights:_e,expandByDefault:h,gap:_,expanded:J,swipeDirections:e.swipeDirections})})):null}))}),md=T.createContext({});function pd(n){const e=T.useRef(null);return e.current===null&&(e.current=n()),e.current}const gd=typeof window<"u",H0=gd?T.useLayoutEffect:T.useEffect,ll=T.createContext(null);function yd(n,e){n.indexOf(e)===-1&&n.push(e)}function xd(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const Un=(n,e,s)=>s>e?e:s<n?n:s;let vd=()=>{};const zn={},G0=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function q0(n){return typeof n=="object"&&n!==null}const K0=n=>/^0[^.\s]+$/u.test(n);function bd(n){let e;return()=>(e===void 0&&(e=n()),e)}const sn=n=>n,ew=(n,e)=>s=>e(n(s)),co=(...n)=>n.reduce(ew),Zi=(n,e,s)=>{const i=e-n;return i===0?1:(s-n)/i};class wd{constructor(){this.subscriptions=[]}add(e){return yd(this.subscriptions,e),()=>xd(this.subscriptions,e)}notify(e,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,s,i);else for(let c=0;c<l;c++){const u=this.subscriptions[c];u&&u(e,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kn=n=>n*1e3,nn=n=>n/1e3;function Y0(n,e){return e?n*(1e3/e):0}const J0=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,tw=1e-7,nw=12;function sw(n,e,s,i,l){let c,u,h=0;do u=e+(s-e)/2,c=J0(u,i,l)-n,c>0?s=u:e=u;while(Math.abs(c)>tw&&++h<nw);return u}function uo(n,e,s,i){if(n===e&&s===i)return sn;const l=c=>sw(c,0,1,n,s);return c=>c===0||c===1?c:J0(l(c),e,i)}const Q0=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,X0=n=>e=>1-n(1-e),Z0=uo(.33,1.53,.69,.99),jd=X0(Z0),eg=Q0(jd),tg=n=>(n*=2)<1?.5*jd(n):.5*(2-Math.pow(2,-10*(n-1))),Nd=n=>1-Math.sin(Math.acos(n)),ng=X0(Nd),sg=Q0(Nd),rw=uo(.42,0,1,1),iw=uo(0,0,.58,1),rg=uo(.42,0,.58,1),ow=n=>Array.isArray(n)&&typeof n[0]!="number",ig=n=>Array.isArray(n)&&typeof n[0]=="number",aw={linear:sn,easeIn:rw,easeInOut:rg,easeOut:iw,circIn:Nd,circInOut:sg,circOut:ng,backIn:jd,backInOut:eg,backOut:Z0,anticipate:tg},lw=n=>typeof n=="string",Xm=n=>{if(ig(n)){vd(n.length===4);const[e,s,i,l]=n;return uo(e,s,i,l)}else if(lw(n))return aw[n];return n},Ta=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cw(n,e){let s=new Set,i=new Set,l=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),n()),y(h)}const p={schedule:(y,g=!1,v=!1)=>{const j=v&&l?s:i;return g&&u.add(y),j.has(y)||j.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,l){c=!0;return}l=!0,[s,i]=[i,s],s.forEach(m),s.clear(),l=!1,c&&(c=!1,p.process(y))}};return p}const uw=40;function og(n,e){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=Ta.reduce((_,O)=>(_[O]=cw(c),_),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:y,update:g,preRender:v,render:w,postRender:j}=u,N=()=>{const _=zn.useManualTiming?l.timestamp:performance.now();s=!1,zn.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(_-l.timestamp,uw),1)),l.timestamp=_,l.isProcessing=!0,h.process(l),m.process(l),p.process(l),y.process(l),g.process(l),v.process(l),w.process(l),j.process(l),l.isProcessing=!1,s&&e&&(i=!1,n(N))},k=()=>{s=!0,i=!0,l.isProcessing||n(N)};return{schedule:Ta.reduce((_,O)=>{const P=u[O];return _[O]=($,U=!1,W=!1)=>(s||k(),P.schedule($,U,W)),_},{}),cancel:_=>{for(let O=0;O<Ta.length;O++)u[Ta[O]].cancel(_)},state:l,steps:u}}const{schedule:$e,cancel:js,state:ht,steps:nu}=og(typeof requestAnimationFrame<"u"?requestAnimationFrame:sn,!0);let za;function dw(){za=void 0}const Ot={now:()=>(za===void 0&&Ot.set(ht.isProcessing||zn.useManualTiming?ht.timestamp:performance.now()),za),set:n=>{za=n,queueMicrotask(dw)}},ag=n=>e=>typeof e=="string"&&e.startsWith(n),_d=ag("--"),hw=ag("var(--"),kd=n=>hw(n)?fw.test(n.split("/*")[0].trim()):!1,fw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yr={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},eo={...Yr,transform:n=>Un(0,1,n)},Ca={...Yr,default:1},Hi=n=>Math.round(n*1e5)/1e5,Sd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mw(n){return n==null}const pw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ed=(n,e)=>s=>!!(typeof s=="string"&&pw.test(s)&&s.startsWith(n)||e&&!mw(s)&&Object.prototype.hasOwnProperty.call(s,e)),lg=(n,e,s)=>i=>{if(typeof i!="string")return i;const[l,c,u,h]=i.match(Sd);return{[n]:parseFloat(l),[e]:parseFloat(c),[s]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},gw=n=>Un(0,255,n),su={...Yr,transform:n=>Math.round(gw(n))},Qs={test:Ed("rgb","red"),parse:lg("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:i=1})=>"rgba("+su.transform(n)+", "+su.transform(e)+", "+su.transform(s)+", "+Hi(eo.transform(i))+")"};function yw(n){let e="",s="",i="",l="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),i=n.substring(5,7),l=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),i=n.substring(3,4),l=n.substring(4,5),e+=e,s+=s,i+=i,l+=l),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const Tu={test:Ed("#"),parse:yw,transform:Qs.transform},ho=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),xs=ho("deg"),Sn=ho("%"),we=ho("px"),xw=ho("vh"),vw=ho("vw"),Zm={...Sn,parse:n=>Sn.parse(n)/100,transform:n=>Sn.transform(n*100)},Mr={test:Ed("hsl","hue"),parse:lg("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:i=1})=>"hsla("+Math.round(n)+", "+Sn.transform(Hi(e))+", "+Sn.transform(Hi(s))+", "+Hi(eo.transform(i))+")"},Xe={test:n=>Qs.test(n)||Tu.test(n)||Mr.test(n),parse:n=>Qs.test(n)?Qs.parse(n):Mr.test(n)?Mr.parse(n):Tu.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Qs.transform(n):Mr.transform(n),getAnimatableNone:n=>{const e=Xe.parse(n);return e.alpha=0,Xe.transform(e)}},bw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ww(n){return isNaN(n)&&typeof n=="string"&&(n.match(Sd)?.length||0)+(n.match(bw)?.length||0)>0}const cg="number",ug="color",jw="var",Nw="var(",ep="${}",_w=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function to(n){const e=n.toString(),s=[],i={color:[],number:[],var:[]},l=[];let c=0;const h=e.replace(_w,m=>(Xe.test(m)?(i.color.push(c),l.push(ug),s.push(Xe.parse(m))):m.startsWith(Nw)?(i.var.push(c),l.push(jw),s.push(m)):(i.number.push(c),l.push(cg),s.push(parseFloat(m))),++c,ep)).split(ep);return{values:s,split:h,indexes:i,types:l}}function dg(n){return to(n).values}function hg(n){const{split:e,types:s}=to(n),i=e.length;return l=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],l[u]!==void 0){const h=s[u];h===cg?c+=Hi(l[u]):h===ug?c+=Xe.transform(l[u]):c+=l[u]}return c}}const kw=n=>typeof n=="number"?0:Xe.test(n)?Xe.getAnimatableNone(n):n;function Sw(n){const e=dg(n);return hg(n)(e.map(kw))}const Ns={test:ww,parse:dg,createTransformer:hg,getAnimatableNone:Sw};function ru(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function Ew({hue:n,saturation:e,lightness:s,alpha:i}){n/=360,e/=100,s/=100;let l=0,c=0,u=0;if(!e)l=c=u=s;else{const h=s<.5?s*(1+e):s+e-s*e,m=2*s-h;l=ru(m,h,n+1/3),c=ru(m,h,n),u=ru(m,h,n-1/3)}return{red:Math.round(l*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function Ka(n,e){return s=>s>0?e:n}const Ue=(n,e,s)=>n+(e-n)*s,iu=(n,e,s)=>{const i=n*n,l=s*(e*e-i)+i;return l<0?0:Math.sqrt(l)},Tw=[Tu,Qs,Mr],Cw=n=>Tw.find(e=>e.test(n));function tp(n){const e=Cw(n);if(!e)return!1;let s=e.parse(n);return e===Mr&&(s=Ew(s)),s}const np=(n,e)=>{const s=tp(n),i=tp(e);if(!s||!i)return Ka(n,e);const l={...s};return c=>(l.red=iu(s.red,i.red,c),l.green=iu(s.green,i.green,c),l.blue=iu(s.blue,i.blue,c),l.alpha=Ue(s.alpha,i.alpha,c),Qs.transform(l))},Cu=new Set(["none","hidden"]);function Pw(n,e){return Cu.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function Rw(n,e){return s=>Ue(n,e,s)}function Td(n){return typeof n=="number"?Rw:typeof n=="string"?kd(n)?Ka:Xe.test(n)?np:Iw:Array.isArray(n)?fg:typeof n=="object"?Xe.test(n)?np:Aw:Ka}function fg(n,e){const s=[...n],i=s.length,l=n.map((c,u)=>Td(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)s[u]=l[u](c);return s}}function Aw(n,e){const s={...n,...e},i={};for(const l in s)n[l]!==void 0&&e[l]!==void 0&&(i[l]=Td(n[l])(n[l],e[l]));return l=>{for(const c in i)s[c]=i[c](l);return s}}function Ow(n,e){const s=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],u=n.indexes[c][i[c]],h=n.values[u]??0;s[l]=h,i[c]++}return s}const Iw=(n,e)=>{const s=Ns.createTransformer(e),i=to(n),l=to(e);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?Cu.has(n)&&!l.values.length||Cu.has(e)&&!i.values.length?Pw(n,e):co(fg(Ow(i,l),l.values),s):Ka(n,e)};function mg(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?Ue(n,e,s):Td(n)(n,e)}const Dw=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>$e.update(e,s),stop:()=>js(e),now:()=>ht.isProcessing?ht.timestamp:Ot.now()}},pg=(n,e,s=10)=>{let i="";const l=Math.max(Math.round(e/s),2);for(let c=0;c<l;c++)i+=Math.round(n(c/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ya=2e4;function Cd(n){let e=0;const s=50;let i=n.next(e);for(;!i.done&&e<Ya;)e+=s,i=n.next(e);return e>=Ya?1/0:e}function Lw(n,e=100,s){const i=s({...n,keyframes:[0,e]}),l=Math.min(Cd(i),Ya);return{type:"keyframes",ease:c=>i.next(l*c).value/e,duration:nn(l)}}const Mw=5;function gg(n,e,s){const i=Math.max(e-Mw,0);return Y0(s-n(i),e-i)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ou=.001;function $w({duration:n=We.duration,bounce:e=We.bounce,velocity:s=We.velocity,mass:i=We.mass}){let l,c,u=1-e;u=Un(We.minDamping,We.maxDamping,u),n=Un(We.minDuration,We.maxDuration,nn(n)),u<1?(l=p=>{const y=p*u,g=y*n,v=y-s,w=Pu(p,u),j=Math.exp(-g);return ou-v/w*j},c=p=>{const g=p*u*n,v=g*s+s,w=Math.pow(u,2)*Math.pow(p,2)*n,j=Math.exp(-g),N=Pu(Math.pow(p,2),u);return(-l(p)+ou>0?-1:1)*((v-w)*j)/N}):(l=p=>{const y=Math.exp(-p*n),g=(p-s)*n+1;return-ou+y*g},c=p=>{const y=Math.exp(-p*n),g=(s-p)*(n*n);return y*g});const h=5/n,m=Vw(l,c,h);if(n=kn(n),isNaN(m))return{stiffness:We.stiffness,damping:We.damping,duration:n};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const Bw=12;function Vw(n,e,s){let i=s;for(let l=1;l<Bw;l++)i=i-n(i)/e(i);return i}function Pu(n,e){return n*Math.sqrt(1-e*e)}const Fw=["duration","bounce"],Uw=["stiffness","damping","mass"];function sp(n,e){return e.some(s=>n[s]!==void 0)}function zw(n){let e={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...n};if(!sp(n,Uw)&&sp(n,Fw))if(n.visualDuration){const s=n.visualDuration,i=2*Math.PI/(s*1.2),l=i*i,c=2*Un(.05,1,1-(n.bounce||0))*Math.sqrt(l);e={...e,mass:We.mass,stiffness:l,damping:c}}else{const s=$w(n);e={...e,...s,mass:We.mass},e.isResolvedFromDuration=!0}return e}function Ja(n=We.visualDuration,e=We.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:l}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],h={done:!1,value:c},{stiffness:m,damping:p,mass:y,duration:g,velocity:v,isResolvedFromDuration:w}=zw({...s,velocity:-nn(s.velocity||0)}),j=v||0,N=p/(2*Math.sqrt(m*y)),k=u-c,E=nn(Math.sqrt(m/y)),I=Math.abs(k)<5;i||(i=I?We.restSpeed.granular:We.restSpeed.default),l||(l=I?We.restDelta.granular:We.restDelta.default);let _;if(N<1){const P=Pu(E,N);_=$=>{const U=Math.exp(-N*E*$);return u-U*((j+N*E*k)/P*Math.sin(P*$)+k*Math.cos(P*$))}}else if(N===1)_=P=>u-Math.exp(-E*P)*(k+(j+E*k)*P);else{const P=E*Math.sqrt(N*N-1);_=$=>{const U=Math.exp(-N*E*$),W=Math.min(P*$,300);return u-U*((j+N*E*k)*Math.sinh(W)+P*k*Math.cosh(W))/P}}const O={calculatedDuration:w&&g||null,next:P=>{const $=_(P);if(w)h.done=P>=g;else{let U=P===0?j:0;N<1&&(U=P===0?kn(j):gg(_,P,$));const W=Math.abs(U)<=i,te=Math.abs(u-$)<=l;h.done=W&&te}return h.value=h.done?u:$,h},toString:()=>{const P=Math.min(Cd(O),Ya),$=pg(U=>O.next(P*U).value,P,30);return P+"ms "+$},toTransition:()=>{}};return O}Ja.applyToOptions=n=>{const e=Lw(n,100,Ja);return n.ease=e.ease,n.duration=kn(e.duration),n.type="keyframes",n};function Ru({keyframes:n,velocity:e=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:y}){const g=n[0],v={done:!1,value:g},w=W=>h!==void 0&&W<h||m!==void 0&&W>m,j=W=>h===void 0?m:m===void 0||Math.abs(h-W)<Math.abs(m-W)?h:m;let N=s*e;const k=g+N,E=u===void 0?k:u(k);E!==k&&(N=E-g);const I=W=>-N*Math.exp(-W/i),_=W=>E+I(W),O=W=>{const te=I(W),ye=_(W);v.done=Math.abs(te)<=p,v.value=v.done?E:ye};let P,$;const U=W=>{w(v.value)&&(P=W,$=Ja({keyframes:[v.value,j(v.value)],velocity:gg(_,W,v.value),damping:l,stiffness:c,restDelta:p,restSpeed:y}))};return U(0),{calculatedDuration:null,next:W=>{let te=!1;return!$&&P===void 0&&(te=!0,O(W),U(W)),P!==void 0&&W>=P?$.next(W-P):(!te&&O(W),v)}}}function Ww(n,e,s){const i=[],l=s||zn.mix||mg,c=n.length-1;for(let u=0;u<c;u++){let h=l(n[u],n[u+1]);if(e){const m=Array.isArray(e)?e[u]||sn:e;h=co(m,h)}i.push(h)}return i}function Hw(n,e,{clamp:s=!0,ease:i,mixer:l}={}){const c=n.length;if(vd(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=Ww(e,i,l),m=h.length,p=y=>{if(u&&y<n[0])return e[0];let g=0;if(m>1)for(;g<n.length-2&&!(y<n[g+1]);g++);const v=Zi(n[g],n[g+1],y);return h[g](v)};return s?y=>p(Un(n[0],n[c-1],y)):p}function Gw(n,e){const s=n[n.length-1];for(let i=1;i<=e;i++){const l=Zi(0,e,i);n.push(Ue(s,1,l))}}function qw(n){const e=[0];return Gw(e,n.length-1),e}function Kw(n,e){return n.map(s=>s*e)}function Yw(n,e){return n.map(()=>e||rg).splice(0,n.length-1)}function Gi({duration:n=300,keyframes:e,times:s,ease:i="easeInOut"}){const l=ow(i)?i.map(Xm):Xm(i),c={done:!1,value:e[0]},u=Kw(s&&s.length===e.length?s:qw(e),n),h=Hw(u,e,{ease:Array.isArray(l)?l:Yw(e,l)});return{calculatedDuration:n,next:m=>(c.value=h(m),c.done=m>=n,c)}}const Jw=n=>n!==null;function Pd(n,{repeat:e,repeatType:s="loop"},i,l=1){const c=n.filter(Jw),h=l<0||e&&s!=="loop"&&e%2===1?0:c.length-1;return!h||i===void 0?c[h]:i}const Qw={decay:Ru,inertia:Ru,tween:Gi,keyframes:Gi,spring:Ja};function yg(n){typeof n.type=="string"&&(n.type=Qw[n.type])}class Rd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const Xw=n=>n/100;class Ad extends Rd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Ot.now()&&this.tick(Ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yg(e);const{type:s=Gi,repeat:i=0,repeatDelay:l=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const m=s||Gi;m!==Gi&&typeof h[0]!="number"&&(this.mixKeyframes=co(Xw,mg(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Cd(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=p}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:i,totalDuration:l,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:g,repeatType:v,repeatDelay:w,type:j,onUpdate:N,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const E=this.currentTime-p*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?E<0:E>l;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let _=this.currentTime,O=i;if(g){const W=Math.min(this.currentTime,l)/h;let te=Math.floor(W),ye=W%1;!ye&&W>=1&&(ye=1),ye===1&&te--,te=Math.min(te,g+1),!!(te%2)&&(v==="reverse"?(ye=1-ye,w&&(ye-=w/h)):v==="mirror"&&(O=u)),_=Un(0,1,ye)*h}const P=I?{done:!1,value:y[0]}:O.next(_);c&&(P.value=c(P.value));let{done:$}=P;!I&&m!==null&&($=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return U&&j!==Ru&&(P.value=Pd(y,this.options,k,this.speed)),N&&N(P.value),U&&this.finish(),P}then(e,s){return this.finished.then(e,s)}get duration(){return nn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nn(e)}get time(){return nn(this.currentTime)}set time(e){e=kn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ot.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=nn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Dw,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Zw(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Xs=n=>n*180/Math.PI,Au=n=>{const e=Xs(Math.atan2(n[1],n[0]));return Ou(e)},e1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Au,rotateZ:Au,skewX:n=>Xs(Math.atan(n[1])),skewY:n=>Xs(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ou=n=>(n=n%360,n<0&&(n+=360),n),rp=Au,ip=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),op=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),t1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ip,scaleY:op,scale:n=>(ip(n)+op(n))/2,rotateX:n=>Ou(Xs(Math.atan2(n[6],n[5]))),rotateY:n=>Ou(Xs(Math.atan2(-n[2],n[0]))),rotateZ:rp,rotate:rp,skewX:n=>Xs(Math.atan(n[4])),skewY:n=>Xs(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Iu(n){return n.includes("scale")?1:0}function Du(n,e){if(!n||n==="none")return Iu(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(s)i=t1,l=s;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=e1,l=h}if(!l)return Iu(e);const c=i[e],u=l[1].split(",").map(s1);return typeof c=="function"?c(u):u[c]}const n1=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return Du(s,e)};function s1(n){return parseFloat(n.trim())}const Jr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qr=new Set(Jr),ap=n=>n===Yr||n===we,r1=new Set(["x","y","z"]),i1=Jr.filter(n=>!r1.has(n));function o1(n){const e=[];return i1.forEach(s=>{const i=n.getValue(s);i!==void 0&&(e.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),e}const tr={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Du(e,"x"),y:(n,{transform:e})=>Du(e,"y")};tr.translateX=tr.x;tr.translateY=tr.y;const nr=new Set;let Lu=!1,Mu=!1,$u=!1;function xg(){if(Mu){const n=Array.from(nr).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),s=new Map;e.forEach(i=>{const l=o1(i);l.length&&(s.set(i,l),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([c,u])=>{i.getValue(c)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mu=!1,Lu=!1,nr.forEach(n=>n.complete($u)),nr.clear()}function vg(){nr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Mu=!0)})}function a1(){$u=!0,vg(),xg(),$u=!1}class Od{constructor(e,s,i,l,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=i,this.motionValue=l,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(nr.add(this),Lu||(Lu=!0,$e.read(vg),$e.resolveKeyframes(xg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:i,motionValue:l}=this;if(e[0]===null){const c=l?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&s){const h=i.readValue(s,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),l&&c===void 0&&l.set(e[0])}Zw(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),nr.delete(this)}cancel(){this.state==="scheduled"&&(nr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const l1=n=>n.startsWith("--");function c1(n,e,s){l1(e)?n.style.setProperty(e,s):n.style[e]=s}const u1=bd(()=>window.ScrollTimeline!==void 0),d1={};function h1(n,e){const s=bd(n);return()=>d1[e]??s()}const bg=h1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ui=([n,e,s,i])=>`cubic-bezier(${n}, ${e}, ${s}, ${i})`,lp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ui([0,.65,.55,1]),circOut:Ui([.55,0,1,.45]),backIn:Ui([.31,.01,.66,-.59]),backOut:Ui([.33,1.53,.69,.99])};function wg(n,e){if(n)return typeof n=="function"?bg()?pg(n,e):"ease-out":ig(n)?Ui(n):Array.isArray(n)?n.map(s=>wg(s,e)||lp.easeOut):lp[n]}function f1(n,e,s,{delay:i=0,duration:l=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:m}={},p=void 0){const y={[e]:s};m&&(y.offset=m);const g=wg(h,l);Array.isArray(g)&&(y.easing=g);const v={delay:i,duration:l,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),n.animate(y,v)}function jg(n){return typeof n=="function"&&"applyToOptions"in n}function m1({type:n,...e}){return jg(n)&&bg()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class p1 extends Rd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:i,keyframes:l,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,vd(typeof e.type!="string");const p=m1(e);this.animation=f1(s,i,l,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const y=Pd(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):c1(s,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return nn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+nn(e)}get time(){return nn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=kn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&u1()?(this.animation.timeline=e,sn):s(this)}}const Ng={anticipate:tg,backInOut:eg,circInOut:sg};function g1(n){return n in Ng}function y1(n){typeof n.ease=="string"&&g1(n.ease)&&(n.ease=Ng[n.ease])}const cp=10;class x1 extends p1{constructor(e){y1(e),yg(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:i,onComplete:l,element:c,...u}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new Ad({...u,autoplay:!1}),m=kn(this.finishedTime??this.time);s.setWithVelocity(h.sample(m-cp).value,h.sample(m).value,cp),h.stop()}}const up=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ns.test(n)||n==="0")&&!n.startsWith("url("));function v1(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function b1(n,e,s,i){const l=n[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const c=n[n.length-1],u=up(l,e),h=up(c,e);return!u||!h?!1:v1(n)||(s==="spring"||jg(s))&&i}function Bu(n){n.duration=0,n.type="keyframes"}const w1=new Set(["opacity","clipPath","filter","transform"]),j1=bd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function N1(n){const{motionValue:e,name:s,repeatDelay:i,repeatType:l,damping:c,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return j1()&&s&&w1.has(s)&&(s!=="transform"||!p)&&!m&&!i&&l!=="mirror"&&c!==0&&u!=="inertia"}const _1=40;class k1 extends Rd{constructor({autoplay:e=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:m,motionValue:p,element:y,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ot.now();const v={autoplay:e,delay:s,type:i,repeat:l,repeatDelay:c,repeatType:u,name:m,motionValue:p,element:y,...g},w=y?.KeyframeResolver||Od;this.keyframeResolver=new w(h,(j,N,k)=>this.onKeyframesResolved(j,N,v,!k),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,i,l){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:m,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Ot.now(),b1(e,c,u,h)||((zn.instantAnimations||!m)&&y?.(Pd(e,i,s)),e[0]=e[e.length-1],Bu(i),i.repeat=0);const v={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>_1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:e},w=!p&&N1(v)?new x1({...v,element:v.motionValue.owner.current}):new Ad(v);w.finished.then(()=>this.notifyFinished()).catch(sn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),a1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const S1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function E1(n){const e=S1.exec(n);if(!e)return[,];const[,s,i,l]=e;return[`--${s??i}`,l]}function _g(n,e,s=1){const[i,l]=E1(n);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return G0(u)?parseFloat(u):u}return kd(l)?_g(l,e,s+1):l}function Id(n,e){return n?.[e]??n?.default??n}const kg=new Set(["width","height","top","left","right","bottom",...Jr]),T1={test:n=>n==="auto",parse:n=>n},Sg=n=>e=>e.test(n),Eg=[Yr,we,Sn,xs,vw,xw,T1],dp=n=>Eg.find(Sg(n));function C1(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||K0(n):!0}const P1=new Set(["brightness","contrast","saturate","opacity"]);function R1(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=s.match(Sd)||[];if(!i)return n;const l=s.replace(i,"");let c=P1.has(e)?1:0;return i!==s&&(c*=100),e+"("+c+l+")"}const A1=/\b([a-z-]*)\(.*?\)/gu,Vu={...Ns,getAnimatableNone:n=>{const e=n.match(A1);return e?e.map(R1).join(" "):n}},hp={...Yr,transform:Math.round},O1={rotate:xs,rotateX:xs,rotateY:xs,rotateZ:xs,scale:Ca,scaleX:Ca,scaleY:Ca,scaleZ:Ca,skew:xs,skewX:xs,skewY:xs,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:eo,originX:Zm,originY:Zm,originZ:we},Dd={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...O1,zIndex:hp,fillOpacity:eo,strokeOpacity:eo,numOctaves:hp},I1={...Dd,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:Vu,WebkitFilter:Vu},Tg=n=>I1[n];function Cg(n,e){let s=Tg(n);return s!==Vu&&(s=Ns),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const D1=new Set(["auto","none","0"]);function L1(n,e,s){let i=0,l;for(;i<n.length&&!l;){const c=n[i];typeof c=="string"&&!D1.has(c)&&to(c).values.length&&(l=n[i]),i++}if(l&&s)for(const c of e)n[c]=Cg(s,l)}class M1 extends Od{constructor(e,s,i,l,c){super(e,s,i,l,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),kd(p))){const y=_g(p,s.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!kg.has(i)||e.length!==2)return;const[l,c]=e,u=dp(l),h=dp(c);if(u!==h)if(ap(u)&&ap(h))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else tr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,i=[];for(let l=0;l<e.length;l++)(e[l]===null||C1(e[l]))&&i.push(l);i.length&&L1(e,i,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&e.getValue(i,l).jump(l,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const l=e.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=tr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function $1(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const l=s?.[n]??i.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}const Pg=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Rg(n){return q0(n)&&"offsetHeight"in n}const fp=30,B1=n=>!isNaN(parseFloat(n));class V1{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const l=Ot.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=B1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new wd);const i=this.events[e].add(s);return e==="change"?()=>{i(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fp)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,fp);return Y0(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hr(n,e){return new V1(n,e)}const{schedule:Ld}=og(queueMicrotask,!1),pn={x:!1,y:!1};function Ag(){return pn.x||pn.y}function F1(n){return n==="x"||n==="y"?pn[n]?null:(pn[n]=!0,()=>{pn[n]=!1}):pn.x||pn.y?null:(pn.x=pn.y=!0,()=>{pn.x=pn.y=!1})}function Og(n,e){const s=$1(n),i=new AbortController,l={passive:!0,...e,signal:i.signal};return[s,l,()=>i.abort()]}function mp(n){return!(n.pointerType==="touch"||Ag())}function U1(n,e,s={}){const[i,l,c]=Og(n,s),u=h=>{if(!mp(h))return;const{target:m}=h,p=e(m,h);if(typeof p!="function"||!m)return;const y=g=>{mp(g)&&(p(g),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,l)};return i.forEach(h=>{h.addEventListener("pointerenter",u,l)}),c}const Ig=(n,e)=>e?n===e?!0:Ig(n,e.parentElement):!1,Md=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,z1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function W1(n){return z1.has(n.tagName)||n.tabIndex!==-1}const Wa=new WeakSet;function pp(n){return e=>{e.key==="Enter"&&n(e)}}function au(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const H1=(n,e)=>{const s=n.currentTarget;if(!s)return;const i=pp(()=>{if(Wa.has(s))return;au(s,"down");const l=pp(()=>{au(s,"up")}),c=()=>au(s,"cancel");s.addEventListener("keyup",l,e),s.addEventListener("blur",c,e)});s.addEventListener("keydown",i,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),e)};function gp(n){return Md(n)&&!Ag()}function G1(n,e,s={}){const[i,l,c]=Og(n,s),u=h=>{const m=h.currentTarget;if(!gp(h))return;Wa.add(m);const p=e(m,h),y=(w,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Wa.has(m)&&Wa.delete(m),gp(w)&&typeof p=="function"&&p(w,{success:j})},g=w=>{y(w,m===window||m===document||s.useGlobalTarget||Ig(m,w.target))},v=w=>{y(w,!1)};window.addEventListener("pointerup",g,l),window.addEventListener("pointercancel",v,l)};return i.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",u,l),Rg(h)&&(h.addEventListener("focus",p=>H1(p,l)),!W1(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Dg(n){return q0(n)&&"ownerSVGElement"in n}function q1(n){return Dg(n)&&n.tagName==="svg"}const wt=n=>!!(n&&n.getVelocity),K1=[...Eg,Xe,Ns],Y1=n=>K1.find(Sg(n)),$d=T.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function yp(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function J1(...n){return e=>{let s=!1;const i=n.map(l=>{const c=yp(l,e);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let l=0;l<i.length;l++){const c=i[l];typeof c=="function"?c():yp(n[l],null)}}}}function Q1(...n){return T.useCallback(J1(...n),n)}class X1 extends T.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const i=s.offsetParent,l=Rg(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=l-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z1({children:n,isPresent:e,anchorX:s,root:i}){const l=T.useId(),c=T.useRef(null),u=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=T.useContext($d),m=Q1(c,n?.ref);return T.useInsertionEffect(()=>{const{width:p,height:y,top:g,left:v,right:w}=u.current;if(e||!c.current||!p||!y)return;const j=s==="left"?`left: ${v}`:`right: ${w}`;c.current.dataset.motionPopId=l;const N=document.createElement("style");h&&(N.nonce=h);const k=i??document.head;return k.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${j}px !important;
            top: ${g}px !important;
          }
        `),()=>{k.contains(N)&&k.removeChild(N)}},[e]),o.jsx(X1,{isPresent:e,childRef:c,sizeRef:u,children:T.cloneElement(n,{ref:m})})}const ej=({children:n,initial:e,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:c,mode:u,anchorX:h,root:m})=>{const p=pd(tj),y=T.useId();let g=!0,v=T.useMemo(()=>(g=!1,{id:y,initial:e,isPresent:s,custom:l,onExitComplete:w=>{p.set(w,!0);for(const j of p.values())if(!j)return;i&&i()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[s,p,i]);return c&&g&&(v={...v}),T.useMemo(()=>{p.forEach((w,j)=>p.set(j,!1))},[s]),T.useEffect(()=>{!s&&!p.size&&i&&i()},[s]),u==="popLayout"&&(n=o.jsx(Z1,{isPresent:s,anchorX:h,root:m,children:n})),o.jsx(ll.Provider,{value:v,children:n})};function tj(){return new Map}function Lg(n=!0){const e=T.useContext(ll);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:l}=e,c=T.useId();T.useEffect(()=>{if(n)return l(c)},[n]);const u=T.useCallback(()=>n&&i&&i(c),[c,i,n]);return!s&&i?[!1,u]:[!0]}const Pa=n=>n.key||"";function xp(n){const e=[];return T.Children.forEach(n,s=>{T.isValidElement(s)&&e.push(s)}),e}const Wn=({children:n,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",root:m})=>{const[p,y]=Lg(u),g=T.useMemo(()=>xp(n),[n]),v=u&&!p?[]:g.map(Pa),w=T.useRef(!0),j=T.useRef(g),N=pd(()=>new Map),[k,E]=T.useState(g),[I,_]=T.useState(g);H0(()=>{w.current=!1,j.current=g;for(let $=0;$<I.length;$++){const U=Pa(I[$]);v.includes(U)?N.delete(U):N.get(U)!==!0&&N.set(U,!1)}},[I,v.length,v.join("-")]);const O=[];if(g!==k){let $=[...g];for(let U=0;U<I.length;U++){const W=I[U],te=Pa(W);v.includes(te)||($.splice(U,0,W),O.push(W))}return c==="wait"&&O.length&&($=O),_(xp($)),E(g),null}const{forceRender:P}=T.useContext(md);return o.jsx(o.Fragment,{children:I.map($=>{const U=Pa($),W=u&&!p?!1:g===I||v.includes(U),te=()=>{if(N.has(U))N.set(U,!0);else return;let ye=!0;N.forEach(_e=>{_e||(ye=!1)}),ye&&(P?.(),_(j.current),u&&y?.(),i&&i())};return o.jsx(ej,{isPresent:W,initial:!w.current||s?void 0:!1,custom:e,presenceAffectsLayout:l,mode:c,root:m,onExitComplete:W?void 0:te,anchorX:h,children:$},U)})})},Mg=T.createContext({strict:!1}),vp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gr={};for(const n in vp)Gr[n]={isEnabled:e=>vp[n].some(s=>!!e[s])};function nj(n){for(const e in n)Gr[e]={...Gr[e],...n[e]}}const sj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qa(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||sj.has(n)}let $g=n=>!Qa(n);function rj(n){typeof n=="function"&&($g=e=>e.startsWith("on")?!Qa(e):n(e))}try{rj(require("@emotion/is-prop-valid").default)}catch{}function ij(n,e,s){const i={};for(const l in n)l==="values"&&typeof n.values=="object"||($g(l)||s===!0&&Qa(l)||!e&&!Qa(l)||n.draggable&&l.startsWith("onDrag"))&&(i[l]=n[l]);return i}const cl=T.createContext({});function ul(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function no(n){return typeof n=="string"||Array.isArray(n)}const Bd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vd=["initial",...Bd];function dl(n){return ul(n.animate)||Vd.some(e=>no(n[e]))}function Bg(n){return!!(dl(n)||n.variants)}function oj(n,e){if(dl(n)){const{initial:s,animate:i}=n;return{initial:s===!1||no(s)?s:void 0,animate:no(i)?i:void 0}}return n.inherit!==!1?e:{}}function aj(n){const{initial:e,animate:s}=oj(n,T.useContext(cl));return T.useMemo(()=>({initial:e,animate:s}),[bp(e),bp(s)])}function bp(n){return Array.isArray(n)?n.join(" "):n}const so={};function lj(n){for(const e in n)so[e]=n[e],_d(e)&&(so[e].isCSSVariable=!0)}function Vg(n,{layout:e,layoutId:s}){return Qr.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!so[n]||n==="opacity")}const cj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uj=Jr.length;function dj(n,e,s){let i="",l=!0;for(let c=0;c<uj;c++){const u=Jr[c],h=n[u];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(u.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||s){const p=Pg(h,Dd[u]);if(!m){l=!1;const y=cj[u]||u;i+=`${y}(${p}) `}s&&(e[u]=p)}}return i=i.trim(),s?i=s(e,l?"":i):l&&(i="none"),i}function Fd(n,e,s){const{style:i,vars:l,transformOrigin:c}=n;let u=!1,h=!1;for(const m in e){const p=e[m];if(Qr.has(m)){u=!0;continue}else if(_d(m)){l[m]=p;continue}else{const y=Pg(p,Dd[m]);m.startsWith("origin")?(h=!0,c[m]=y):i[m]=y}}if(e.transform||(u||s?i.transform=dj(e,n.transform,s):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:y=0}=c;i.transformOrigin=`${m} ${p} ${y}`}}const Ud=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fg(n,e,s){for(const i in e)!wt(e[i])&&!Vg(i,s)&&(n[i]=e[i])}function hj({transformTemplate:n},e){return T.useMemo(()=>{const s=Ud();return Fd(s,e,n),Object.assign({},s.vars,s.style)},[e])}function fj(n,e){const s=n.style||{},i={};return Fg(i,s,n),Object.assign(i,hj(n,e)),i}function mj(n,e){const s={},i=fj(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=i,s}const pj={offset:"stroke-dashoffset",array:"stroke-dasharray"},gj={offset:"strokeDashoffset",array:"strokeDasharray"};function yj(n,e,s=1,i=0,l=!0){n.pathLength=1;const c=l?pj:gj;n[c.offset]=we.transform(-i);const u=we.transform(e),h=we.transform(s);n[c.array]=`${u} ${h}`}function Ug(n,{attrX:e,attrY:s,attrScale:i,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...h},m,p,y){if(Fd(n,h,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:v}=n;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=y?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),s!==void 0&&(g.y=s),i!==void 0&&(g.scale=i),l!==void 0&&yj(g,l,c,u,!1)}const zg=()=>({...Ud(),attrs:{}}),Wg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function xj(n,e,s,i){const l=T.useMemo(()=>{const c=zg();return Ug(c,e,Wg(i),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[e]);if(n.style){const c={};Fg(c,n.style,n),l.style={...c,...l.style}}return l}const vj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zd(n){return typeof n!="string"||n.includes("-")?!1:!!(vj.indexOf(n)>-1||/[A-Z]/u.test(n))}function bj(n,e,s,{latestValues:i},l,c=!1){const h=(zd(n)?xj:mj)(e,i,l,n),m=ij(e,typeof n=="string",c),p=n!==T.Fragment?{...m,...h,ref:s}:{},{children:y}=e,g=T.useMemo(()=>wt(y)?y.get():y,[y]);return T.createElement(n,{...p,children:g})}function wp(n){const e=[{},{}];return n?.values.forEach((s,i)=>{e[0][i]=s.get(),e[1][i]=s.getVelocity()}),e}function Wd(n,e,s,i){if(typeof e=="function"){const[l,c]=wp(i);e=e(s!==void 0?s:n.custom,l,c)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[l,c]=wp(i);e=e(s!==void 0?s:n.custom,l,c)}return e}function Ha(n){return wt(n)?n.get():n}function wj({scrapeMotionValuesFromProps:n,createRenderState:e},s,i,l){return{latestValues:jj(s,i,l,n),renderState:e()}}function jj(n,e,s,i){const l={},c=i(n,{});for(const v in c)l[v]=Ha(c[v]);let{initial:u,animate:h}=n;const m=dl(n),p=Bg(n);e&&p&&!m&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=s?s.initial===!1:!1;y=y||u===!1;const g=y?h:u;if(g&&typeof g!="boolean"&&!ul(g)){const v=Array.isArray(g)?g:[g];for(let w=0;w<v.length;w++){const j=Wd(n,v[w]);if(j){const{transitionEnd:N,transition:k,...E}=j;for(const I in E){let _=E[I];if(Array.isArray(_)){const O=y?_.length-1:0;_=_[O]}_!==null&&(l[I]=_)}for(const I in N)l[I]=N[I]}}}return l}const Hg=n=>(e,s)=>{const i=T.useContext(cl),l=T.useContext(ll),c=()=>wj(n,e,i,l);return s?c():pd(c)};function Hd(n,e,s){const{style:i}=n,l={};for(const c in i)(wt(i[c])||e.style&&wt(e.style[c])||Vg(c,n)||s?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}const Nj=Hg({scrapeMotionValuesFromProps:Hd,createRenderState:Ud});function Gg(n,e,s){const i=Hd(n,e,s);for(const l in n)if(wt(n[l])||wt(e[l])){const c=Jr.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[c]=n[l]}return i}const _j=Hg({scrapeMotionValuesFromProps:Gg,createRenderState:zg}),kj=Symbol.for("motionComponentSymbol");function $r(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Sj(n,e,s){return T.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),s&&(typeof s=="function"?s(i):$r(s)&&(s.current=i))},[e])}const Gd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ej="framerAppearId",qg="data-"+Gd(Ej),Kg=T.createContext({});function Tj(n,e,s,i,l){const{visualElement:c}=T.useContext(cl),u=T.useContext(Mg),h=T.useContext(ll),m=T.useContext($d).reducedMotion,p=T.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:c,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,g=T.useContext(Kg);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&Cj(p.current,s,l,g);const v=T.useRef(!1);T.useInsertionEffect(()=>{y&&v.current&&y.update(s,h)});const w=s[qg],j=T.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return H0(()=>{y&&(v.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),T.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),j.current=!1),y.enteringChildren=void 0)}),y}function Cj(n,e,s,i){const{layoutId:l,layout:c,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:Yg(n.parent)),n.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||h&&$r(h),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:p})}function Yg(n){if(n)return n.options.allowProjection!==!1?n.projection:Yg(n.parent)}function lu(n,{forwardMotionProps:e=!1}={},s,i){s&&nj(s);const l=zd(n)?_j:Nj;function c(h,m){let p;const y={...T.useContext($d),...h,layoutId:Pj(h)},{isStatic:g}=y,v=aj(h),w=l(h,g);if(!g&&gd){Rj();const j=Aj(y);p=j.MeasureLayout,v.visualElement=Tj(n,w,y,i,j.ProjectionNode)}return o.jsxs(cl.Provider,{value:v,children:[p&&v.visualElement?o.jsx(p,{visualElement:v.visualElement,...y}):null,bj(n,h,Sj(w,v.visualElement,m),w,g,e)]})}c.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=T.forwardRef(c);return u[kj]=n,u}function Pj({layoutId:n}){const e=T.useContext(md).id;return e&&n!==void 0?e+"-"+n:n}function Rj(n,e){T.useContext(Mg).strict}function Aj(n){const{drag:e,layout:s}=Gr;if(!e&&!s)return{};const i={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Oj(n,e){if(typeof Proxy>"u")return lu;const s=new Map,i=(c,u)=>lu(c,u,n,e),l=(c,u)=>i(c,u);return new Proxy(l,{get:(c,u)=>u==="create"?i:(s.has(u)||s.set(u,lu(u,void 0,n,e)),s.get(u))})}function Jg({top:n,left:e,right:s,bottom:i}){return{x:{min:e,max:s},y:{min:n,max:i}}}function Ij({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Dj(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function cu(n){return n===void 0||n===1}function Fu({scale:n,scaleX:e,scaleY:s}){return!cu(n)||!cu(e)||!cu(s)}function qs(n){return Fu(n)||Qg(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Qg(n){return jp(n.x)||jp(n.y)}function jp(n){return n&&n!=="0%"}function Xa(n,e,s){const i=n-s,l=e*i;return s+l}function Np(n,e,s,i,l){return l!==void 0&&(n=Xa(n,l,i)),Xa(n,s,i)+e}function Uu(n,e=0,s=1,i,l){n.min=Np(n.min,e,s,i,l),n.max=Np(n.max,e,s,i,l)}function Xg(n,{x:e,y:s}){Uu(n.x,e.translate,e.scale,e.originPoint),Uu(n.y,s.translate,s.scale,s.originPoint)}const _p=.999999999999,kp=1.0000000000001;function Lj(n,e,s,i=!1){const l=s.length;if(!l)return;e.x=e.y=1;let c,u;for(let h=0;h<l;h++){c=s[h],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Vr(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Xg(n,u)),i&&qs(c.latestValues)&&Vr(n,c.latestValues))}e.x<kp&&e.x>_p&&(e.x=1),e.y<kp&&e.y>_p&&(e.y=1)}function Br(n,e){n.min=n.min+e,n.max=n.max+e}function Sp(n,e,s,i,l=.5){const c=Ue(n.min,n.max,l);Uu(n,e,s,c,i)}function Vr(n,e){Sp(n.x,e.x,e.scaleX,e.scale,e.originX),Sp(n.y,e.y,e.scaleY,e.scale,e.originY)}function Zg(n,e){return Jg(Dj(n.getBoundingClientRect(),e))}function Mj(n,e,s){const i=Zg(n,s),{scroll:l}=e;return l&&(Br(i.x,l.offset.x),Br(i.y,l.offset.y)),i}const Ep=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fr=()=>({x:Ep(),y:Ep()}),Tp=()=>({min:0,max:0}),Ke=()=>({x:Tp(),y:Tp()}),zu={current:null},ey={current:!1};function $j(){if(ey.current=!0,!!gd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>zu.current=n.matches;n.addEventListener("change",e),e()}else zu.current=!1}const Bj=new WeakMap;function Vj(n,e,s){for(const i in e){const l=e[i],c=s[i];if(wt(l))n.addValue(i,l);else if(wt(c))n.addValue(i,Hr(l,{owner:n}));else if(c!==l)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(l):u.hasAnimated||u.set(l)}else{const u=n.getStaticValue(i);n.addValue(i,Hr(u!==void 0?u:l,{owner:n}))}}for(const i in s)e[i]===void 0&&n.removeValue(i);return e}const Cp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Fj{scrapeMotionValuesFromProps(e,s,i){return{}}constructor({parent:e,props:s,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Od,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ot.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,$e.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=s,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=dl(s),this.isVariantNode=Bg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...g}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in g){const w=g[v];m[v]!==void 0&&wt(w)&&w.set(m[v])}}mount(e){this.current=e,Bj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),ey.current||$j(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zu.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),js(this.notifyUpdate),js(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Qr.has(e);i&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&$e.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{l(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gr){const s=Gr[e];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[e]&&l&&i(this.props)&&(this.features[e]=new l(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<Cp.length;i++){const l=Cp[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const c="on"+l,u=e[c];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=Vj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const i=this.values.get(e);s!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&s!==void 0&&(i=Hr(s===null?void 0:s,{owner:this}),this.addValue(e,i)),i}readValue(e,s){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(G0(i)||K0(i))?i=parseFloat(i):!Y1(i)&&Ns.test(s)&&(i=Cg(e,s)),this.setBaseTarget(e,wt(i)?i.get():i)),wt(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const c=Wd(this.props,s,this.presenceContext?.custom);c&&(i=c[e])}if(s&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!wt(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new wd),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Ld.render(this.render)}}class ty extends Fj{constructor(){super(...arguments),this.KeyframeResolver=M1}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:i}){delete s[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wt(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function ny(n,{style:e,vars:s},i,l){const c=n.style;let u;for(u in e)c[u]=e[u];l?.applyProjectionStyles(c,i);for(u in s)c.setProperty(u,s[u])}function Uj(n){return window.getComputedStyle(n)}class zj extends ty{constructor(){super(...arguments),this.type="html",this.renderInstance=ny}readValueFromInstance(e,s){if(Qr.has(s))return this.projection?.isProjecting?Iu(s):n1(e,s);{const i=Uj(e),l=(_d(s)?i.getPropertyValue(s):i[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Zg(e,s)}build(e,s,i){Fd(e,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,s,i){return Hd(e,s,i)}}const sy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wj(n,e,s,i){ny(n,e,void 0,i);for(const l in e.attrs)n.setAttribute(sy.has(l)?l:Gd(l),e.attrs[l])}class Hj extends ty{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ke}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Qr.has(s)){const i=Tg(s);return i&&i.default||0}return s=sy.has(s)?s:Gd(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,i){return Gg(e,s,i)}build(e,s,i){Ug(e,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,s,i,l){Wj(e,s,i,l)}mount(e){this.isSVGTag=Wg(e.tagName),super.mount(e)}}const Gj=(n,e)=>zd(n)?new Hj(e):new zj(e,{allowProjection:n!==T.Fragment});function zr(n,e,s){const i=n.getProps();return Wd(i,e,s!==void 0?s:i.custom,n)}const Wu=n=>Array.isArray(n);function qj(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,Hr(s))}function Kj(n){return Wu(n)?n[n.length-1]||0:n}function Yj(n,e){const s=zr(n,e);let{transitionEnd:i={},transition:l={},...c}=s||{};c={...c,...i};for(const u in c){const h=Kj(c[u]);qj(n,u,h)}}function Jj(n){return!!(wt(n)&&n.add)}function Hu(n,e){const s=n.getValue("willChange");if(Jj(s))return s.add(e);if(!s&&zn.WillChange){const i=new zn.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function ry(n){return n.props[qg]}const Qj=n=>n!==null;function Xj(n,{repeat:e,repeatType:s="loop"},i){const l=n.filter(Qj),c=e&&s!=="loop"&&e%2===1?0:l.length-1;return l[c]}const Zj={type:"spring",stiffness:500,damping:25,restSpeed:10},e2=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),t2={type:"keyframes",duration:.8},n2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s2=(n,{keyframes:e})=>e.length>2?t2:Qr.has(n)?n.startsWith("scale")?e2(e[1]):Zj:n2;function r2({when:n,delay:e,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:c,repeatType:u,repeatDelay:h,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const qd=(n,e,s,i={},l,c)=>u=>{const h=Id(i,n)||{},m=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-kn(m);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:c?void 0:l};r2(h)||Object.assign(y,s2(n,y)),y.duration&&(y.duration=kn(y.duration)),y.repeatDelay&&(y.repeatDelay=kn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let g=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Bu(y),y.delay===0&&(g=!0)),(zn.instantAnimations||zn.skipAnimations)&&(g=!0,Bu(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,g&&!c&&e.get()!==void 0){const v=Xj(y.keyframes,h);if(v!==void 0){$e.update(()=>{y.onUpdate(v),y.onComplete()});return}}return h.isSync?new Ad(y):new k1(y)};function i2({protectedKeys:n,needsAnimating:e},s){const i=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,i}function iy(n,e,{delay:s=0,transitionOverride:i,type:l}={}){let{transition:c=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(c=i);const m=[],p=l&&n.animationState&&n.animationState.getState()[l];for(const y in h){const g=n.getValue(y,n.latestValues[y]??null),v=h[y];if(v===void 0||p&&i2(p,y))continue;const w={delay:s,...Id(c||{},y)},j=g.get();if(j!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===j&&!w.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const E=ry(n);if(E){const I=window.MotionHandoffAnimation(E,y,$e);I!==null&&(w.startTime=I,N=!0)}}Hu(n,y),g.start(qd(y,g,v,n.shouldReduceMotion&&kg.has(y)?{type:!1}:w,n,N));const k=g.animation;k&&m.push(k)}return u&&Promise.all(m).then(()=>{$e.update(()=>{u&&Yj(n,u)})}),m}function oy(n,e,s,i=0,l=1){const c=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=n.size,h=(u-1)*i;return typeof s=="function"?s(c,u):l===1?c*i:h-c*i}function Gu(n,e,s={}){const i=zr(n,e,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(l=s.transitionOverride);const c=i?()=>Promise.all(iy(n,i,s)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:g}=l;return o2(n,e,m,p,y,g,s)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,p]=h==="beforeChildren"?[c,u]:[u,c];return m().then(()=>p())}else return Promise.all([c(),u(s.delay)])}function o2(n,e,s=0,i=0,l=0,c=1,u){const h=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),h.push(Gu(m,e,{...u,delay:s+(typeof i=="function"?0:i)+oy(n.variantChildren,m,i,l,c)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function a2(n,e,s={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const l=e.map(c=>Gu(n,c,s));i=Promise.all(l)}else if(typeof e=="string")i=Gu(n,e,s);else{const l=typeof e=="function"?zr(n,e,s.custom):e;i=Promise.all(iy(n,l,s))}return i.then(()=>{n.notify("AnimationComplete",e)})}function ay(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let i=0;i<s;i++)if(e[i]!==n[i])return!1;return!0}const l2=Vd.length;function ly(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?ly(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<l2;s++){const i=Vd[s],l=n.props[i];(no(l)||l===!1)&&(e[i]=l)}return e}const c2=[...Bd].reverse(),u2=Bd.length;function d2(n){return e=>Promise.all(e.map(({animation:s,options:i})=>a2(n,s,i)))}function h2(n){let e=d2(n),s=Pp(),i=!0;const l=m=>(p,y)=>{const g=zr(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:w,...j}=g;p={...p,...j,...w}}return p};function c(m){e=m(n)}function u(m){const{props:p}=n,y=ly(n.parent)||{},g=[],v=new Set;let w={},j=1/0;for(let k=0;k<u2;k++){const E=c2[k],I=s[E],_=p[E]!==void 0?p[E]:y[E],O=no(_),P=E===m?I.isActive:null;P===!1&&(j=k);let $=_===y[E]&&_!==p[E]&&O;if($&&i&&n.manuallyAnimateOnMount&&($=!1),I.protectedKeys={...w},!I.isActive&&P===null||!_&&!I.prevProp||ul(_)||typeof _=="boolean")continue;const U=f2(I.prevProp,_);let W=U||E===m&&I.isActive&&!$&&O||k>j&&O,te=!1;const ye=Array.isArray(_)?_:[_];let _e=ye.reduce(l(E),{});P===!1&&(_e={});const{prevResolvedValues:J={}}=I,ae={...J,..._e},Se=ne=>{W=!0,v.has(ne)&&(te=!0,v.delete(ne)),I.needsAnimating[ne]=!0;const G=n.getValue(ne);G&&(G.liveStyle=!1)};for(const ne in ae){const G=_e[ne],B=J[ne];if(w.hasOwnProperty(ne))continue;let F=!1;Wu(G)&&Wu(B)?F=!ay(G,B):F=G!==B,F?G!=null?Se(ne):v.add(ne):G!==void 0&&v.has(ne)?Se(ne):I.protectedKeys[ne]=!0}I.prevProp=_,I.prevResolvedValues=_e,I.isActive&&(w={...w,..._e}),i&&n.blockInitialAnimation&&(W=!1);const Ae=$&&U;W&&(!Ae||te)&&g.push(...ye.map(ne=>{const G={type:E};if(typeof ne=="string"&&i&&!Ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:B}=n,F=zr(B,ne);if(B.enteringChildren&&F){const{delayChildren:R}=F.transition||{};G.delay=oy(B.enteringChildren,n,R)}}return{animation:ne,options:G}}))}if(v.size){const k={};if(typeof p.initial!="boolean"){const E=zr(n,Array.isArray(p.initial)?p.initial[0]:p.initial);E&&E.transition&&(k.transition=E.transition)}v.forEach(E=>{const I=n.getBaseTarget(E),_=n.getValue(E);_&&(_.liveStyle=!0),k[E]=I??null}),g.push({animation:k})}let N=!!g.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(N=!1),i=!1,N?e(g):Promise.resolve()}function h(m,p){if(s[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(g=>g.animationState?.setActive(m,p)),s[m].isActive=p;const y=u(m);for(const g in s)s[g].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Pp()}}}function f2(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!ay(e,n):!1}function Ws(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pp(){return{animate:Ws(!0),whileInView:Ws(),whileHover:Ws(),whileTap:Ws(),whileDrag:Ws(),whileFocus:Ws(),exit:Ws()}}class _s{constructor(e){this.isMounted=!1,this.node=e}update(){}}class m2 extends _s{constructor(e){super(e),e.animationState||(e.animationState=h2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ul(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let p2=0;class g2 extends _s{constructor(){super(...arguments),this.id=p2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const l=this.node.animationState.setActive("exit",!e);s&&!e&&l.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const y2={animation:{Feature:m2},exit:{Feature:g2}};function ro(n,e,s,i={passive:!0}){return n.addEventListener(e,s,i),()=>n.removeEventListener(e,s)}function fo(n){return{point:{x:n.pageX,y:n.pageY}}}const x2=n=>e=>Md(e)&&n(e,fo(e));function qi(n,e,s,i){return ro(n,e,x2(s),i)}const cy=1e-4,v2=1-cy,b2=1+cy,uy=.01,w2=0-uy,j2=0+uy;function kt(n){return n.max-n.min}function N2(n,e,s){return Math.abs(n-e)<=s}function Rp(n,e,s,i=.5){n.origin=i,n.originPoint=Ue(e.min,e.max,n.origin),n.scale=kt(s)/kt(e),n.translate=Ue(s.min,s.max,n.origin)-n.originPoint,(n.scale>=v2&&n.scale<=b2||isNaN(n.scale))&&(n.scale=1),(n.translate>=w2&&n.translate<=j2||isNaN(n.translate))&&(n.translate=0)}function Ki(n,e,s,i){Rp(n.x,e.x,s.x,i?i.originX:void 0),Rp(n.y,e.y,s.y,i?i.originY:void 0)}function Ap(n,e,s){n.min=s.min+e.min,n.max=n.min+kt(e)}function _2(n,e,s){Ap(n.x,e.x,s.x),Ap(n.y,e.y,s.y)}function Op(n,e,s){n.min=e.min-s.min,n.max=n.min+kt(e)}function Yi(n,e,s){Op(n.x,e.x,s.x),Op(n.y,e.y,s.y)}function tn(n){return[n("x"),n("y")]}const dy=({current:n})=>n?n.ownerDocument.defaultView:null,Ip=(n,e)=>Math.abs(n-e);function k2(n,e){const s=Ip(n.x,e.x),i=Ip(n.y,e.y);return Math.sqrt(s**2+i**2)}class hy{constructor(e,s,{transformPagePoint:i,contextWindow:l=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=du(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,j=k2(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!j)return;const{point:N}=v,{timestamp:k}=ht;this.history.push({...N,timestamp:k});const{onStart:E,onMove:I}=this.handlers;w||(E&&E(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=uu(w,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:j,onSessionEnd:N,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=du(v.type==="pointercancel"?this.lastMoveEventInfo:uu(w,this.transformPagePoint),this.history);this.startEvent&&j&&j(v,E),N&&N(v,E)},!Md(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=l||window;const h=fo(e),m=uu(h,this.transformPagePoint),{point:p}=m,{timestamp:y}=ht;this.history=[{...p,timestamp:y}];const{onSessionStart:g}=s;g&&g(e,du(m,this.history)),this.removeListeners=co(qi(this.contextWindow,"pointermove",this.handlePointerMove),qi(this.contextWindow,"pointerup",this.handlePointerUp),qi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),js(this.updatePoint)}}function uu(n,e){return e?{point:e(n.point)}:n}function Dp(n,e){return{x:n.x-e.x,y:n.y-e.y}}function du({point:n},e){return{point:n,delta:Dp(n,fy(e)),offset:Dp(n,S2(e)),velocity:E2(e,.1)}}function S2(n){return n[0]}function fy(n){return n[n.length-1]}function E2(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,i=null;const l=fy(n);for(;s>=0&&(i=n[s],!(l.timestamp-i.timestamp>kn(e)));)s--;if(!i)return{x:0,y:0};const c=nn(l.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(l.x-i.x)/c,y:(l.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function T2(n,{min:e,max:s},i){return e!==void 0&&n<e?n=i?Ue(e,n,i.min):Math.max(n,e):s!==void 0&&n>s&&(n=i?Ue(s,n,i.max):Math.min(n,s)),n}function Lp(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function C2(n,{top:e,left:s,bottom:i,right:l}){return{x:Lp(n.x,s,l),y:Lp(n.y,e,i)}}function Mp(n,e){let s=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,i]=[i,s]),{min:s,max:i}}function P2(n,e){return{x:Mp(n.x,e.x),y:Mp(n.y,e.y)}}function R2(n,e){let s=.5;const i=kt(n),l=kt(e);return l>i?s=Zi(e.min,e.max-i,n.min):i>l&&(s=Zi(n.min,n.max-l,e.min)),Un(0,1,s)}function A2(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const qu=.35;function O2(n=qu){return n===!1?n=0:n===!0&&(n=qu),{x:$p(n,"left","right"),y:$p(n,"top","bottom")}}function $p(n,e,s){return{min:Bp(n,e),max:Bp(n,s)}}function Bp(n,e){return typeof n=="number"?n:n[e]||0}const I2=new WeakMap;class D2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const c=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(fo(g).point)},u=(g,v)=>{const{drag:w,dragPropagation:j,onDragStart:N}=this.getProps();if(w&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F1(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(E=>{let I=this.getAxisMotionValue(E).get()||0;if(Sn.test(I)){const{projection:_}=this.visualElement;if(_&&_.layout){const O=_.layout.layoutBox[E];O&&(I=kt(O)*(parseFloat(I)/100))}}this.originPoint[E]=I}),N&&$e.postRender(()=>N(g,v)),Hu(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:j,onDirectionLock:N,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=v;if(j&&this.currentDirection===null){this.currentDirection=L2(E),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),k&&k(g,v)},m=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>tn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new hy(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:dy(this.visualElement)})}stop(e,s){const i=e||this.latestPointerEvent,l=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!l||!i)return;const{velocity:u}=l;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&$e.postRender(()=>h(i,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,i){const{drag:l}=this.getProps();if(!i||!Ra(e,l,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=T2(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;e&&$r(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=C2(i.layoutBox,e):this.constraints=!1,this.elastic=O2(s),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=A2(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!$r(e))return!1;const i=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const c=Mj(i,l.root,this.visualElement.getTransformPagePoint());let u=P2(l.layout.layoutBox,c);if(s){const h=s(Ij(u));this.hasMutatedConstraints=!!h,h&&(u=Jg(h))}return u}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=tn(y=>{if(!Ra(y,s,this.currentDirection))return;let g=m&&m[y]||{};u&&(g={min:0,max:0});const v=l?200:1e6,w=l?40:1e7,j={type:"inertia",velocity:i?e[y]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...g};return this.startAxisValueAnimation(y,j)});return Promise.all(p).then(h)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return Hu(this.visualElement,e),i.start(qd(e,i,0,s,this.visualElement,!1))}stopAnimation(){tn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){tn(s=>{const{drag:i}=this.getProps();if(!Ra(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,c=this.getAxisMotionValue(s);if(l&&l.layout){const{min:u,max:h}=l.layout.layoutBox[s];c.set(e[s]-Ue(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!$r(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};tn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();l[u]=R2({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),tn(u=>{if(!Ra(u,e,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(Ue(m,p,l[u]))})}addListeners(){if(!this.visualElement.current)return;I2.set(this.visualElement,this);const e=this.visualElement.current,s=qi(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();$r(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,c=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),$e.read(i);const u=ro(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(tn(y=>{const g=this.getAxisMotionValue(y);g&&(this.originPoint[y]+=m[y].translate,g.set(g.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:c=!1,dragElastic:u=qu,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function Ra(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function L2(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class M2 extends _s{constructor(e){super(e),this.removeGroupControls=sn,this.removeListeners=sn,this.controls=new D2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vp=n=>(e,s)=>{n&&$e.postRender(()=>n(e,s))};class $2 extends _s{constructor(){super(...arguments),this.removePointerDownListener=sn}onPointerDown(e){this.session=new hy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:Vp(e),onStart:Vp(s),onMove:i,onEnd:(c,u)=>{delete this.session,l&&$e.postRender(()=>l(c,u))}}}mount(){this.removePointerDownListener=qi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ga={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fp(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Fi={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const s=Fp(n,e.target.x),i=Fp(n,e.target.y);return`${s}% ${i}%`}},B2={correct:(n,{treeScale:e,projectionDelta:s})=>{const i=n,l=Ns.parse(n);if(l.length>5)return i;const c=Ns.createTransformer(n),u=typeof l[0]!="number"?1:0,h=s.x.scale*e.x,m=s.y.scale*e.y;l[0+u]/=h,l[1+u]/=m;const p=Ue(h,m,.5);return typeof l[2+u]=="number"&&(l[2+u]/=p),typeof l[3+u]=="number"&&(l[3+u]/=p),c(l)}};let hu=!1;class V2 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:c}=e;lj(F2),c&&(s.group&&s.group.add(c),i&&i.register&&l&&i.register(c),hu&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Ga.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:l,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,hu=!0,l||e.layoutDependency!==s||s===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||$e.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ld.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=e;hu=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function my(n){const[e,s]=Lg(),i=T.useContext(md);return o.jsx(V2,{...n,layoutGroup:i,switchLayoutGroup:T.useContext(Kg),isPresent:e,safeToRemove:s})}const F2={borderRadius:{...Fi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fi,borderTopRightRadius:Fi,borderBottomLeftRadius:Fi,borderBottomRightRadius:Fi,boxShadow:B2};function U2(n,e,s){const i=wt(n)?n:Hr(n);return i.start(qd("",i,e,s)),i.animation}const z2=(n,e)=>n.depth-e.depth;class W2{constructor(){this.children=[],this.isDirty=!1}add(e){yd(this.children,e),this.isDirty=!0}remove(e){xd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(z2),this.isDirty=!1,this.children.forEach(e)}}function H2(n,e){const s=Ot.now(),i=({timestamp:l})=>{const c=l-s;c>=e&&(js(i),n(c-e))};return $e.setup(i,!0),()=>js(i)}const py=["TopLeft","TopRight","BottomLeft","BottomRight"],G2=py.length,Up=n=>typeof n=="string"?parseFloat(n):n,zp=n=>typeof n=="number"||we.test(n);function q2(n,e,s,i,l,c){l?(n.opacity=Ue(0,s.opacity??1,K2(i)),n.opacityExit=Ue(e.opacity??1,0,Y2(i))):c&&(n.opacity=Ue(e.opacity??1,s.opacity??1,i));for(let u=0;u<G2;u++){const h=`border${py[u]}Radius`;let m=Wp(e,h),p=Wp(s,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||zp(m)===zp(p)?(n[h]=Math.max(Ue(Up(m),Up(p),i),0),(Sn.test(p)||Sn.test(m))&&(n[h]+="%")):n[h]=p}(e.rotate||s.rotate)&&(n.rotate=Ue(e.rotate||0,s.rotate||0,i))}function Wp(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const K2=gy(0,.5,ng),Y2=gy(.5,.95,sn);function gy(n,e,s){return i=>i<n?0:i>e?1:s(Zi(n,e,i))}function Hp(n,e){n.min=e.min,n.max=e.max}function en(n,e){Hp(n.x,e.x),Hp(n.y,e.y)}function Gp(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function qp(n,e,s,i,l){return n-=e,n=Xa(n,1/s,i),l!==void 0&&(n=Xa(n,1/l,i)),n}function J2(n,e=0,s=1,i=.5,l,c=n,u=n){if(Sn.test(e)&&(e=parseFloat(e),e=Ue(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Ue(c.min,c.max,i);n===c&&(h-=e),n.min=qp(n.min,e,s,h,l),n.max=qp(n.max,e,s,h,l)}function Kp(n,e,[s,i,l],c,u){J2(n,e[s],e[i],e[l],e.scale,c,u)}const Q2=["x","scaleX","originX"],X2=["y","scaleY","originY"];function Yp(n,e,s,i){Kp(n.x,e,Q2,s?s.x:void 0,i?i.x:void 0),Kp(n.y,e,X2,s?s.y:void 0,i?i.y:void 0)}function Jp(n){return n.translate===0&&n.scale===1}function yy(n){return Jp(n.x)&&Jp(n.y)}function Qp(n,e){return n.min===e.min&&n.max===e.max}function Z2(n,e){return Qp(n.x,e.x)&&Qp(n.y,e.y)}function Xp(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function xy(n,e){return Xp(n.x,e.x)&&Xp(n.y,e.y)}function Zp(n){return kt(n.x)/kt(n.y)}function e0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class eN{constructor(){this.members=[]}add(e){yd(this.members,e),e.scheduleRender()}remove(e){if(xd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(l=>e===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const c=this.members[l];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tN(n,e,s){let i="";const l=n.x.translate/e.x,c=n.y.translate/e.y,u=s?.z||0;if((l||c||u)&&(i=`translate3d(${l}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:p,rotate:y,rotateX:g,rotateY:v,skewX:w,skewY:j}=s;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),w&&(i+=`skewX(${w}deg) `),j&&(i+=`skewY(${j}deg) `)}const h=n.x.scale*e.x,m=n.y.scale*e.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const fu=["","X","Y","Z"],nN=1e3;let sN=0;function mu(n,e,s,i){const{latestValues:l}=e;l[n]&&(s[n]=l[n],e.setStaticValue(n,0),i&&(i[n]=0))}function vy(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=ry(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",$e,!(l||c))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&vy(i)}function by({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(u={},h=e?.()){this.id=sN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oN),this.nodes.forEach(uN),this.nodes.forEach(dN),this.nodes.forEach(aN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new W2)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new wd),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Dg(u)&&!q1(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),n){let y,g=0;const v=()=>this.root.updateBlockedByResize=!1;$e.read(()=>{g=window.innerWidth}),n(u,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,y&&y(),y=H2(v,250),Ga.hasAnimatedSinceResize&&(Ga.hasAnimatedSinceResize=!1,this.nodes.forEach(s0)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||gN,{onLayoutAnimationStart:N,onLayoutAnimationComplete:k}=p.getProps(),E=!this.targetLayout||!xy(this.targetLayout,w),I=!g&&v;if(this.options.layoutRoot||this.resumeFrom||I||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Id(j,"layout"),onPlay:N,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(y,I)}else g||s0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hN),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const g=this.path[y];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(n0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cN),this.nodes.forEach(rN),this.nodes.forEach(iN)):this.nodes.forEach(n0),this.clearAllSnapshots();const h=Ot.now();ht.delta=Un(0,1e3/60,h-ht.timestamp),ht.timestamp=h,ht.isProcessing=!0,nu.update.process(ht),nu.preRender.process(ht),nu.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ld.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lN),this.sharedNodes.forEach(fN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kt(this.snapshot.measuredBox.x)&&!kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!yy(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||qs(this.latestValues)||y)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),yN(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ke();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xN))){const{scroll:p}=this.root;p&&(Br(h.x,p.offset.x),Br(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Ke();if(en(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:g}=p;p!==this.root&&y&&g.layoutScroll&&(y.wasRoot&&en(h,u),Br(h.x,y.offset.x),Br(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const m=Ke();en(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Vr(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),qs(y.latestValues)&&Vr(m,y.latestValues)}return qs(this.latestValues)&&Vr(m,this.latestValues),m}removeTransform(u){const h=Ke();en(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!qs(p.latestValues))continue;Fu(p.latestValues)&&p.updateSnapshot();const y=Ke(),g=p.measurePageBox();en(y,g),Yp(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return qs(this.latestValues)&&Yp(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:g}=this.options;if(!(!this.layout||!(y||g))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),Yi(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),Xg(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),Yi(this.relativeTargetOrigin,this.target,v.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fu(this.parent.latestValues)||Qg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;en(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;Lj(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ke());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gp(this.prevProjectionDelta.x,this.projectionDelta.x),Gp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ki(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!e0(this.projectionDelta.x,this.prevProjectionDelta.x)||!e0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fr(),this.projectionDelta=Fr(),this.projectionDeltaWithTransform=Fr()}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},g=Fr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Ke(),w=m?m.source:void 0,j=this.layout?this.layout.source:void 0,N=w!==j,k=this.getStack(),E=!k||k.members.length<=1,I=!!(N&&!E&&this.options.crossfade===!0&&!this.path.some(pN));this.animationProgress=0;let _;this.mixTargetDelta=O=>{const P=O/1e3;r0(g.x,u.x,P),r0(g.y,u.y,P),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yi(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mN(this.relativeTarget,this.relativeTargetOrigin,v,P),_&&Z2(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ke()),en(_,this.relativeTarget)),N&&(this.animationValues=y,q2(y,p,this.latestValues,P,I,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{Ga.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hr(0)),this.currentAnimation=U2(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:y}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&wy(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Ke();const g=kt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+g;const v=kt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+v}en(h,m),Vr(h,y),Ki(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new eN),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&mu("z",u,p,this.animationValues);for(let y=0;y<fu.length;y++)mu(`rotate${fu[y]}`,u,p,this.animationValues),mu(`skew${fu[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ha(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ha(h?.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=tN(this.projectionDeltaWithTransform,this.treeScale,y);m&&(g=m(y,g)),u.transform=g;const{x:v,y:w}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in so){if(y[j]===void 0)continue;const{correct:N,applyTo:k,isCSSVariable:E}=so[j],I=g==="none"?y[j]:N(y[j],p);if(k){const _=k.length;for(let O=0;O<_;O++)u[k[O]]=I}else E?this.options.visualElement.renderState.vars[j]=I:u[j]=I}this.options.layoutId&&(u.pointerEvents=p===this?Ha(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(t0),this.root.sharedNodes.clear()}}}function rN(n){n.updateLayout()}function iN(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:l}=n.options,c=e.source!==n.layout.source;l==="size"?tn(y=>{const g=c?e.measuredBox[y]:e.layoutBox[y],v=kt(g);g.min=s[y].min,g.max=g.min+v}):wy(l,e.layoutBox,s)&&tn(y=>{const g=c?e.measuredBox[y]:e.layoutBox[y],v=kt(s[y]);g.max=g.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+v)});const u=Fr();Ki(u,s,e.layoutBox);const h=Fr();c?Ki(h,n.applyTransform(i,!0),e.measuredBox):Ki(h,s,e.layoutBox);const m=!yy(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:g,layout:v}=y;if(g&&v){const w=Ke();Yi(w,e.layoutBox,g.layoutBox);const j=Ke();Yi(j,s,v.layoutBox),xy(w,j)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=w,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function oN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function aN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function lN(n){n.clearSnapshot()}function t0(n){n.clearMeasurements()}function n0(n){n.isLayoutDirty=!1}function cN(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function s0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function uN(n){n.resolveTargetDelta()}function dN(n){n.calcProjection()}function hN(n){n.resetSkewAndRotation()}function fN(n){n.removeLeadSnapshot()}function r0(n,e,s){n.translate=Ue(e.translate,0,s),n.scale=Ue(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function i0(n,e,s,i){n.min=Ue(e.min,s.min,i),n.max=Ue(e.max,s.max,i)}function mN(n,e,s,i){i0(n.x,e.x,s.x,i),i0(n.y,e.y,s.y,i)}function pN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const gN={duration:.45,ease:[.4,0,.1,1]},o0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),a0=o0("applewebkit/")&&!o0("chrome/")?Math.round:sn;function l0(n){n.min=a0(n.min),n.max=a0(n.max)}function yN(n){l0(n.x),l0(n.y)}function wy(n,e,s){return n==="position"||n==="preserve-aspect"&&!N2(Zp(e),Zp(s),.2)}function xN(n){return n!==n.root&&n.scroll?.wasRoot}const vN=by({attachResizeListener:(n,e)=>ro(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pu={current:void 0},jy=by({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!pu.current){const n=new vN({});n.mount(window),n.setOptions({layoutScroll:!0}),pu.current=n}return pu.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),bN={pan:{Feature:$2},drag:{Feature:M2,ProjectionNode:jy,MeasureLayout:my}};function c0(n,e,s){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,c=i[l];c&&$e.postRender(()=>c(e,fo(e)))}class wN extends _s{mount(){const{current:e}=this.node;e&&(this.unmount=U1(e,(s,i)=>(c0(this.node,i,"Start"),l=>c0(this.node,l,"End"))))}unmount(){}}class jN extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=co(ro(this.node.current,"focus",()=>this.onFocus()),ro(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u0(n,e,s){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),c=i[l];c&&$e.postRender(()=>c(e,fo(e)))}class NN extends _s{mount(){const{current:e}=this.node;e&&(this.unmount=G1(e,(s,i)=>(u0(this.node,i,"Start"),(l,{success:c})=>u0(this.node,l,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ku=new WeakMap,gu=new WeakMap,_N=n=>{const e=Ku.get(n.target);e&&e(n)},kN=n=>{n.forEach(_N)};function SN({root:n,...e}){const s=n||document;gu.has(s)||gu.set(s,{});const i=gu.get(s),l=JSON.stringify(e);return i[l]||(i[l]=new IntersectionObserver(kN,{root:n,...e})),i[l]}function EN(n,e,s){const i=SN(e);return Ku.set(n,s),i.observe(n),()=>{Ku.delete(n),i.unobserve(n)}}const TN={some:0,all:1};class CN extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:c}=e,u={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:TN[l]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:g}=this.node.getProps(),v=p?y:g;v&&v(m)};return EN(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(PN(e,s))&&this.startObserver()}unmount(){}}function PN({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const RN={inView:{Feature:CN},tap:{Feature:NN},focus:{Feature:jN},hover:{Feature:wN}},AN={layout:{ProjectionNode:jy,MeasureLayout:my}},ON={...y2,...RN,...bN,...AN},V=Oj(ON,Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,i)=>i?i.toUpperCase():s.toLowerCase()),d0=n=>{const e=DN(n);return e.charAt(0).toUpperCase()+e.slice(1)},Ny=(...n)=>n.filter((e,s,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:u,...h},m)=>T.createElement("svg",{ref:m,...LN,width:e,height:e,stroke:n,strokeWidth:i?Number(s)*24/Number(e):s,className:Ny("lucide",l),...h},[...u.map(([p,y])=>T.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(n,e)=>{const s=T.forwardRef(({className:i,...l},c)=>T.createElement(MN,{ref:c,iconNode:e,className:Ny(`lucide-${IN(d0(n))}`,`lucide-${n}`,i),...l}));return s.displayName=d0(n),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zt=fe("arrow-left",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_y=fe("arrow-right",BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],FN=fe("ban",VN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],io=fe("bell",UN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ky=fe("book-open",zN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Yu=fe("bookmark-check",WN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Sy=fe("building-2",HN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],qN=fe("building",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xn=fe("calendar",KN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],JN=fe("camera",YN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ju=fe("check",QN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ZN=fe("chevron-left",XN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],h0=fe("chevron-right",e_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qu=fe("circle-alert",t_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fn=fe("circle-check-big",n_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ur=fe("circle-x",s_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],sr=fe("clock",r_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],f0=fe("dollar-sign",i_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ey=fe("download",o_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],l_=fe("dumbbell",a_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xu=fe("eye-off",c_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Za=fe("eye",u_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],h_=fe("graduation-cap",d_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],m_=fe("hash",f_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],el=fe("heart",p_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],bs=fe("house",g_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],x_=fe("image",y_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Kd=fe("indian-rupee",v_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hl=fe("loader-circle",b_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qa=fe("lock",w_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Yd=fe("log-out",j_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],qr=fe("mail",N_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jt=fe("map-pin",__);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],yu=fe("message-circle",k_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ty=fe("pen",S_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Jd=fe("phone",E_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tl=fe("plus",T_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],P_=fe("refresh-cw",C_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],A_=fe("save",R_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],fl=fe("search",O_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qd=fe("shield",I_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],L_=fe("shirt",D_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],$_=fe("sliders-horizontal",M_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],V_=fe("square-pen",B_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ut=fe("star",F_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],z_=fe("thumbs-up",U_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Xd=fe("trash-2",W_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],zi=fe("trending-up",H_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],q_=fe("triangle-alert",G_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Y_=fe("upload",K_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zd=fe("user",J_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Zs=fe("users",Q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Z_=fe("utensils",X_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Cy=fe("wifi",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],nk=fe("wind",tk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rr=fe("x",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ik=fe("zap",rk);function ok({onComplete:n}){const[e,s]=T.useState(0),[i,l]=T.useState(!1),[c,u]=T.useState(!1);T.useEffect(()=>{const m=setInterval(()=>{s(p=>{if(p>=100)return clearInterval(m),100;const y=Math.random()*15+5;return Math.min(p+y,100)})},200);return()=>clearInterval(m)},[]),T.useEffect(()=>{e===100&&setTimeout(()=>{l(!0),u(!0)},800)},[e]);const h=()=>{n()};return o.jsx(Wn,{children:o.jsxs(V.div,{className:"fixed inset-0 bg-gradient-to-br from-stone-900 via-amber-900 to-stone-900 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,y:-50},transition:{duration:.8},children:[o.jsx("div",{className:"absolute inset-0 opacity-30",children:o.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-tr from-amber-500/30 via-transparent to-amber-500/30",animate:{x:["-100%","100%"]},transition:{duration:8,repeat:1/0,ease:"linear"}})}),o.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((m,p)=>o.jsx(V.div,{className:"absolute w-2 h-2 bg-amber-400/20 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],opacity:[.2,.5,.2],scale:[1,1.5,1]},transition:{duration:5+Math.random()*5,repeat:1/0,delay:Math.random()*2,ease:"easeInOut"}},p))}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6",children:[o.jsxs(V.div,{className:"flex flex-col items-center mb-12",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.8,type:"spring",stiffness:100},children:[o.jsxs(V.div,{className:"relative mb-6",animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[o.jsx(V.div,{className:"absolute inset-0 bg-amber-500 rounded-full blur-2xl opacity-50",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),o.jsx("div",{className:"relative bg-gradient-to-br from-amber-400 to-amber-600 rounded-full p-6 shadow-2xl",children:o.jsx(jt,{className:"w-16 h-16 text-white",strokeWidth:2.5})})]}),o.jsx(V.h1,{className:"text-white text-center tracking-wider mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:1},children:"PG Locator"}),o.jsx(V.p,{className:"text-amber-200 text-center max-w-md",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},children:"Find your perfect stay near ADTU"})]}),o.jsxs(V.div,{className:"w-full max-w-xs",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.6},children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx("div",{className:"w-full h-1.5 bg-stone-800 rounded-full overflow-hidden",children:o.jsx(V.div,{className:"h-full bg-gradient-to-r from-amber-500 via-amber-400 to-amber-500 rounded-full",initial:{width:"0%"},animate:{width:`${e}%`},transition:{duration:.3,ease:"easeOut"},children:o.jsx(V.div,{className:"h-full w-full bg-gradient-to-r from-transparent via-white to-transparent opacity-50",animate:{x:["-100%","200%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})})}),o.jsxs(V.div,{className:"text-amber-300 text-center mt-3",animate:{opacity:i?0:1},children:[Math.round(e),"%"]})]}),o.jsx(V.p,{className:"text-stone-400 text-center",animate:{opacity:i?0:1},children:"Setting up your neighborhood..."})]}),o.jsx(Wn,{children:c&&o.jsxs(V.button,{className:"mt-12 px-10 py-4 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden group",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:200,damping:15},onClick:h,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Tap to continue to onboarding",children:[o.jsx(V.div,{className:"absolute inset-0 bg-white rounded-full opacity-0 group-hover:opacity-20",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),o.jsx("span",{className:"relative z-10",children:"Tap to Continue"})]})})]}),o.jsx("div",{className:"sr-only",role:"status","aria-live":"polite",children:e<100?`Loading PG Locator, ${Math.round(e)}% complete`:"Loading complete. Tap to continue."})]})})}const ak=[{id:"student",title:"Student",description:"Find and book verified PGs near ADTU campus",icon:h_,color:"from-blue-500 to-blue-600",hoverColor:"hover:from-blue-600 hover:to-blue-700",features:["Browse listings","Read reviews","Book instantly","Connect with owners"]},{id:"owner",title:"Property Owner",description:"List and manage your PG properties",icon:bs,color:"from-amber-500 to-amber-600",hoverColor:"hover:from-amber-600 hover:to-amber-700",features:["List properties","Manage bookings","Track earnings","Verify students"]},{id:"admin",title:"Admin",description:"Oversee and verify PG listings",icon:Qd,color:"from-purple-500 to-purple-600",hoverColor:"hover:from-purple-600 hover:to-purple-700",features:["Verify listings","Manage users","View analytics","Handle disputes"]}];function lk({onRoleSelect:n}){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx(V.div,{className:"absolute top-0 left-1/4 w-96 h-96 bg-amber-200 rounded-full blur-3xl opacity-20",animate:{scale:[1,1.3,1],y:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),o.jsx(V.div,{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-blue-200 rounded-full blur-3xl opacity-20",animate:{scale:[1.3,1,1.3],y:[0,-50,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]}),o.jsx(V.header,{className:"relative z-20 flex justify-center items-center p-6 md:p-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jt,{className:"w-6 h-6 text-amber-700"}),o.jsx("span",{className:"text-amber-900",children:"PG Locator"})]})}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12",children:[o.jsxs(V.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsx("h1",{className:"text-amber-900 mb-4",children:"Choose Your Role"}),o.jsx("p",{className:"text-stone-600 max-w-2xl mx-auto",children:"Select how you'd like to use PG Locator. You can always change this later in settings."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:ak.map((e,s)=>o.jsxs(V.button,{onClick:()=>n(e.id),className:"group relative bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 text-left overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.3+s*.1,duration:.5},whileHover:{scale:1.03,y:-5},whileTap:{scale:.98},"aria-label":`Select ${e.title} role`,children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),o.jsx(V.div,{className:`relative inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br ${e.color} mb-6 shadow-md`,whileHover:{rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:o.jsx(e.icon,{className:"w-8 h-8 text-white",strokeWidth:2})}),o.jsx("h3",{className:"text-stone-900 mb-2 group-hover:text-amber-900 transition-colors",children:e.title}),o.jsx("p",{className:"text-stone-600 mb-6",children:e.description}),o.jsx("ul",{className:"space-y-2 mb-6",children:e.features.map((i,l)=>o.jsxs(V.li,{className:"flex items-center gap-2 text-stone-500",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5+l*.05},children:[o.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-gradient-to-br ${e.color}`}),o.jsx("span",{children:i})]},l))}),o.jsxs("div",{className:"flex items-center gap-2 text-amber-700 group-hover:text-amber-800 transition-colors",children:[o.jsx("span",{children:"Select Role"}),o.jsx(_y,{className:"w-4 h-4 group-hover:translate-x-2 transition-transform duration-300"})]}),o.jsx(V.div,{className:`absolute -bottom-12 -right-12 w-32 h-32 rounded-full bg-gradient-to-br ${e.color} opacity-10`,animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:s*.5}}),o.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20",initial:{x:"-100%"},whileHover:{x:"200%",transition:{duration:.8}}})]},e.id))}),o.jsx(V.div,{className:"text-center mt-16 text-stone-500",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:o.jsx("p",{children:"Your data is secure and you can switch roles anytime from your profile settings"})})]}),o.jsx("div",{className:"sr-only",role:"status","aria-live":"polite",children:"Role selection screen. Choose between Student, Property Owner, or Admin roles."})]})}const ck="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function ws(n){const[e,s]=T.useState(!1),i=()=>{s(!0)},{src:l,alt:c,style:u,className:h,...m}=n;return e?o.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:u,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsx("img",{src:ck,alt:"Error loading image",...m,"data-original-url":l})})}):o.jsx("img",{src:l,alt:c,className:h,style:u,...m,onError:i})}const hn=[{id:1,title:"Find Trusted PGs Nearby ADTU",subtitle:"Discover verified paying guest accommodations within walking distance of your campus",image:"https://images.unsplash.com/photo-1668089677938-b52086753f77?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb2Rlcm4lMjBiZWRyb29tJTIwaW50ZXJpb3J8ZW58MXx8fHwxNzYyNDI0MTQzfDA&ixlib=rb-4.1.0&q=80&w=1080",icon:jt},{id:2,title:"Verified Owners & Real Reviews",subtitle:"Browse authentic reviews from fellow students and connect with verified property owners",image:"https://images.unsplash.com/photo-1579632151052-92f741fb9b79?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb3p5JTIwc3R1ZGVudCUyMHJvb218ZW58MXx8fHwxNzYyMzc0OTQ3fDA&ixlib=rb-4.1.0&q=80&w=1080",icon:Ut},{id:3,title:"Manage or List Your Property With Ease",subtitle:"Property owners can list, manage bookings, and connect with students effortlessly",image:"https://images.unsplash.com/photo-1658248709868-3b5ab38c7c8d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9wZXJ0eSUyMG1hbmFnZW1lbnQlMjBkYXNoYm9hcmR8ZW58MXx8fHwxNzYyNDE1ODgyfDA&ixlib=rb-4.1.0&q=80&w=1080",icon:Sy}];function uk({onRoleSelect:n,onSkip:e}){const[s,i]=T.useState(0),[l,c]=T.useState(0),[u,h]=T.useState(!1),m=()=>{s<hn.length-1?(c(1),i(s+1)):h(!0)},p=()=>{s>0&&(c(-1),i(s-1))},y=v=>{c(v>s?1:-1),i(v)},g={enter:v=>({x:v>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:v=>({zIndex:0,x:v<0?1e3:-1e3,opacity:0})};return u?o.jsx(lk,{onRoleSelect:n}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx(V.div,{className:"absolute top-20 -right-20 w-64 h-64 bg-amber-200 rounded-full blur-3xl opacity-20",animate:{scale:[1,1.2,1],x:[0,30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),o.jsx(V.div,{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-stone-300 rounded-full blur-3xl opacity-20",animate:{scale:[1.2,1,1.2],x:[0,-30,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),o.jsxs(V.header,{className:"relative z-20 flex justify-between items-center p-6 md:p-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jt,{className:"w-6 h-6 text-amber-700"}),o.jsx("span",{className:"text-amber-900",children:"PG Locator"})]}),o.jsx("button",{onClick:()=>h(!0),className:"text-stone-600 hover:text-amber-700 transition-colors duration-300 px-4 py-2 rounded-full hover:bg-white/50","aria-label":"Skip onboarding",children:"Skip"})]}),o.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 pb-12",children:o.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex flex-col justify-center",children:[o.jsx("div",{className:"relative overflow-hidden mb-12",children:o.jsx(Wn,{initial:!1,custom:l,mode:"wait",children:o.jsxs(V.div,{custom:l,variants:g,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.3}},className:"grid md:grid-cols-2 gap-8 md:gap-16 items-center",children:[o.jsxs(V.div,{className:"relative order-2 md:order-1",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},children:[o.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl aspect-[4/3]",children:[o.jsx(ws,{src:hn[s].image,alt:hn[s].title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-amber-900/30 to-transparent"}),o.jsx(V.div,{className:"absolute top-6 right-6 bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg",animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:(()=>{const v=hn[s].icon;return v?o.jsx(v,{className:"w-8 h-8 text-amber-700"}):null})()})]}),o.jsx(V.div,{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-amber-400 rounded-full blur-2xl opacity-20 -z-10",animate:{scale:[1,1.3,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),o.jsxs(V.div,{className:"order-1 md:order-2 text-center md:text-left",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:[o.jsx(V.h2,{className:"text-amber-900 mb-6 max-w-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:hn[s].title}),o.jsx(V.p,{className:"text-stone-600 mb-8 max-w-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:hn[s].subtitle}),o.jsxs(V.button,{onClick:m,className:"group inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[o.jsx("span",{children:s===hn.length-1?"Get Started":"Next"}),o.jsx(h0,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),o.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:1}})]})]})]},s)})}),o.jsxs("div",{className:"flex items-center justify-center gap-8",children:[o.jsx("button",{onClick:p,disabled:s===0,className:"p-3 rounded-full bg-white shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed hover:scale-110 active:scale-95","aria-label":"Previous slide",children:o.jsx(ZN,{className:"w-6 h-6 text-amber-700"})}),o.jsx("div",{className:"flex gap-3",children:hn.map((v,w)=>o.jsx("button",{onClick:()=>y(w),className:"relative group","aria-label":`Go to slide ${w+1}`,"aria-current":s===w?"true":"false",children:o.jsx(V.div,{className:`w-3 h-3 rounded-full transition-all duration-300 ${s===w?"bg-amber-600 w-12":"bg-stone-300 hover:bg-amber-400"}`,whileHover:{scale:1.2},whileTap:{scale:.9}})},w))}),o.jsx("button",{onClick:m,className:"p-3 rounded-full bg-amber-600 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 active:scale-95","aria-label":s===hn.length-1?"Get started":"Next slide",children:o.jsx(h0,{className:"w-6 h-6 text-white"})})]})]})}),o.jsxs("div",{className:"sr-only",role:"status","aria-live":"polite","aria-atomic":"true",children:["Slide ",s+1," of ",hn.length,": ",hn[s].title]})]})}function dk({children:n,title:e,subtitle:s}){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-amber-50 to-stone-50 flex",children:[o.jsxs(V.div,{className:"hidden lg:flex lg:w-2/5 xl:w-1/2 bg-gradient-to-br from-amber-900 via-stone-900 to-amber-900 relative overflow-hidden",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[o.jsx("div",{className:"absolute inset-0 opacity-30",children:o.jsx(ws,{src:"https://images.unsplash.com/photo-1724204401208-6349fc373543?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsb2dpbiUyMGF1dGhlbnRpY2F0aW9uJTIwaWxsdXN0cmF0aW9ufGVufDF8fHx8MTc2MjQzMTk5NXww&ixlib=rb-4.1.0&q=80&w=1080",alt:"Authentication background",className:"w-full h-full object-cover"})}),o.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-tr from-amber-600/20 via-transparent to-amber-600/20",animate:{x:["-100%","100%"]},transition:{duration:10,repeat:1/0,ease:"linear"}}),o.jsx("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20",children:o.jsxs(V.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.8},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx("div",{className:"bg-amber-500 rounded-full p-3",children:o.jsx(jt,{className:"w-8 h-8 text-white"})}),o.jsx("span",{className:"text-white text-2xl",children:"PG Locator"})]}),o.jsx("h2",{className:"text-white mb-6 leading-tight",children:"Find Your Perfect Stay Near ADTU"}),o.jsx("p",{className:"text-amber-200 text-xl leading-relaxed max-w-md",children:"Trusted by thousands of students. Verified properties, authentic reviews, and seamless booking experience."}),o.jsx("div",{className:"mt-12 space-y-4",children:[" Verified PG accommodations"," Real student reviews"," Near campus locations"," Secure booking process"].map((i,l)=>o.jsxs(V.div,{className:"flex items-center gap-3 text-amber-100",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5+l*.1},children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),o.jsx("span",{children:i})]},l))})]})}),o.jsx(V.div,{className:"absolute bottom-10 right-10 w-64 h-64 rounded-full bg-amber-500 blur-3xl opacity-20",animate:{scale:[1,1.2,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6 md:p-12",children:o.jsxs(V.div,{className:"w-full max-w-md",initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[o.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[o.jsx(jt,{className:"w-6 h-6 text-amber-700"}),o.jsx("span",{className:"text-amber-900",children:"PG Locator"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-stone-900 mb-2",children:e}),o.jsx("p",{className:"text-stone-600",children:s})]}),n,o.jsx(V.div,{className:"mt-8 p-4 bg-amber-50 rounded-xl border border-amber-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:o.jsx("p",{className:"text-stone-600 text-center",children:" Your privacy is our priority. All data is encrypted and secure."})}),o.jsxs(V.div,{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[o.jsx("p",{className:"text-blue-900 mb-2 text-center",children:" Demo Credentials"}),o.jsxs("div",{className:"space-y-2 text-xs text-blue-800",children:[o.jsxs("div",{className:"bg-white rounded p-2",children:[o.jsx("p",{className:"font-medium",children:"Student:"}),o.jsx("p",{children:"teststuff677+test@gmail.com"}),o.jsx("p",{children:"Password: 123456"})]}),o.jsxs("div",{className:"bg-white rounded p-2",children:[o.jsx("p",{className:"font-medium",children:"Owner:"}),o.jsx("p",{children:"teststuff677+test1@gmail.com"}),o.jsx("p",{children:"Password: 123456"})]}),o.jsxs("div",{className:"bg-white rounded p-2",children:[o.jsx("p",{className:"font-medium",children:"Admin:"}),o.jsx("p",{children:"teststuff677@gmail.com"}),o.jsx("p",{children:"Password: akash97"})]})]})]}),o.jsxs("div",{className:"mt-6 flex items-center justify-center gap-6 text-stone-500",children:[o.jsx("a",{href:"#",className:"hover:text-amber-700 transition-colors",children:"Help"}),o.jsx("span",{children:""}),o.jsx("a",{href:"#",className:"hover:text-amber-700 transition-colors",children:"Privacy"}),o.jsx("span",{children:""}),o.jsx("a",{href:"#",className:"hover:text-amber-700 transition-colors",children:"Contact"})]})]})})]})}var Zu=function(n,e){return Zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])},Zu(n,e)};function Py(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Zu(n,e);function s(){this.constructor=n}n.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var nl=function(){return nl=Object.assign||function(e){for(var s,i=1,l=arguments.length;i<l;i++){s=arguments[i];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e},nl.apply(this,arguments)};function Xr(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(n);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(n,i[l])&&(s[i[l]]=n[i[l]]);return s}function Ry(n,e,s,i){var l=arguments.length,c=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,s):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,e,s,i);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(c=(l<3?u(c):l>3?u(e,s,c):u(e,s))||c);return l>3&&c&&Object.defineProperty(e,s,c),c}function Ay(n,e){return function(s,i){e(s,i,n)}}function Oy(n,e,s,i,l,c){function u(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var h=i.kind,m=h==="getter"?"get":h==="setter"?"set":"value",p=!e&&n?i.static?n:n.prototype:null,y=e||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),g,v=!1,w=s.length-1;w>=0;w--){var j={};for(var N in i)j[N]=N==="access"?{}:i[N];for(var N in i.access)j.access[N]=i.access[N];j.addInitializer=function(E){if(v)throw new TypeError("Cannot add initializers after decoration has completed");c.push(u(E||null))};var k=(0,s[w])(h==="accessor"?{get:y.get,set:y.set}:y[m],j);if(h==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(g=u(k.get))&&(y.get=g),(g=u(k.set))&&(y.set=g),(g=u(k.init))&&l.unshift(g)}else(g=u(k))&&(h==="field"?l.unshift(g):y[m]=g)}p&&Object.defineProperty(p,i.name,y),v=!0}function Iy(n,e,s){for(var i=arguments.length>2,l=0;l<e.length;l++)s=i?e[l].call(n,s):e[l].call(n);return i?s:void 0}function Dy(n){return typeof n=="symbol"?n:"".concat(n)}function Ly(n,e,s){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}function My(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function he(n,e,s,i){function l(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(y){try{p(i.next(y))}catch(g){u(g)}}function m(y){try{p(i.throw(y))}catch(g){u(g)}}function p(y){y.done?c(y.value):l(y.value).then(h,m)}p((i=i.apply(n,e||[])).next())})}function $y(n,e){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,l,c,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(s=0)),s;)try{if(i=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,l=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){s.label=p[1];break}if(p[0]===6&&s.label<c[1]){s.label=c[1],c=p;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(p);break}c[2]&&s.ops.pop(),s.trys.pop();continue}p=e.call(n,s)}catch(y){p=[6,y],l=0}finally{i=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var ml=Object.create?(function(n,e,s,i){i===void 0&&(i=s);var l=Object.getOwnPropertyDescriptor(e,s);(!l||("get"in l?!e.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(n,i,l)}):(function(n,e,s,i){i===void 0&&(i=s),n[i]=e[s]});function By(n,e){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s)&&ml(e,n,s)}function sl(n){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&n[e],i=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function eh(n,e){var s=typeof Symbol=="function"&&n[Symbol.iterator];if(!s)return n;var i=s.call(n),l,c=[],u;try{for(;(e===void 0||e-- >0)&&!(l=i.next()).done;)c.push(l.value)}catch(h){u={error:h}}finally{try{l&&!l.done&&(s=i.return)&&s.call(i)}finally{if(u)throw u.error}}return c}function Vy(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(eh(arguments[e]));return n}function Fy(){for(var n=0,e=0,s=arguments.length;e<s;e++)n+=arguments[e].length;for(var i=Array(n),l=0,e=0;e<s;e++)for(var c=arguments[e],u=0,h=c.length;u<h;u++,l++)i[l]=c[u];return i}function Uy(n,e,s){if(s||arguments.length===2)for(var i=0,l=e.length,c;i<l;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return n.concat(c||Array.prototype.slice.call(e))}function Kr(n){return this instanceof Kr?(this.v=n,this):new Kr(n)}function zy(n,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(n,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(w){return function(j){return Promise.resolve(j).then(w,g)}}function h(w,j){i[w]&&(l[w]=function(N){return new Promise(function(k,E){c.push([w,N,k,E])>1||m(w,N)})},j&&(l[w]=j(l[w])))}function m(w,j){try{p(i[w](j))}catch(N){v(c[0][3],N)}}function p(w){w.value instanceof Kr?Promise.resolve(w.value.v).then(y,g):v(c[0][2],w)}function y(w){m("next",w)}function g(w){m("throw",w)}function v(w,j){w(j),c.shift(),c.length&&m(c[0][0],c[0][1])}}function Wy(n){var e,s;return e={},i("next"),i("throw",function(l){throw l}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(l,c){e[l]=n[l]?function(u){return(s=!s)?{value:Kr(n[l](u)),done:!1}:c?c(u):u}:c}}function Hy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],s;return e?e.call(n):(n=typeof sl=="function"?sl(n):n[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(c){s[c]=n[c]&&function(u){return new Promise(function(h,m){u=n[c](u),l(h,m,u.done,u.value)})}}function l(c,u,h,m){Promise.resolve(m).then(function(p){c({value:p,done:h})},u)}}function Gy(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var hk=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},ed=function(n){return ed=Object.getOwnPropertyNames||function(e){var s=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[s.length]=i);return s},ed(n)};function qy(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var s=ed(n),i=0;i<s.length;i++)s[i]!=="default"&&ml(e,n,s[i]);return hk(e,n),e}function Ky(n){return n&&n.__esModule?n:{default:n}}function Yy(n,e,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(n):i?i.value:e.get(n)}function Jy(n,e,s,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!l:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(n,s):l?l.value=s:e.set(n,s),s}function Qy(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Xy(n,e,s){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,l;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],s&&(l=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");l&&(i=function(){try{l.call(this)}catch(c){return Promise.reject(c)}}),n.stack.push({value:e,dispose:i,async:s})}else s&&n.stack.push({async:!0});return e}var fk=typeof SuppressedError=="function"?SuppressedError:function(n,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=n,i.suppressed=e,i};function Zy(n){function e(c){n.error=n.hasError?new fk(c,n.error,"An error was suppressed during disposal."):c,n.hasError=!0}var s,i=0;function l(){for(;s=n.stack.pop();)try{if(!s.async&&i===1)return i=0,n.stack.push(s),Promise.resolve().then(l);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(c).then(l,function(u){return e(u),l()})}else i|=1}catch(u){e(u)}if(i===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return l()}function ex(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,l,c,u){return i?e?".jsx":".js":l&&(!c||!u)?s:l+c+"."+u.toLowerCase()+"js"}):n}const mk={__extends:Py,__assign:nl,__rest:Xr,__decorate:Ry,__param:Ay,__esDecorate:Oy,__runInitializers:Iy,__propKey:Dy,__setFunctionName:Ly,__metadata:My,__awaiter:he,__generator:$y,__createBinding:ml,__exportStar:By,__values:sl,__read:eh,__spread:Vy,__spreadArrays:Fy,__spreadArray:Uy,__await:Kr,__asyncGenerator:zy,__asyncDelegator:Wy,__asyncValues:Hy,__makeTemplateObject:Gy,__importStar:qy,__importDefault:Ky,__classPrivateFieldGet:Yy,__classPrivateFieldSet:Jy,__classPrivateFieldIn:Qy,__addDisposableResource:Xy,__disposeResources:Zy,__rewriteRelativeImportExtension:ex},pk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Xy,get __assign(){return nl},__asyncDelegator:Wy,__asyncGenerator:zy,__asyncValues:Hy,__await:Kr,__awaiter:he,__classPrivateFieldGet:Yy,__classPrivateFieldIn:Qy,__classPrivateFieldSet:Jy,__createBinding:ml,__decorate:Ry,__disposeResources:Zy,__esDecorate:Oy,__exportStar:By,__extends:Py,__generator:$y,__importDefault:Ky,__importStar:qy,__makeTemplateObject:Gy,__metadata:My,__param:Ay,__propKey:Dy,__read:eh,__rest:Xr,__rewriteRelativeImportExtension:ex,__runInitializers:Iy,__setFunctionName:Ly,__spread:Vy,__spreadArray:Uy,__spreadArrays:Fy,__values:sl,default:mk},Symbol.toStringTag,{value:"Module"})),gk=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class th extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class m0 extends th{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p0 extends th{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g0 extends th{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var td;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(td||(td={}));class yk{constructor(e,{headers:s={},customFetch:i,region:l=td.Any}={}){this.url=e,this.headers=s,this.region=l,this.fetch=gk(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return he(this,arguments,void 0,function*(s,i={}){var l;try{const{headers:c,method:u,body:h,signal:m}=i;let p={},{region:y}=i;y||(y=this.region);const g=new URL(`${this.url}/${s}`);y&&y!=="any"&&(p["x-region"]=y,g.searchParams.set("forceFunctionRegion",y));let v;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=h):typeof h=="string"?(p["Content-Type"]="text/plain",v=h):typeof FormData<"u"&&h instanceof FormData?v=h:(p["Content-Type"]="application/json",v=JSON.stringify(h)):v=h;const w=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),c),body:v,signal:m}).catch(E=>{throw E.name==="AbortError"?E:new m0(E)}),j=w.headers.get("x-relay-error");if(j&&j==="true")throw new p0(w);if(!w.ok)throw new g0(w);let N=((l=w.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),k;return N==="application/json"?k=yield w.json():N==="application/octet-stream"||N==="application/pdf"?k=yield w.blob():N==="text/event-stream"?k=w:N==="multipart/form-data"?k=yield w.formData():k=yield w.text(),{data:k,error:null,response:w}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new m0(c)}:{data:null,error:c,response:c instanceof g0||c instanceof p0?c.context:void 0}}})}}var vt={};const Zr=yb(pk);var Aa={},Oa={},Ia={},Da={},La={},Ma={},y0;function tx(){if(y0)return Ma;y0=1,Object.defineProperty(Ma,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ma.default=n,Ma}var x0;function nx(){if(x0)return La;x0=1,Object.defineProperty(La,"__esModule",{value:!0});const e=Zr.__importDefault(tx());class s{constructor(l){var c,u;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(u=l.isMaybeSingle)!==null&&u!==void 0?u:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,y,g,v;let w=null,j=null,N=null,k=m.status,E=m.statusText;if(m.ok){if(this.method!=="HEAD"){const P=await m.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=P:j=JSON.parse(P))}const _=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),O=(g=m.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");_&&O&&O.length>1&&(N=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(w={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,k=406,E="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const _=await m.text();try{w=JSON.parse(_),Array.isArray(w)&&m.status===404&&(j=[],w=null,k=200,E="OK")}catch{m.status===404&&_===""?(k=204,E="No Content"):w={message:_}}if(w&&this.isMaybeSingle&&(!((v=w?.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,k=200,E="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:j,count:N,status:k,statusText:E}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,y,g;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(g=m?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,c)}returns(){return this}overrideTypes(){return this}}return La.default=s,La}var v0;function sx(){if(v0)return Da;v0=1,Object.defineProperty(Da,"__esModule",{value:!0});const e=Zr.__importDefault(nx());class s extends e.default{select(l){let c=!1;const u=(l??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${l}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,c,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(p,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var y;const g=[l?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),v=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${v}"; options=${g};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Da.default=s,Da}var b0;function nh(){if(b0)return Ia;b0=1,Object.defineProperty(Ia,"__esModule",{value:!0});const e=Zr.__importDefault(sx()),s=new RegExp("[,()]");class i extends e.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}in(c,u){const h=Array.from(new Set(u)).map(m=>typeof m=="string"&&s.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${p}fts${y}.${u}`),this}match(c){return Object.entries(c).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(c,u,h){return this.url.searchParams.append(c,`not.${u}.${h}`),this}or(c,{foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,u,h){return this.url.searchParams.append(c,`${u}.${h}`),this}}return Ia.default=i,Ia}var w0;function rx(){if(w0)return Oa;w0=1,Object.defineProperty(Oa,"__esModule",{value:!0});const e=Zr.__importDefault(nh());class s{constructor(l,{headers:c={},schema:u,fetch:h}){this.url=l,this.headers=new Headers(c),this.schema=u,this.fetch=h}select(l,c){const{head:u=!1,count:h}=c??{},m=u?"HEAD":"GET";let p=!1;const y=(l??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:u=!0}={}){var h;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(p.length>0){const y=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:m=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(g.length>0){const v=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:c}={}){var u;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var c;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Oa.default=s,Oa}var j0;function xk(){if(j0)return Aa;j0=1,Object.defineProperty(Aa,"__esModule",{value:!0});const n=Zr,e=n.__importDefault(rx()),s=n.__importDefault(nh());class i{constructor(c,{headers:u={},schema:h,fetch:m}={}){this.url=c,this.headers=new Headers(u),this.schemaName=h,this.fetch=m}from(c){const u=new URL(`${this.url}/${c}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:h=!1,get:m=!1,count:p}={}){var y;let g;const v=new URL(`${this.url}/rpc/${c}`);let w;h||m?(g=h?"HEAD":"GET",Object.entries(u).filter(([N,k])=>k!==void 0).map(([N,k])=>[N,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([N,k])=>{v.searchParams.append(N,k)})):(g="POST",w=u);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new s.default({method:g,url:v,headers:j,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Aa.default=i,Aa}var N0;function vk(){if(N0)return vt;N0=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.PostgrestError=vt.PostgrestBuilder=vt.PostgrestTransformBuilder=vt.PostgrestFilterBuilder=vt.PostgrestQueryBuilder=vt.PostgrestClient=void 0;const n=Zr,e=n.__importDefault(xk());vt.PostgrestClient=e.default;const s=n.__importDefault(rx());vt.PostgrestQueryBuilder=s.default;const i=n.__importDefault(nh());vt.PostgrestFilterBuilder=i.default;const l=n.__importDefault(sx());vt.PostgrestTransformBuilder=l.default;const c=n.__importDefault(nx());vt.PostgrestBuilder=c.default;const u=n.__importDefault(tx());return vt.PostgrestError=u.default,vt.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:u.default},vt}var ix=vk();const ox=hd(ix),bk=gb({__proto__:null,default:ox},[ix]),{PostgrestClient:wk,PostgrestQueryBuilder:uT,PostgrestFilterBuilder:dT,PostgrestTransformBuilder:hT,PostgrestBuilder:fT,PostgrestError:mT}=ox||bk;class jk{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Nk="2.80.0",_k=`realtime-js/${Nk}`,kk="1.0.0",nd=1e4,Sk=1e3,Ek=100;var Ji;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ji||(Ji={}));var nt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(nt||(nt={}));var yn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(yn||(yn={}));var sd;(function(n){n.websocket="websocket"})(sd||(sd={}));var Ys;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ys||(Ys={}));class Tk{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const l=s.getUint8(1),c=s.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+l));u=u+l;const m=i.decode(e.slice(u,u+c));u=u+c;const p=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class ax{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ie||(Ie={}));const _0=(n,e,s={})=>{var i;const l=(i=s.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((c,u)=>(c[u]=Ck(u,n,e,l),c),{}):{}},Ck=(n,e,s,i)=>{const l=e.find(h=>h.name===n),c=l?.type,u=s[n];return c&&!i.includes(c)?lx(c,u):rd(u)},lx=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Ok(e,s)}switch(n){case Ie.bool:return Pk(e);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Rk(e);case Ie.json:case Ie.jsonb:return Ak(e);case Ie.timestamp:return Ik(e);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return rd(e);default:return rd(e)}},rd=n=>n,Pk=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Rk=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Ak=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Ok=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let c;const u=n.slice(1,s);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>lx(e,h))}return n},Ik=n=>typeof n=="string"?n.replace(" ","T"):n,cx=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class xu{constructor(e,s,i={},l=nd){this.channel=e,this.event=s,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var k0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(k0||(k0={}));class Qi{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qi.syncState(this.state,l,c,u),this.pendingDiffs.forEach(m=>{this.state=Qi.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},l=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Qi.syncDiff(this.state,l,c,u),h())}),this.onJoin((l,c,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:u})}),this.onLeave((l,c,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,l){const c=this.cloneDeep(e),u=this.transformState(s),h={},m={};return this.map(c,(p,y)=>{u[p]||(m[p]=y)}),this.map(u,(p,y)=>{const g=c[p];if(g){const v=y.map(k=>k.presence_ref),w=g.map(k=>k.presence_ref),j=y.filter(k=>w.indexOf(k.presence_ref)<0),N=g.filter(k=>v.indexOf(k.presence_ref)<0);j.length>0&&(h[p]=j),N.length>0&&(m[p]=N)}else h[p]=y}),this.syncDiff(c,{joins:h,leaves:m},i,l)}static syncDiff(e,s,i,l){const{joins:c,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(c,(h,m)=>{var p;const y=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(m),y.length>0){const g=e[h].map(w=>w.presence_ref),v=y.filter(w=>g.indexOf(w.presence_ref)<0);e[h].unshift(...v)}i(h,y,m)}),this.map(u,(h,m)=>{let p=e[h];if(!p)return;const y=m.map(g=>g.presence_ref);p=p.filter(g=>y.indexOf(g.presence_ref)<0),e[h]=p,l(h,p,m),p.length===0&&delete e[h]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const l=e[i];return"metas"in l?s[i]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[i]=l,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var S0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(S0||(S0={}));var Xi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Xi||(Xi={}));var Vn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Vn||(Vn={}));class sh{constructor(e,s={config:{}},i){var l,c;if(this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new xu(this,yn.join,this.params,this.timeout),this.rejoinTimer=new ax(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Qi(this),this.broadcastEndpointURL=cx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var i,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:u,presence:h,private:m}}=this.params,p=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[Xi.PRESENCE]&&this.bindings[Xi.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,g={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(Vn.CHANNEL_ERROR,w)),this._onClose(()=>e?.(Vn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket.setAuth(),w===void 0){e?.(Vn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,k=(j=N?.length)!==null&&j!==void 0?j:0,E=[];for(let I=0;I<k;I++){const _=N[I],{filter:{event:O,schema:P,table:$,filter:U}}=_,W=w&&w[I];if(W&&W.event===O&&W.schema===P&&W.table===$&&W.filter===U)E.push(Object.assign(Object.assign({},_),{id:W.id}));else{this.unsubscribe(),this.state=nt.errored,e?.(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Vn.SUBSCRIBED);return}}).receive("error",w=>{this.state=nt.errored,e?.(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===nt.joined&&e===Xi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async httpSend(e,s,i={}){var l;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const p=await h.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(e,s={}){var i,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,m;const p=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=nt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new xu(this,yn.leave,{},e),i.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const l=new AbortController,c=setTimeout(()=>l.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),u}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new xu(this,e,s,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ek){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var l,c;const u=e.toLocaleLowerCase(),{close:h,error:m,leave:p,join:y}=yn;if(i&&[h,m,p,y].indexOf(u)>=0&&i!==this._joinRef())return;let v=this._onMessage(u,s,i);if(s&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var j,N,k;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((k=(N=w.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(w=>w.callback(v,i)):(c=this.bindings[u])===null||c===void 0||c.filter(w=>{var j,N,k,E,I,_;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const O=w.id,P=(j=w.filter)===null||j===void 0?void 0:j.event;return O&&((N=s.ids)===null||N===void 0?void 0:N.includes(O))&&(P==="*"||P?.toLocaleLowerCase()===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const O=(I=(E=w?.filter)===null||E===void 0?void 0:E.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return O==="*"||O===((_=s?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:N,table:k,commit_timestamp:E,type:I,errors:_}=j;v=Object.assign(Object.assign({},{schema:N,table:k,commit_timestamp:E,eventType:I,new:{},old:{},errors:_}),this._getPayloadRecords(j))}w.callback(v,i)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const l=e.toLocaleLowerCase(),c={type:l,filter:s,callback:i};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&sh.isEqual(l.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yn.close,{},e)}_onError(e){this._on(yn.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=_0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=_0(e.columns,e.old_record)),s}}const vu=()=>{},$a={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dk=[1e3,2e3,5e3,1e4],Lk=1e4,Mk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $k{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nd,this.transport=null,this.heartbeatIntervalMs=$a.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vu,this.ref=0,this.reconnectTimer=null,this.logger=vu,this.conn=null,this.sendBuffer=[],this.serializer=new Tk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${sd.websocket}`,this.httpEndpoint=cx(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kk}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ji.connecting:return Ys.Connecting;case Ji.open:return Ys.Open;case Ji.closing:return Ys.Closing;default:return Ys.Closed}}isConnected(){return this.connectionState()===Ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===i);if(l)return l;{const c=new sh(`realtime:${e}`,s,this);return this.channels.push(c),c}}push(e){const{topic:s,event:i,payload:l,ref:c}=e,u=()=>{this.encode(e,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${s} ${i} (${c})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Sk,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},$a.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:c,ref:u}=s,h=u?`(${u})`:"",m=c.status||"";this.log("receive",`${m} ${i} ${l} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,c,u)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(yn.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${e}${i}${l}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([Mk],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const l={access_token:s,version:_k};s&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(yn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new ax(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$a.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,l,c,u,h,m,p,y;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:nd,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:$a.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:vu,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(g=>Dk[g-1]||Lk),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((g,v)=>v(JSON.stringify(g))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class rh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Fe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Bk extends rh{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class id extends rh{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}const ih=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Vk=()=>Response,od=n=>{if(Array.isArray(n))return n.map(s=>od(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,i])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=od(i)}),e},Fk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},bu=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Uk=(n,e,s)=>he(void 0,void 0,void 0,function*(){const i=yield Vk();n instanceof i&&!s?.noResolveJson?n.json().then(l=>{const c=n.status||500,u=l?.statusCode||c+"";e(new Bk(bu(l),c,u))}).catch(l=>{e(new id(bu(l),l))}):e(new id(bu(n),n))}),zk=(n,e,s,i)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"||!i?l:(Fk(i)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(i)):l.body=i,e?.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),s))};function mo(n,e,s,i,l,c){return he(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(s,zk(e,i,l,c)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>Uk(m,h,i))})})}function oo(n,e,s,i){return he(this,void 0,void 0,function*(){return mo(n,"GET",e,s,i)})}function gn(n,e,s,i,l){return he(this,void 0,void 0,function*(){return mo(n,"POST",e,i,l,s)})}function ad(n,e,s,i,l){return he(this,void 0,void 0,function*(){return mo(n,"PUT",e,i,l,s)})}function Wk(n,e,s,i){return he(this,void 0,void 0,function*(){return mo(n,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function oh(n,e,s,i,l){return he(this,void 0,void 0,function*(){return mo(n,"DELETE",e,i,l,s)})}class Hk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return he(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Fe(e))return{data:null,error:e};throw e}})}}var ux;class Gk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[ux]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hk(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return he(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Fe(e))return{data:null,error:e};throw e}})}}ux=Symbol.toStringTag;const qk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},E0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kk{constructor(e,s={},i,l){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=ih(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,l){return he(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},E0),l);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),m&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(m))):(c=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),l?.headers&&(h=Object.assign(Object.assign({},h),l.headers));const p=this._removeEmptyFolders(s),y=this._getFinalPath(p),g=yield(e=="PUT"?ad:gn)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Fe(c))return{data:null,error:c};throw c}})}upload(e,s,i){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,l){return he(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",s);try{let m;const p=Object.assign({upsert:E0.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",p.cacheControl)):(m=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const g=yield ad(this.fetch,h.toString(),m,{headers:y});return{data:{path:c,fullPath:g.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,s){return he(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const l=Object.assign({},this.headers);s?.upsert&&(l["x-upsert"]="true");const c=yield gn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new rh("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}update(e,s,i){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return he(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}copy(e,s,i){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrl(e,s,i){return he(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),c=yield gn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrls(e,s,i){return he(this,void 0,void 0,function*(){try{const l=yield gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}download(e,s){const l=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),u=c?`?${c}`:"",h=this._getFinalPath(e),m=()=>oo(this.fetch,`${this.url}/${l}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new Gk(m,this.shouldThrowOnError)}info(e){return he(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield oo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:od(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}exists(e){return he(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Wk(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i)&&i instanceof id){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),l=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const h=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&l.push(m);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield oh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}list(e,s,i){return he(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},qk),s),{prefix:e||""});return{data:yield gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}listV2(e,s){return he(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield gn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const dx="2.80.0",hx={"X-Client-Info":`storage-js/${dx}`};class Yk{constructor(e,s={},i,l){this.shouldThrowOnError=!1;const c=new URL(e);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hx),s),this.fetch=ih(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return he(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(e);return{data:yield oo(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}createBucket(e){return he(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield gn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}updateBucket(e,s){return he(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}emptyBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield oh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(e){const s={};return e&&("limit"in e&&(s.limit=String(e.limit)),"offset"in e&&(s.offset=String(e.offset)),e.search&&(s.search=e.search),e.sortColumn&&(s.sortColumn=e.sortColumn),e.sortOrder&&(s.sortOrder=e.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class Jk{constructor(e,s={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hx),s),this.fetch=ih(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}listBuckets(e){return he(this,void 0,void 0,function*(){try{const s=new URLSearchParams;e?.limit!==void 0&&s.set("limit",e.limit.toString()),e?.offset!==void 0&&s.set("offset",e.offset.toString()),e?.sortColumn&&s.set("sortColumn",e.sortColumn),e?.sortOrder&&s.set("sortOrder",e.sortOrder),e?.search&&s.set("search",e.search);const i=s.toString(),l=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield oo(this.fetch,l,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield oh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}}const ah={"X-Client-Info":`storage-js/${dx}`,"Content-Type":"application/json"};class fx extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Vt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class wu extends fx{constructor(e,s,i){super(e),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qk extends fx{constructor(e,s){super(e),this.name="StorageVectorsUnknownError",this.originalError=s}}var T0;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(T0||(T0={}));const lh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Xk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},C0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Zk=(n,e,s)=>he(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!s?.noResolveJson){const l=n.status||500,c=n;if(typeof c.json=="function")c.json().then(u=>{const h=u?.statusCode||u?.code||l+"";e(new wu(C0(u),l,h))}).catch(()=>{const u=l+"",h=c.statusText||`HTTP ${l} error`;e(new wu(h,l,u))});else{const u=l+"",h=c.statusText||`HTTP ${l} error`;e(new wu(h,l,u))}}else e(new Qk(C0(n),n))}),eS=(n,e,s,i)=>{const l={method:n,headers:e?.headers||{}};return i?(Xk(i)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(i)):l.body=i,Object.assign(Object.assign({},l),s)):l};function tS(n,e,s,i,l,c){return he(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(s,eS(e,i,l,c)).then(m=>{if(!m.ok)throw m;if(i?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>u(m)).catch(m=>Zk(m,h,i))})})}function Ft(n,e,s,i,l){return he(this,void 0,void 0,function*(){return tS(n,"POST",e,i,l,s)})}class nS{constructor(e,s={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ah),s),this.fetch=lh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}getIndex(e,s){return he(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}listIndexes(e){return he(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}deleteIndex(e,s){return he(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Vt(i))return{data:null,error:i};throw i}})}}class sS{constructor(e,s={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ah),s),this.fetch=lh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return he(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ft(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}getVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}listVectors(e){return he(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ft(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}queryVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}deleteVectors(e){return he(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ft(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}}class rS{constructor(e,s={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ah),s),this.fetch=lh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}listBuckets(){return he(this,arguments,void 0,function*(e={}){try{return{data:yield Ft(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}}class iS extends rS{constructor(e,s={}){super(e,s.headers||{},s.fetch)}from(e){return new oS(this.url,this.headers,e,this.fetch)}}class oS extends nS{constructor(e,s,i,l){super(e,s,l),this.vectorBucketName=i}createIndex(e){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return he(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return he(this,arguments,void 0,function*(s={}){return e.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return he(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return he(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new aS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class aS extends sS{constructor(e,s,i,l,c){super(e,s,c),this.vectorBucketName=i,this.indexName=l}putVectors(e){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return he(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return he(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return he(this,arguments,void 0,function*(s={}){return e.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return he(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return he(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class lS extends Yk{constructor(e,s={},i,l){super(e,s,i,l)}from(e){return new Kk(this.url,this.headers,e,this.fetch)}get vectors(){return new iS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Jk(this.url+"/iceberg",this.headers,this.fetch)}}const cS="2.80.0";let Wi="";typeof Deno<"u"?Wi="deno":typeof document<"u"?Wi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wi="react-native":Wi="node";const uS={"X-Client-Info":`supabase-js-${Wi}/${cS}`},dS={headers:uS},hS={schema:"public"},fS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mS={},pS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),gS=()=>Headers,yS=(n,e,s)=>{const i=pS(s),l=gS();return async(c,u)=>{var h;const m=(h=await e())!==null&&h!==void 0?h:n;let p=new l(u?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(c,Object.assign(Object.assign({},u),{headers:p}))}};function xS(n){return n.endsWith("/")?n:n+"/"}function vS(n,e){var s,i;const{db:l,auth:c,realtime:u,global:h}=n,{db:m,auth:p,realtime:y,global:g}=e,v={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},g),h),{headers:Object.assign(Object.assign({},(s=g?.headers)!==null&&s!==void 0?s:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function bS(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mx="2.80.0",Dr=30*1e3,ld=3,ju=ld*Dr,wS="http://localhost:9999",jS="supabase.auth.token",NS={"X-Client-Info":`gotrue-js/${mx}`},cd="X-Supabase-Api-Version",px={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_S=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kS=600*1e3;class ao extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function me(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class SS extends ao{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function ES(n){return me(n)&&n.name==="AuthApiError"}class Js extends ao{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ks extends ao{constructor(e,s,i,l){super(e,i,l),this.name=s,this.status=i}}class fn extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TS(n){return me(n)&&n.name==="AuthSessionMissingError"}class Pr extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ba extends ks{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Va extends ks{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CS(n){return me(n)&&n.name==="AuthImplicitGrantRedirectError"}class P0 extends ks{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ud extends ks{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Nu(n){return me(n)&&n.name==="AuthRetryableFetchError"}class R0 extends ks{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class dd extends ks{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A0=` 	
\r=`.split(""),PS=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<A0.length;e+=1)n[A0[e].charCodeAt(0)]=-2;for(let e=0;e<rl.length;e+=1)n[rl[e].charCodeAt(0)]=e;return n})();function O0(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(rl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(rl[i]),e.queuedBits-=6}}function gx(n,e,s){const i=PS[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function I0(n){const e=[],s=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=u=>{OS(u,i,s)};for(let u=0;u<n.length;u+=1)gx(n.charCodeAt(u),l,c);return e.join("")}function RS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function AS(n,e){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}RS(i,e)}}function OS(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Wr(n){const e=[],s={queue:0,queuedBits:0},i=l=>{e.push(l)};for(let l=0;l<n.length;l+=1)gx(n.charCodeAt(l),s,i);return new Uint8Array(e)}function IS(n){const e=[];return AS(n,s=>e.push(s)),new Uint8Array(e)}function er(n){const e=[],s={queue:0,queuedBits:0},i=l=>{e.push(l)};return n.forEach(l=>O0(l,s,i)),O0(null,s,i),e.join("")}function DS(n){return Math.round(Date.now()/1e3)+n}function LS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const bt=()=>typeof window<"u"&&typeof document<"u",Hs={tested:!1,writable:!1},yx=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hs.tested)return Hs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Hs.tested=!0,Hs.writable=!0}catch{Hs.tested=!0,Hs.writable=!1}return Hs.writable};function MS(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return s.searchParams.forEach((i,l)=>{e[l]=i}),e}const xx=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),$S=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Lr=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},Gs=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ys=async(n,e)=>{await n.removeItem(e)};class pl{constructor(){this.promise=new pl.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}pl.promiseConstructor=Promise;function _u(n){const e=n.split(".");if(e.length!==3)throw new dd("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!_S.test(e[i]))throw new dd("JWT not in base64url format");return{header:JSON.parse(I0(e[0])),payload:JSON.parse(I0(e[1])),signature:Wr(e[2]),raw:{header:e[0],payload:e[1]}}}async function BS(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function VS(n,e){return new Promise((i,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!e(c,null,u)){i(u);return}}catch(u){if(!e(c,u)){l(u);return}}})()})}function FS(n){return("0"+n.toString(16)).substr(-2)}function US(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(e),Array.from(e,FS).join("")}async function zS(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(i);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function WS(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await zS(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rr(n,e,s=!1){const i=US();let l=i;s&&(l+="/PASSWORD_RECOVERY"),await Lr(n,`${e}-code-verifier`,l);const c=await WS(i);return[c,i===c?"plain":"s256"]}const HS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GS(n){const e=n.headers.get(cd);if(!e||!e.match(HS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qS(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function KS(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ar(n){if(!YS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ku(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JS(n,e){return new Proxy(n,{get:(s,i,l)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,l)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,i,l)}})}function D0(n){return JSON.parse(JSON.stringify(n))}const Ks=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),QS=[502,503,504];async function L0(n){var e;if(!$S(n))throw new ud(Ks(n),0);if(QS.includes(n.status))throw new ud(Ks(n),n.status);let s;try{s=await n.json()}catch(c){throw new Js(Ks(c),c)}let i;const l=GS(n);if(l&&l.getTime()>=px["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new R0(Ks(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new fn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new R0(Ks(s),n.status,s.weak_password.reasons);throw new SS(Ks(s),n.status||500,i)}const XS=(n,e,s,i)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),s))};async function be(n,e,s,i){var l;const c=Object.assign({},i?.headers);c[cd]||(c[cd]=px["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await ZS(n,e,s+h,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function ZS(n,e,s,i,l,c){const u=XS(e,i,l,c);let h;try{h=await n(s,Object.assign({},u))}catch(m){throw console.error(m),new ud(Ks(m),0)}if(h.ok||await L0(h),i?.noResolveJson)return h;try{return await h.json()}catch(m){await L0(m)}}function mn(n){var e;let s=null;nE(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=DS(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:i},error:null}}function M0(n){const e=mn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function vs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function eE(n){return{data:n,error:null}}function tE(n){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c}=n,u=Xr(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c},m=Object.assign({},u);return{data:{properties:h,user:m},error:null}}function $0(n){return n}function nE(n){return n.access_token&&n.refresh_token&&n.expires_in}const Su=["global","local","others"];class sE{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=xx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Su[0]){if(Su.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Su.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:vs})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=Xr(e,["options"]),l=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:tE,redirectTo:s?.redirectTo})}catch(s){if(me(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vs})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,l,c,u,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:$0});if(y.error)throw y.error;const g=await y.json(),v=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);p[`${k}Page`]=N}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(me(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ar(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vs})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Ar(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:vs})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){Ar(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:vs})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Ar(e.userId);try{const{data:s,error:i}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:i}}catch(s){if(me(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Ar(e.userId),Ar(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,i,l,c,u,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:$0});if(y.error)throw y.error;const g=await y.json(),v=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);p[`${k}Page`]=N}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(me(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(me(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(me(s))return{data:null,error:s};throw s}}}function B0(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const Or={debug:!!(globalThis&&yx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rE extends vx{}async function iE(n,e,s){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await s()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(e===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new rE(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Or.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function oE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bx(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function aE(n){return parseInt(n,16)}function lE(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function cE(n){var e;const{chainId:s,domain:i,expirationTime:l,issuedAt:c=new Date,nonce:u,notBefore:h,requestId:m,resources:p,scheme:y,uri:g,version:v}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const w=bx(n.address),j=y?`${y}://${i}`:i,N=n.statement?`${n.statement}
`:"",k=`${j} wants you to sign in with your Ethereum account:
${w}

${N}`;let E=`URI: ${g}
Version: ${v}
Chain ID: ${s}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(l&&(E+=`
Expiration Time: ${l.toISOString()}`),h&&(E+=`
Not Before: ${h.toISOString()}`),m&&(E+=`
Request ID: ${m}`),p){let I=`
Resources:`;for(const _ of p){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);I+=`
- ${_}`}E+=I}return`${k}
${E}`}class Qe extends Error{constructor({message:e,code:s,cause:i,name:l}){var c;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=l??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class il extends Qe{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function uE({error:n,options:e}){var s,i,l;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Qe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(wx(u)){if(c.rp.id!==u)return new Qe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function dE({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Qe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(wx(i)){if(s.rpId!==i)return new Qe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class hE{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const fE=new hE;function mE(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:i}=n,l=Xr(n,["challenge","user","excludeCredentials"]),c=Wr(e).buffer,u=Object.assign(Object.assign({},s),{id:Wr(s.id).buffer}),h=Object.assign(Object.assign({},l),{challenge:c,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const p=i[m];h.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Wr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function pE(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,i=Xr(n,["challenge","allowCredentials"]),l=Wr(e).buffer,c=Object.assign(Object.assign({},i),{challenge:l});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const h=s[u];c.allowCredentials[u]=Object.assign(Object.assign({},h),{id:Wr(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function gE(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:er(new Uint8Array(n.response.attestationObject)),clientDataJSON:er(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yE(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:er(new Uint8Array(l.authenticatorData)),clientDataJSON:er(new Uint8Array(l.clientDataJSON)),signature:er(new Uint8Array(l.signature)),userHandle:l.userHandle?er(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wx(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function V0(){var n,e;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function xE(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:uE({error:e,options:n})}}}async function vE(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:dE({error:e,options:n})}}}const bE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},wE={userVerification:"preferred",hints:["security-key"]};function ol(...n){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),i={};for(const l of n)if(l)for(const c in l){const u=l[c];if(u!==void 0)if(Array.isArray(u))i[c]=u;else if(s(u))i[c]=u;else if(e(u)){const h=i[c];e(h)?i[c]=ol(h,u):i[c]=ol(u)}else i[c]=u}return i}function jE(n,e){return ol(bE,n,e||{})}function NE(n,e){return ol(wE,n,e||{})}class _E{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:i,signal:l},c){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!u)return{data:null,error:h};const m=l??fE.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=jE(u.webauthn.credential_options.publicKey,c?.create),{data:y,error:g}=await xE({publicKey:p,signal:m});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}case"request":{const p=NE(u.webauthn.credential_options.publicKey,c?.request),{data:y,error:g}=await vE(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:m}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new Js("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}},c){if(!s)return{data:null,error:new ao("rpId is required for WebAuthn authentication")};try{if(!V0())return{data:null,error:new Js("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:i},signal:l},{request:c});if(!u)return{data:null,error:h};const{webauthn:m}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:i,credential_response:m.credential_response}})}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new Js("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l},c){if(!s)return{data:null,error:new ao("rpId is required for WebAuthn registration")};try{if(!V0())return{data:null,error:new Js("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var g;return(g=y.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:m,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:l},{create:c});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(u){return me(u)?{data:null,error:u}:{data:null,error:new Js("Unexpected error in register",u)}}}}oE();const kE={url:wS,storageKey:jS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function F0(n,e,s){return await s()}const Ir={};class lo{get jwks(){var e,s;return(s=(e=Ir[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ir[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{cachedAt:e})}constructor(e){var s,i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},kE),e);if(this.storageKey=c.storageKey,this.instanceID=(s=lo.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,lo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&bt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new sE({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=xx(c.fetch),this.lock=c.lock||F0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:bt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=iE:this.lock=F0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _E(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:yx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=B0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=B0(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${mx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},i="none";if(bt()&&(s=MS(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),bt()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),CS(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return me(s)?this._returnResult({error:s}):this._returnResult({error:new Js("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,l;try{const c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:mn}),{data:u,error:h}=c;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var s,i,l;try{let c;if("email"in e){const{email:y,password:g,options:v}=e;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await Rr(this.storage,this.storageKey)),c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:y,password:g,data:(s=v?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:j},xform:mn})}else if("phone"in e){const{phone:y,password:g,options:v}=e;c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:g,data:(i=v?.data)!==null&&i!==void 0?i:{},channel:(l=v?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:mn})}else throw new Ba("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let s;if("email"in e){const{email:c,password:u,options:h}=e;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:M0})}else if("phone"in e){const{phone:c,password:u,options:h}=e;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:M0})}else throw new Ba("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const c=new Pr;return this._returnResult({data:{user:null,session:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,i,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,i,l,c,u,h,m,p,y,g,v;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:N,wallet:k,statement:E,options:I}=e;let _;if(bt())if(typeof k=="object")_=k;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")_=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=k}const O=new URL((s=I?.url)!==null&&s!==void 0?s:window.location.href),P=await _.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=bx(P[0]);let U=(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!U){const te=await _.request({method:"eth_chainId"});U=aE(te)}const W={domain:O.host,address:$,statement:E,uri:O.href,version:"1",chainId:U,nonce:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=I?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=I?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=I?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=I?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=cE(W),j=await _.request({method:"personal_sign",params:[lE(w),$]})}try{const{data:N,error:k}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:j},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:mn});if(k)throw k;if(!N||!N.session||!N.user){const E=new Pr;return this._returnResult({data:{user:null,session:null},error:E})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:k})}catch(N){if(me(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var s,i,l,c,u,h,m,p,y,g,v,w;let j,N;if("message"in e)j=e.message,N=e.signature;else{const{chain:k,wallet:E,statement:I,options:_}=e;let O;if(bt())if(typeof E=="object")O=E;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))O=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const P=new URL((s=_?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in O&&O.signIn){const $=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),I?{statement:I}:null));let U;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")U=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)U=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)j=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),N=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${P.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(l=(i=_?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=_?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((u=_?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((h=_?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((m=_?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((p=_?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((g=(y=_?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||g===void 0)&&g.length?["Resources",..._.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const $=await O.signMessage(new TextEncoder().encode(j),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=$}}try{const{data:k,error:E}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:er(N)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:mn});if(E)throw E;if(!k||!k.session||!k.user){const I=new Pr;return this._returnResult({data:{user:null,session:null},error:I})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:E})}catch(k){if(me(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const s=await Gs(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(s??"").split("/");try{const{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:mn});if(await ys(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const h=new Pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:u})}catch(c){if(me(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:s,provider:i,token:l,access_token:c,nonce:u}=e,h=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:mn}),{data:m,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const y=new Pr;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,i,l,c,u;try{if("email"in e){const{email:h,options:m}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Rr(this.storage,this.storageKey));const{error:g}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:h,options:m}=e,{data:p,error:y}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(u=m?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new Ba("You must provide either an email or phone number.")}catch(h){if(me(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var s,i;try{let l,c;"options"in e&&(l=(s=e.options)===null||s===void 0?void 0:s.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:mn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,p=u.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(l){if(me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var s,i,l;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Rr(this.storage,this.storageKey));const h=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:eE});return this._returnResult(h)}catch(c){if(me(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new fn;const{error:l}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:l,options:c}=e,{error:u}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:l,options:c}=e,{data:u,error:h}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Ba("You must provide either an email or phone number and a type")}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ju:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Gs(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=ku()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=JS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vs}):await this._useSession(async s=>{var i,l,c;const{data:u,error:h}=s;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fn}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:vs})})}catch(s){if(me(s))return TS(s)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:l,error:c}=i;if(c)throw c;if(!l.session)throw new fn;const u=l.session;let h=null,m=null;this.flowType==="pkce"&&e.email!=null&&([h,m]=await Rr(this.storage,this.storageKey));const{data:p,error:y}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:m}),jwt:u.access_token,xform:vs});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(me(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fn;const s=Date.now()/1e3;let i=s,l=!0,c=null;const{payload:u}=_u(e.access_token);if(u.exp&&(i=u.exp,l=i<=s),l){const{data:h,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(e.access_token);if(m)throw m;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(me(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:u,error:h}=s;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new fn;const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!bt())throw new Va("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Va(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new P0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Va("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new P0("No code detected.");const{data:I,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:c,refresh_token:u,expires_in:h,expires_at:m,token_type:p}=e;if(!c||!h||!u||!p)throw new Va("No session defined in URL");const y=Math.round(Date.now()/1e3),g=parseInt(h);let v=y+g;m&&(v=parseInt(m));const w=v-y;w*1e3<=Dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const j=v-g;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,y);const{data:N,error:k}=await this._getUser(c);if(k)throw k;const E={provider_token:i,provider_refresh_token:l,access_token:c,expires_in:g,expires_at:v,refresh_token:u,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(i){if(me(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return this._returnResult({error:c});const u=(i=l.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(ES(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=LS(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,l;try{const{data:{session:c},error:u}=s;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,s={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Rr(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(me(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:i,error:l}=await this._useSession(async c=>{var u,h,m,p,y;const{data:g,error:v}=c;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return bt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(me(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var i;try{const{error:l,data:{session:c}}=s;if(l)throw l;const{options:u,provider:h,token:m,access_token:p,nonce:y}=e,g=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:m,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:mn}),{data:v,error:w}=g;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Pr}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(l){if(me(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,l;const{data:c,error:u}=s;if(u)throw u;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await VS(async l=>(l>0&&await BS(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mn})),(l,c)=>{const u=200*Math.pow(2,l);return c&&Nu(c)&&Date.now()+u-i<Dr})}catch(i){if(this._debug(s,"error",i),me(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),bt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Gs(this.storage,this.storageKey);if(l&&this.userStorage){let u=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await Lr(this.userStorage,this.storageKey+"-user",u)),l.user=(e=u?.user)!==null&&e!==void 0?e:ku()}else if(l&&!l.user&&!l.user){const u=await Gs(this.storage,this.storageKey+"-user");u&&u?.user?(l.user=u.user,await ys(this.storage,this.storageKey+"-user"),await Lr(this.storage,this.storageKey,l)):l.user=ku()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ju;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${ju}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),Nu(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(l.access_token);!h&&u?.user?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new pl;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new fn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(l,"error",c),me(c)){const u={data:null,error:c};return Nu(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,s,i=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,s)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Lr(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=D0(l);await Lr(this.storage,this.storageKey,c)}else{const l=D0(s);await Lr(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await ys(this.storage,this.storageKey),await ys(this.storage,this.storageKey+"-code-verifier"),await ys(this.storage,this.storageKey+"-user"),this.userStorage&&await ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Dr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-e)/Dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Dr}ms, refresh threshold is ${ld} ticks`),l<=ld&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof vx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const l=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await Rr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(h.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);l.push(c.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;return c?this._returnResult({data:null,error:c}):await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,l;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:p}=await be(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?gE(e.webauthn.credential_response):yE(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:m}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const u=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:mE(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:pE(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=s?.factors)!==null&&e!==void 0?e:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:i},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=_u(i.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((s=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;return l?this._returnResult({data:null,error:l}):i?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new fn})})}catch(s){if(me(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new fn});const u=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&bt()&&!s?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,s){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new fn});const u=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&bt()&&!s?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(h=>h.kid===e);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+kS>l)return i;const{data:c,error:u}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,i=c.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:w,error:j}=await this.getSession();if(j||!w.session)return this._returnResult({data:null,error:j});i=w.session.access_token}const{header:l,payload:c,signature:u,raw:{header:h,payload:m}}=_u(i);s?.allowExpired||qS(c.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:c,header:l,signature:u},error:null}}const y=KS(l.alg),g=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,g,u,IS(`${h}.${m}`)))throw new dd("Invalid JWT signature");return{data:{claims:c,header:l,signature:u},error:null}}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}}lo.nextInstanceID={};const SE=lo;class EE extends SE{constructor(e){super(e)}}class TE{constructor(e,s,i){var l,c,u;this.supabaseUrl=e,this.supabaseKey=s;const h=bS(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:hS,realtime:mS,auth:Object.assign(Object.assign({},fS),{storageKey:m}),global:dS},y=vS(i??{},p);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=yS(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new wk(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new lS(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new yk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,s;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:u,flowType:h,lock:m,debug:p,throwOnError:y},g,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EE({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:u,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:c,flowType:h,lock:m,debug:p,throwOnError:y,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $k(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CE=(n,e,s)=>new TE(n,e,s);function PE(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}PE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ee="odxrugzhcfeksxvnfmyn",al="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9keHJ1Z3poY2Zla3N4dm5mbXluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0Mjg3NDQsImV4cCI6MjA3ODAwNDc0NH0.yAjBHEQRN7yUBUVWoeL0h4V6Osg-N9YlQI1w_7syKvE";let Fa=null;function Wt(){if(Fa)return Fa;const n=`https://${Ee}.supabase.co`;return Fa=CE(n,al,{auth:{persistSession:!0,autoRefreshToken:!0}}),Fa}const U0=n=>{let e;const s=new Set,i=(p,y)=>{const g=typeof p=="function"?p(e):p;if(!Object.is(g,e)){const v=e;e=y??(typeof g!="object"||g===null)?g:Object.assign({},e,g),s.forEach(w=>w(e,v))}},l=()=>e,h={setState:i,getState:l,getInitialState:()=>m,subscribe:p=>(s.add(p),()=>s.delete(p))},m=e=n(i,l,h);return h},RE=(n=>n?U0(n):U0),AE=n=>n;function OE(n,e=AE){const s=X.useSyncExternalStore(n.subscribe,X.useCallback(()=>e(n.getState()),[n,e]),X.useCallback(()=>e(n.getInitialState()),[n,e]));return X.useDebugValue(s),s}const z0=n=>{const e=RE(n),s=i=>OE(e,i);return Object.assign(s,e),s},IE=(n=>n?z0(n):z0),ft=IE(n=>({user:null,accessToken:null,isLoading:!0,setUser:e=>n({user:e}),setAccessToken:e=>n({accessToken:e}),setIsLoading:e=>n({isLoading:e}),logout:async()=>{await Wt().auth.signOut(),n({user:null,accessToken:null}),localStorage.removeItem("userRole")}}));function DE({role:n,onSwitchToSignup:e,onForgotPassword:s,onSuccess:i}){const[l,c]=T.useState(""),[u,h]=T.useState(""),[m,p]=T.useState(!1),[y,g]=T.useState(!1),[v,w]=T.useState({}),{setUser:j,setAccessToken:N}=ft(),k=async()=>{const P={student:{email:"teststuff677+test@gmail.com",password:"123456"},owner:{email:"teststuff677+test1@gmail.com",password:"123456"},admin:{email:"teststuff677@gmail.com",password:"akash97"}}[n];c(P.email),h(P.password);try{const $=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/init-demo-users`,{method:"POST",headers:{Authorization:`Bearer ${al}`}});if($.ok){const U=await $.json();if(console.log("Demo users initialization:",U),n==="admin"){const W=U.results?.find(te=>te.email==="teststuff677@gmail.com");W?(console.log("Admin user status:",W),W.status==="error"?K.warning(`Admin user initialization had issues: ${W.error||"Unknown error"}`):K.success("Demo credentials filled! Admin user is ready.")):K.info("Demo credentials filled! Admin user may need initialization.")}else K.success("Demo credentials filled! Users are ready.")}else{const U=await $.text();console.error("Failed to initialize demo users:",U),K.info("Demo credentials filled! If login fails, wait a moment and try again.")}}catch($){console.error("Error initializing demo users:",$),K.info("Demo credentials filled!")}},E=()=>{const O={};return l?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)||(O.email="Invalid email format"):O.email="Email is required",u?u.length<6&&(O.password="Password must be at least 6 characters"):O.password="Password is required",w(O),Object.keys(O).length===0},I=async O=>{if(O.preventDefault(),!!E()){g(!0);try{const P=Wt(),{data:$,error:U}=await P.auth.signInWithPassword({email:l,password:u});if(U){let W=U.message;U.message.includes("Invalid login credentials")||U.message.includes("Invalid credentials")?n==="admin"?(W='Invalid email or password. For admin: Ensure the account exists and password is "akash97". Try clicking "Quick Fill Demo" again to reinitialize.',console.error("Admin login failed:",{email:l,role:n,error:U.message,suggestion:"Check if admin user exists in Supabase Auth"})):W="Invalid email or password. If using demo credentials, please wait a few seconds for initialization to complete.":U.message.includes("Email not confirmed")&&(W="Please check your email to confirm your account."),K.error("Login failed: "+W),g(!1);return}if($.session){N($.session.access_token);const W=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/profile`,{headers:{Authorization:`Bearer ${$.session.access_token}`}});if(W.ok){const te=await W.json();if(console.log("Login successful - Profile fetched:",te),te.role!==n){const ye=`This account is registered as ${te.role}, not ${n}. Please select the correct role.`;console.error("Role mismatch:",{expected:n,actual:te.role,profile:te}),K.error(ye),await P.auth.signOut(),g(!1);return}n==="admin"&&console.log("Admin login successful:",{userId:te.id,email:te.email,role:te.role,name:te.name}),j(te),localStorage.setItem("userRole",te.role),console.log("User set in store, calling onSuccess..."),K.success(`Welcome back, ${te.name}!`),g(!1),i()}else{const te=await W.text();console.error("Failed to fetch user profile:",W.status,te),K.error("Failed to fetch user profile. Please try again."),g(!1)}}}catch(P){console.error("Login error:",P),K.error("An unexpected error occurred"),g(!1)}}},_=async()=>{try{const O=Wt(),{error:P}=await O.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});P&&K.error("Google login failed: "+P.message)}catch(O){console.error("Google login error:",O),K.error("Failed to initiate Google login")}};return o.jsxs(V.form,{onSubmit:I,className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-stone-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(qr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"email",type:"email",value:l,onChange:O=>c(O.target.value),onBlur:E,className:`w-full pl-12 pr-4 py-3 bg-white border ${v.email?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all`,placeholder:"you@example.com"})]}),v.email&&o.jsx(V.p,{className:"mt-1 text-red-600",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:v.email})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-stone-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(qa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"password",type:m?"text":"password",value:u,onChange:O=>h(O.target.value),onBlur:E,className:`w-full pl-12 pr-12 py-3 bg-white border ${v.password?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all`,placeholder:""}),o.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600 transition-colors",children:m?o.jsx(Xu,{className:"w-5 h-5"}):o.jsx(Za,{className:"w-5 h-5"})})]}),v.password&&o.jsx(V.p,{className:"mt-1 text-red-600",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:v.password})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{type:"button",onClick:k,className:"text-blue-600 hover:text-blue-700 transition-colors flex items-center gap-1",children:" Quick Fill Demo"}),o.jsx("button",{type:"button",onClick:s,className:"text-amber-700 hover:text-amber-800 transition-colors",children:"Forgot Password?"})]}),o.jsxs(V.button,{type:"submit",disabled:y,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden group",whileHover:{scale:y?1:1.02},whileTap:{scale:y?1:.98},children:[y?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(hl,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Logging in..."})]}):"Login",o.jsx(V.div,{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10",initial:!1})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-stone-300"})}),o.jsx("div",{className:"relative flex justify-center",children:o.jsx("span",{className:"px-4 bg-stone-50 text-stone-500",children:"Or continue with"})})]}),o.jsxs("button",{type:"button",onClick:_,className:"w-full py-3 bg-white border border-stone-300 rounded-xl hover:bg-stone-50 transition-all duration-300 flex items-center justify-center gap-3 group",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{className:"text-stone-700",children:"Continue with Google"})]}),o.jsxs("div",{className:"text-center text-stone-600",children:["Don't have an account?"," ",o.jsx("button",{type:"button",onClick:e,className:"text-amber-700 hover:text-amber-800 transition-colors",children:"Sign up"})]})]})}function LE({role:n,onSwitchToLogin:e,onSuccess:s}){const[i,l]=T.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",course:"",rollNo:"",gender:"",businessName:"",adminCode:""}),[c,u]=T.useState(!1),[h,m]=T.useState(!1),[p,y]=T.useState(!1),[g,v]=T.useState({}),w=()=>{const k={};return i.name||(k.name="Name is required"),i.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(k.email="Invalid email format"):k.email="Email is required",i.password?i.password.length<6&&(k.password="Password must be at least 6 characters"):k.password="Password is required",i.password!==i.confirmPassword&&(k.confirmPassword="Passwords do not match"),n==="student"&&(i.course||(k.course="Course is required"),i.rollNo||(k.rollNo="Roll number is required"),i.gender||(k.gender="Gender is required")),n==="owner"&&(i.phone||(k.phone="Phone number is required")),n==="admin"&&(i.adminCode?i.adminCode!=="ADTU-ADMIN-2024"&&(k.adminCode="Invalid admin invitation code. Please contact your administrator."):k.adminCode="Admin invitation code is required"),v(k),Object.keys(k).length===0},j=k=>{l({...i,[k.target.name]:k.target.value})},N=async k=>{if(k.preventDefault(),!!w()){y(!0);try{const E=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.email,password:i.password,name:i.name,role:n,phone:i.phone,course:i.course,rollNo:i.rollNo,gender:i.gender,businessName:i.businessName,adminCode:i.adminCode})});if(!E.ok){const I=await E.text();K.error("Signup failed: "+I),y(!1);return}K.success("Account created successfully! Please login."),s()}catch(E){console.error("Signup error:",E),K.error("An unexpected error occurred"),y(!1)}}};return o.jsxs(V.form,{onSubmit:N,className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-stone-700 mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Zd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"name",name:"name",type:"text",value:i.name,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${g.name?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"John Doe"})]}),g.name&&o.jsx("p",{className:"mt-1 text-red-600",children:g.name})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-stone-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(qr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"email",name:"email",type:"email",value:i.email,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${g.email?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"you@example.com"})]}),g.email&&o.jsx("p",{className:"mt-1 text-red-600",children:g.email})]}),n==="student"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"course",className:"block text-stone-700 mb-2",children:"Course"}),o.jsxs("div",{className:"relative",children:[o.jsx(ky,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"course",name:"course",type:"text",value:i.course,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${g.course?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"B.Tech CSE"})]}),g.course&&o.jsx("p",{className:"mt-1 text-red-600",children:g.course})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"rollNo",className:"block text-stone-700 mb-2",children:"Roll No"}),o.jsxs("div",{className:"relative",children:[o.jsx(m_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"rollNo",name:"rollNo",type:"text",value:i.rollNo,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${g.rollNo?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"2024001"})]}),g.rollNo&&o.jsx("p",{className:"mt-1 text-red-600",children:g.rollNo})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gender",className:"block text-stone-700 mb-2",children:"Gender"}),o.jsxs("select",{id:"gender",name:"gender",value:i.gender,onChange:j,className:`w-full px-4 py-3 bg-white border ${g.gender?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,children:[o.jsx("option",{value:"",children:"Select gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]}),g.gender&&o.jsx("p",{className:"mt-1 text-red-600",children:g.gender})]})]}),n==="owner"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-stone-700 mb-2",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Jd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"phone",name:"phone",type:"tel",value:i.phone,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${g.phone?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"+91 98765 43210"})]}),g.phone&&o.jsx("p",{className:"mt-1 text-red-600",children:g.phone})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"businessName",className:"block text-stone-700 mb-2",children:"Business Name (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Sy,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"businessName",name:"businessName",type:"text",value:i.businessName,onChange:j,className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all",placeholder:"PG Properties Ltd."})]})]})]}),n==="admin"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"adminCode",className:"block text-stone-700 mb-2",children:"Admin Invitation Code"}),o.jsxs("div",{className:"relative",children:[o.jsx(qa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"adminCode",name:"adminCode",type:"text",value:i.adminCode,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${g.adminCode?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"Enter admin invitation code"})]}),g.adminCode&&o.jsx("p",{className:"mt-1 text-red-600 text-sm",children:g.adminCode}),o.jsx("p",{className:"mt-1 text-stone-500 text-sm",children:" Contact your system administrator or university to obtain the admin invitation code."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-stone-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(qa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"password",name:"password",type:c?"text":"password",value:i.password,onChange:j,className:`w-full pl-12 pr-12 py-3 bg-white border ${g.password?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:""}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600",children:c?o.jsx(Xu,{className:"w-5 h-5"}):o.jsx(Za,{className:"w-5 h-5"})})]}),g.password&&o.jsx("p",{className:"mt-1 text-red-600",children:g.password})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-stone-700 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(qa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",value:i.confirmPassword,onChange:j,className:`w-full pl-12 pr-12 py-3 bg-white border ${g.confirmPassword?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:""}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600",children:h?o.jsx(Xu,{className:"w-5 h-5"}):o.jsx(Za,{className:"w-5 h-5"})})]}),g.confirmPassword&&o.jsx("p",{className:"mt-1 text-red-600",children:g.confirmPassword})]}),o.jsx(V.button,{type:"submit",disabled:p,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:p?1:1.02},whileTap:{scale:p?1:.98},children:p?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(hl,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Creating account..."})]}):"Create Account"}),o.jsxs("div",{className:"text-center text-stone-600",children:["Already have an account?"," ",o.jsx("button",{type:"button",onClick:e,className:"text-amber-700 hover:text-amber-800 transition-colors",children:"Login"})]})]})}function ME({onBack:n}){const[e,s]=T.useState(""),[i,l]=T.useState(!1),[c,u]=T.useState(!1),[h,m]=T.useState(""),p=async y=>{if(y.preventDefault(),!e){m("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){m("Invalid email format");return}m(""),l(!0);try{const g=Wt(),{error:v}=await g.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin});if(v){let w=v.message;v.message.includes("rate limit")?w="Too many requests. Please wait a few minutes and try again.":v.message.includes("email")&&(w="Unable to send email. Please check your email address or contact support."),K.error("Failed to send reset email: "+w),l(!1);return}u(!0),K.success("Password reset email sent! Check your inbox and spam folder.")}catch(g){console.error("Password reset error:",g),K.error("An unexpected error occurred"),l(!1)}};return c?o.jsxs(V.div,{className:"space-y-6 text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(qr,{className:"w-10 h-10 text-green-600"})}),o.jsx("h3",{className:"text-stone-900",children:"Check Your Email"}),o.jsxs("p",{className:"text-stone-600 max-w-md mx-auto",children:["We've sent a password reset link to ",o.jsx("strong",{children:e}),". Click the link in the email to reset your password."]}),o.jsx("p",{className:"text-stone-500 text-sm max-w-md mx-auto mt-2",children:" Don't see the email? Check your spam folder. If email is not configured, contact your administrator."}),o.jsx("button",{onClick:n,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300",children:"Back to Login"})]}):o.jsxs(V.form,{onSubmit:p,className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"reset-email",className:"block text-stone-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(qr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"reset-email",type:"email",value:e,onChange:y=>s(y.target.value),className:`w-full pl-12 pr-4 py-3 bg-white border ${h?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all`,placeholder:"you@example.com"})]}),h&&o.jsx(V.p,{className:"mt-1 text-red-600",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:h})]}),o.jsx("p",{className:"text-stone-600",children:"Enter your email address and we'll send you a link to reset your password."}),o.jsx(V.button,{type:"submit",disabled:i,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:i?1:1.02},whileTap:{scale:i?1:.98},children:i?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(hl,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Sending..."})]}):"Send Reset Link"}),o.jsx("div",{className:"text-center",children:o.jsxs("button",{type:"button",onClick:n,className:"text-amber-700 hover:text-amber-800 transition-colors inline-flex items-center gap-2",children:[o.jsx(zt,{className:"w-4 h-4"}),"Back to Login"]})})]})}function $E({initialRole:n,onSuccess:e}){const[s,i]=T.useState("login"),[l,c]=T.useState(n),u={login:"Welcome Back",signup:"Create Account",reset:"Reset Password"},h={login:`Login to your ${l} account`,signup:`Sign up as a ${l}`,reset:"Enter your email to reset your password"};return o.jsxs(o.Fragment,{children:[o.jsxs(dk,{title:u[s],subtitle:h[s],children:[o.jsx("div",{className:"flex gap-2 p-1 bg-stone-100 rounded-xl mb-6",children:["student","owner","admin"].map(m=>o.jsx("button",{onClick:()=>c(m),className:`flex-1 py-2 px-4 rounded-lg transition-all duration-300 capitalize ${l===m?"bg-white shadow-md text-amber-700":"text-stone-600 hover:text-stone-900"}`,children:m},m))}),o.jsxs(Wn,{mode:"wait",children:[s==="login"&&o.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:o.jsx(DE,{role:l,onSwitchToSignup:()=>i("signup"),onForgotPassword:()=>i("reset"),onSuccess:e})},"login"),s==="signup"&&o.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:o.jsx(LE,{role:l,onSwitchToLogin:()=>i("login"),onSuccess:()=>i("login")})},"signup"),s==="reset"&&o.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:o.jsx(ME,{onBack:()=>i("login")})},"reset")]})]}),o.jsx(Ua,{position:"bottom-right",richColors:!0})]})}const BE={WiFi:Cy,AC:nk,Meals:Z_,Laundry:L_,Security:Qd,"Study Room":ky,Gym:l_,Parking:jt};function jx({pg:n,onClose:e}){const[s,i]=T.useState(0),[l,c]=T.useState([]),[u,h]=T.useState([]),[m,p]=T.useState(!1),[y,g]=T.useState(!1),[v,w]=T.useState({roomId:"",checkIn:"",checkOut:""}),{accessToken:j}=ft(),N=Wt();T.useEffect(()=>{E(),k()},[]);const k=async()=>{p(!0);try{const{data:_,error:O}=await N.from("rooms").select("*").eq("pg_id",n.id).eq("status","available").order("room_number",{ascending:!0});if(O)throw O;h(_||[]),(!_||_.length===0)&&console.log("No available rooms for this PG")}catch(_){console.error("Error fetching rooms:",_),K.error("Failed to load available rooms")}finally{p(!1)}},E=async()=>{try{const _=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/pgs/${n.id}/reviews`,{headers:{Authorization:`Bearer ${j}`}});if(_.ok){const O=await _.json();c(O)}}catch(_){console.error("Error fetching reviews:",_)}},I=async()=>{if(!j){K.error("Please login to book");return}if(!v.roomId){K.error("Please select a room");return}if(!v.checkIn||!v.checkOut){K.error("Please select check-in and check-out dates");return}const _=new Date(v.checkIn),O=new Date(v.checkOut),P=Math.abs(O.getTime()-_.getTime()),$=Math.ceil(P/(1e3*60*60*24)),U=Math.ceil($/30);if(U<=0){K.error("Check-out date must be after check-in date");return}const W=u.find(ye=>ye.id===v.roomId);if(!W){K.error("Selected room not found");return}const te=W.rent*U;try{const ye=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/bookings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({pgId:n.id,roomType:W.type,checkIn:v.checkIn,duration:U,totalAmount:te})});if(ye.ok){const _e=await ye.json();K.success("Booking request sent successfully!"),g(!1),e()}else{const _e=await ye.text();console.error("Booking failed:",_e),K.error("Failed to create booking")}}catch(ye){console.error("Booking error:",ye),K.error("An error occurred while booking")}};return o.jsx(Wn,{children:o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:o.jsxs(V.div,{className:"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[o.jsx("button",{onClick:e,className:"sticky top-4 left-full ml-4 p-2 bg-white rounded-full shadow-lg hover:bg-stone-100 transition-colors z-10",children:o.jsx(rr,{className:"w-6 h-6"})}),o.jsxs("div",{className:"relative h-96 overflow-hidden rounded-t-3xl",children:[o.jsx(ws,{src:n.images[s],alt:n.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),n.images.length>1&&o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:n.images.map((_,O)=>o.jsx("button",{onClick:()=>i(O),className:`w-2 h-2 rounded-full transition-all ${O===s?"bg-white w-8":"bg-white/50"}`},O))}),n.verified&&o.jsx("div",{className:"absolute top-4 left-4 px-4 py-2 bg-green-500 text-white rounded-full",children:" Verified Property"})]}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-stone-900 mb-2",children:n.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[o.jsx(jt,{className:"w-4 h-4"}),o.jsx("span",{children:n.location}),o.jsx("span",{children:""}),o.jsxs("span",{children:[n.distance," km from ADTU"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-amber-700 mb-1",children:["",n.price]}),o.jsx("div",{className:"text-stone-500",children:"/month"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ut,{className:"w-5 h-5 fill-amber-500 text-amber-500"}),o.jsx("span",{className:"text-stone-900",children:n.rating}),o.jsxs("span",{className:"text-stone-500",children:["(",n.reviews," reviews)"]})]}),o.jsx("div",{className:"px-3 py-1 bg-stone-100 rounded-full text-stone-700 capitalize",children:n.gender})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-stone-900 mb-2",children:"About this PG"}),o.jsx("p",{className:"text-stone-600 leading-relaxed",children:n.description})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-stone-900 mb-4",children:"Amenities"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.amenities.map(_=>{const O=BE[_]||Cy;return o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-xl",children:[o.jsx(O,{className:"w-5 h-5 text-amber-700"}),o.jsx("span",{className:"text-stone-700",children:_})]},_)})})]}),o.jsxs("div",{className:"mb-6 p-4 bg-stone-50 rounded-xl",children:[o.jsx("h3",{className:"text-stone-900 mb-3",children:"Contact Owner"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3 text-stone-600",children:[o.jsx(Jd,{className:"w-4 h-4"}),o.jsx("span",{children:n.ownerName})]}),o.jsxs("div",{className:"flex items-center gap-3 text-stone-600",children:[o.jsx(qr,{className:"w-4 h-4"}),o.jsx("span",{children:n.ownerPhone})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-stone-900 mb-4",children:["Reviews (",l.length,")"]}),l.length>0?o.jsx("div",{className:"space-y-4",children:l.slice(0,3).map(_=>o.jsxs("div",{className:"p-4 bg-stone-50 rounded-xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-stone-900",children:_.userName}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ut,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),o.jsx("span",{children:_.rating})]})]}),o.jsx("p",{className:"text-stone-600",children:_.comment}),o.jsx("p",{className:"text-stone-400 mt-2",children:new Date(_.createdAt).toLocaleDateString()})]},_.id))}):o.jsx("p",{className:"text-stone-500",children:"No reviews yet"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-stone-900 mb-4",children:"Available Rooms"}),m?o.jsxs("div",{className:"text-center py-6",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-amber-200 border-t-amber-600 rounded-full animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-stone-500",children:"Loading rooms..."})]}):u.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(_=>o.jsxs("div",{className:"p-4 border border-stone-200 rounded-xl hover:border-amber-500 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("h4",{className:"font-semibold text-stone-900",children:["Room ",_.room_number]}),o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Available"})]}),o.jsxs("div",{className:"space-y-1 text-sm text-stone-600 mb-2",children:[o.jsxs("p",{children:[" ",_.type.charAt(0).toUpperCase()+_.type.slice(1)," room"]}),o.jsxs("p",{children:[" ",_.bathroom_type==="attached"?"Attached":"Common"," bathroom"]}),o.jsxs("p",{children:[" ",_.beds_available,"/",_.beds_total," beds available"]}),o.jsxs("p",{className:"text-amber-700 font-semibold",children:["",_.rent.toLocaleString(),"/month"]})]}),_.amenities&&_.amenities.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1",children:_.amenities.slice(0,3).map(O=>o.jsx("span",{className:"text-xs px-2 py-1 bg-stone-100 text-stone-700 rounded",children:O},O))})]},_.id))}):o.jsxs("div",{className:"p-6 bg-yellow-50 border border-yellow-200 rounded-xl flex gap-3",children:[o.jsx(Qu,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-800 font-medium",children:"This PG is currently full"}),o.jsx("p",{className:"text-yellow-700 text-sm",children:"All rooms are booked. Check back soon!"})]})]})]}),y?o.jsxs(V.div,{className:"p-6 bg-stone-50 rounded-xl",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[o.jsx("h3",{className:"text-stone-900 mb-4",children:"Booking Details"}),u.length===0?o.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex gap-3 mb-4",children:[o.jsx(Qu,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-800 font-medium",children:"This PG is currently full"}),o.jsx("p",{className:"text-yellow-700 text-sm",children:"All rooms are booked. Check back soon!"})]})]}):o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Select Room *"}),o.jsxs("select",{value:v.roomId,onChange:_=>w({...v,roomId:_.target.value}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",children:[o.jsx("option",{value:"",children:"Choose a room..."}),u.map(_=>o.jsxs("option",{value:_.id,children:["Room ",_.room_number," - ",_.type," (",_.beds_available,"/",_.beds_total," beds) - ",_.rent,"/month"]},_.id))]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Check-in Date"}),o.jsxs("div",{className:"relative",children:[o.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"date",value:v.checkIn,onChange:_=>w({...v,checkIn:_.target.value}),className:"w-full pl-10 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Check-out Date"}),o.jsxs("div",{className:"relative",children:[o.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"date",value:v.checkOut,onChange:_=>w({...v,checkOut:_.target.value}),className:"w-full pl-10 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-3 bg-stone-200 text-stone-700 rounded-xl hover:bg-stone-300 transition-colors",children:"Cancel"}),u.length>0&&o.jsx("button",{onClick:I,className:"flex-1 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Confirm Booking"})]})]}):o.jsx("button",{onClick:()=>g(!0),disabled:u.length===0,className:"w-full py-4 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300 disabled:bg-gray-400 disabled:cursor-not-allowed",children:u.length===0?"No Available Rooms":"Book Now"})]})]})})})}function VE({onBack:n}){const{accessToken:e}=ft(),[s,i]=T.useState([]),[l,c]=T.useState(!0),[u,h]=T.useState(null);T.useEffect(()=>{m()},[]);const m=async()=>{if(e)try{const y=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/favorites`,{headers:{Authorization:`Bearer ${e}`}});if(y.ok){const g=await y.json();i(g)}}catch(y){console.error("Error fetching favorites:",y),K.error("Failed to load favorites")}finally{c(!1)}},p=async(y,g)=>{g.stopPropagation();try{(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/favorites/${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok&&(i(s.filter(w=>w.id!==y)),K.success("Removed from favorites"))}catch(v){console.error("Error removing favorite:",v),K.error("Failed to remove favorite")}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx(V.header,{className:"bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm",initial:{y:-100},animate:{y:0},children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors","aria-label":"Go back",children:o.jsx(zt,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(el,{className:"w-6 h-6 text-red-500 fill-red-500"}),o.jsx("h2",{className:"text-stone-900",children:"My Favorites"})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:l?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading favorites..."})]}):s.length===0?o.jsxs(V.div,{className:"text-center py-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsx(el,{className:"w-24 h-24 text-stone-300 mx-auto mb-6"}),o.jsx("h3",{className:"text-stone-900 mb-4",children:"No favorites yet"}),o.jsx("p",{className:"text-stone-600 mb-8 max-w-md mx-auto",children:"Start exploring PGs near ADTU and add your favorites to compare and book later!"}),o.jsx("button",{onClick:n,className:"px-8 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Browse PGs"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6 text-stone-600",children:[s.length," favorite",s.length!==1?"s":""]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((y,g)=>o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer group",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:g*.1},onClick:()=>h(y),whileHover:{y:-5},children:[o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[o.jsx(ws,{src:y.images[0],alt:y.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),o.jsx("button",{onClick:v=>p(y.id,v),className:"absolute top-3 right-3 p-2 bg-white/90 backdrop-blur-sm rounded-full hover:bg-red-50 hover:scale-110 transition-all group/btn","aria-label":"Remove from favorites",children:o.jsx(Xd,{className:"w-5 h-5 text-stone-600 group-hover/btn:text-red-600"})}),y.verified&&o.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-green-500 text-white rounded-full flex items-center gap-1",children:o.jsx("span",{className:"text-xs",children:" Verified"})}),o.jsxs("div",{className:"absolute bottom-3 left-3 px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full flex items-center gap-1",children:[o.jsx(jt,{className:"w-3 h-3 text-amber-600"}),o.jsxs("span",{className:"text-xs",children:[y.distance," km"]})]})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"text-stone-900 mb-2 line-clamp-1",children:y.name}),o.jsx("p",{className:"text-stone-600 mb-3 line-clamp-2",children:y.description}),o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Ut,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),o.jsx("span",{className:"text-stone-900",children:y.rating}),o.jsxs("span",{className:"text-stone-500",children:["(",y.reviews," reviews)"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-amber-700",children:["",y.price]}),o.jsx("span",{className:"text-stone-500",children:"/month"})]}),o.jsx("div",{className:"px-3 py-1 bg-stone-100 rounded-full text-stone-700 capitalize",children:y.gender})]})]})]},y.id))})]})}),u&&o.jsx(jx,{pg:u,onClose:()=>h(null)})]})}function FE({onBack:n}){const{accessToken:e,user:s}=ft(),[i,l]=T.useState([]),[c,u]=T.useState(!0),[h,m]=T.useState(!1),[p,y]=T.useState(null),[g,v]=T.useState({rating:5,comment:""}),w=Wt();T.useEffect(()=>{if(j(),!s?.id)return;const P=w.channel("my_bookings_channel").on("postgres_changes",{event:"*",schema:"public",table:`kv_store_${Ee}`},$=>{console.log("Realtime payload (student):",$);const U=$.new,W=$.old,te=U||W;te&&te.key.startsWith("booking:")&&te.value.userId===s.id&&(console.log("Relevant booking change for student, refetching bookings."),j())}).subscribe();return()=>{w.removeChannel(P)}},[s?.id]);const j=async()=>{if(e)try{const P=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/bookings`,{headers:{Authorization:`Bearer ${e}`}});if(P.ok){const $=await P.json();l($)}}catch(P){console.error("Error fetching bookings:",P),K.error("Failed to load bookings")}finally{u(!1)}},N=P=>{const $=`
PG LOCATOR - BOOKING INVOICE
============================

Booking ID: ${P.id}
Date: ${new Date(P.createdAt).toLocaleDateString()}

PG Details:
-----------
Name: ${P.pg.name}
Location: ${P.pg.location}
Room Type: ${P.roomType}

Booking Details:
---------------
Check-in: ${new Date(P.checkIn).toLocaleDateString()}
Duration: ${P.duration} months
Total Amount: ${P.totalAmount}
Status: ${P.status}

Owner Contact:
--------------
Name: ${P.pg.ownerName}
Phone: ${P.pg.ownerPhone}

============================
Thank you for using PG Locator!
    `,U=new Blob([$],{type:"text/plain"}),W=URL.createObjectURL(U),te=document.createElement("a");te.href=W,te.download=`invoice-${P.id}.txt`,te.click(),URL.revokeObjectURL(W),K.success("Invoice downloaded!")},k=async P=>{if(e)try{(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/bookings/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok?(l(U=>U.filter(W=>W.id!==P)),K.success("Booking request deleted")):K.error("Failed to delete booking request")}catch($){console.error("Error deleting booking:",$),K.error("Failed to delete booking request")}},E=async()=>{if(!(!p||!e)){if(!g.comment.trim()){K.error("Please write a review comment");return}try{(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/reviews`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({pgId:p.pgId,rating:g.rating,comment:g.comment})})).ok?(K.success("Review submitted successfully!"),m(!1),v({rating:5,comment:""}),y(null)):K.error("Failed to submit review")}catch(P){console.error("Error submitting review:",P),K.error("Failed to submit review")}}},I=i.filter(P=>P.status==="pending"),_=i.filter(P=>P.status==="approved"||P.status==="confirmed"),O=i.filter(P=>{const $=P.status&&(P.status==="declined"||P.status==="completed"),U=P.checkIn&&new Date(P.checkIn)<new Date;return $||U});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx(V.header,{className:"bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm",initial:{y:-100},animate:{y:0},children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors","aria-label":"Go back",children:o.jsx(zt,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Yu,{className:"w-6 h-6 text-amber-600"}),o.jsx("h2",{className:"text-stone-900",children:"My Bookings"})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:c?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading bookings..."})]}):i.length===0?o.jsxs(V.div,{className:"text-center py-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsx(Yu,{className:"w-24 h-24 text-stone-300 mx-auto mb-6"}),o.jsx("h3",{className:"text-stone-900 mb-4",children:"No bookings yet"}),o.jsx("p",{className:"text-stone-600 mb-8 max-w-md mx-auto",children:"Find your perfect PG and make your first booking!"}),o.jsx("button",{onClick:n,className:"px-8 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Browse PGs"})]}):o.jsxs("div",{className:"space-y-8",children:[I.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-stone-900 mb-4",children:["Pending Bookings (",I.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:I.map((P,$)=>o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.1},children:[o.jsxs("div",{className:"relative h-40",children:[o.jsx(ws,{src:P.pg.images[0],alt:P.pg.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 bg-amber-100 text-amber-700 rounded-full",children:"Pending"})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h4",{className:"text-stone-900 mb-2",children:P.pg.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-4",children:[o.jsx(jt,{className:"w-4 h-4"}),o.jsx("span",{children:P.pg.location})]}),o.jsxs("div",{className:"space-y-2 mb-4 text-stone-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xn,{className:"w-4 h-4"}),o.jsxs("span",{children:["Check-in: ",new Date(P.checkIn).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(f0,{className:"w-4 h-4"}),o.jsxs("span",{children:["",P.totalAmount," (",P.duration," months)"]})]})]})]})]},P.id))})]}),_.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-stone-900 mb-4",children:["Active Bookings (",_.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:_.map((P,$)=>o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.1},children:[o.jsxs("div",{className:"relative h-40",children:[o.jsx(ws,{src:P.pg.images[0],alt:P.pg.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 bg-green-500 text-white rounded-full",children:"Confirmed"})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h4",{className:"text-stone-900 mb-2",children:P.pg.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-4",children:[o.jsx(jt,{className:"w-4 h-4"}),o.jsx("span",{children:P.pg.location})]}),o.jsxs("div",{className:"space-y-2 mb-4 text-stone-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xn,{className:"w-4 h-4"}),o.jsxs("span",{children:["Check-in: ",new Date(P.checkIn).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(f0,{className:"w-4 h-4"}),o.jsxs("span",{children:["",P.totalAmount," (",P.duration," months)"]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>N(P),className:"flex-1 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition-colors flex items-center justify-center gap-2",children:[o.jsx(Ey,{className:"w-4 h-4"}),"Invoice"]}),o.jsxs("button",{onClick:()=>{y(P),m(!0)},className:"flex-1 py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 transition-colors flex items-center justify-center gap-2",children:[o.jsx(Ut,{className:"w-4 h-4"}),"Review"]})]})]})]},P.id))})]}),O.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-stone-900 mb-4",children:["Booking History (",O.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:O.map((P,$)=>{const U=P.checkIn&&new Date(P.checkIn)<new Date,W=P.status==="declined"?"Declined":U?"Expired":"Completed",te=P.status==="declined"?"bg-red-500":U?"bg-orange-500":"bg-stone-500";return o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg opacity-70",initial:{opacity:0,y:20},animate:{opacity:.7,y:0},transition:{delay:$*.1},children:[o.jsxs("div",{className:"relative h-40",children:[o.jsx(ws,{src:P.pg.images[0],alt:P.pg.name,className:"w-full h-full object-cover grayscale"}),o.jsx("div",{className:`absolute top-3 right-3 px-3 py-1 ${te} text-white rounded-full`,children:W})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h4",{className:"text-stone-900 mb-2",children:P.pg.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-4",children:[o.jsx(jt,{className:"w-4 h-4"}),o.jsx("span",{children:P.pg.location})]}),o.jsxs("div",{className:"space-y-2 mb-4 text-stone-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xn,{className:"w-4 h-4"}),o.jsxs("span",{children:["Booked: ",new Date(P.createdAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xn,{className:"w-4 h-4"}),o.jsxs("span",{children:["Check-in was: ",new Date(P.checkIn).toLocaleDateString()]})]})]}),P.status==="declined"&&o.jsx("div",{className:"mt-4",children:o.jsx("button",{onClick:()=>k(P.id),className:"w-full py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center justify-center gap-2",children:"Delete Request"})})]})]},P.id)})})]})]})}),h&&p&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(V.div,{className:"bg-white rounded-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[o.jsx("h3",{className:"text-stone-900 mb-4",children:"Write a Review"}),o.jsx("p",{className:"text-stone-600 mb-6",children:p.pg.name}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Rating"}),o.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(P=>o.jsx("button",{onClick:()=>v({...g,rating:P}),className:"transition-transform hover:scale-110",children:o.jsx(Ut,{className:`w-8 h-8 ${P<=g.rating?"fill-amber-500 text-amber-500":"text-stone-300"}`})},P))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Your Review"}),o.jsx("textarea",{value:g.comment,onChange:P=>v({...g,comment:P.target.value}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none",rows:4,placeholder:"Share your experience..."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{m(!1),v({rating:5,comment:""}),y(null)},className:"flex-1 py-3 bg-stone-100 text-stone-700 rounded-xl hover:bg-stone-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:E,className:"flex-1 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Submit Review"})]})]})})]})}function UE({notifications:n,onClose:e,isLoading:s=!1}){return o.jsxs(o.Fragment,{children:[o.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/20 z-40"}),o.jsxs(V.div,{initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:20},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:[o.jsxs("div",{className:"bg-gradient-to-r from-amber-600 to-amber-700 text-white p-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(io,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-xl font-semibold",children:"Notifications"})]}),o.jsx("button",{onClick:e,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:o.jsx(rr,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:s?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-200 border-t-amber-600 rounded-full animate-spin mx-auto mb-3"}),o.jsx("p",{className:"text-stone-500",children:"Loading notifications..."})]})}):n.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(io,{className:"w-8 h-8 text-stone-400"})}),o.jsx("p",{className:"text-stone-600 font-medium mb-2",children:"No notifications yet!"}),o.jsx("p",{className:"text-stone-500 text-sm",children:"You'll see updates about your bookings here"})]})}):o.jsx("div",{className:"space-y-0",children:n.map((i,l)=>o.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.05},className:`border-b border-stone-200 p-4 hover:bg-stone-50 transition-colors cursor-pointer ${i.read?"":"bg-amber-50"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`w-3 h-3 rounded-full mt-1.5 flex-shrink-0 ${i.read?"bg-transparent":"bg-amber-600"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-stone-900 font-semibold text-sm break-words",children:i.title}),o.jsx("p",{className:"text-stone-600 text-xs mt-1 break-words",children:i.message}),o.jsxs("p",{className:"text-stone-400 text-xs mt-2",children:[new Date(i.createdAt).toLocaleDateString()," at"," ",new Date(i.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})},i.id))})})]})]})}function zE(){const{user:n,accessToken:e,logout:s}=ft(),[i,l]=T.useState([]),[c,u]=T.useState([]),[h,m]=T.useState(!0),[p,y]=T.useState(""),[g,v]=T.useState(!1),[w,j]=T.useState(null),[N,k]=T.useState(new Set),[E,I]=T.useState("home"),[_,O]=T.useState(!1),[P,$]=T.useState([]),[U,W]=T.useState(0),[te,ye]=T.useState(!1),[_e,J]=T.useState({minPrice:0,maxPrice:2e4,gender:"",amenities:[]});T.useEffect(()=>{ae(),Se();const B=setInterval(()=>{ae(),Se()},3e4);return()=>clearInterval(B)},[]),T.useEffect(()=>{if(!_)return;Ae();const B=setInterval(()=>{U>0&&Ae()},3e4);return()=>clearInterval(B)},[_,U]),T.useEffect(()=>{xe()},[i,p,_e]);const ae=async()=>{try{const B=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/pgs`,{headers:{Authorization:`Bearer ${e}`}});if(B.ok){const F=await B.json();l(F)}else K.error("Failed to load PG listings.")}catch(B){console.error("Error fetching PGs:",B),K.error("Failed to load PG listings")}finally{m(!1)}},Se=async()=>{if(e)try{const B=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/favorites`,{headers:{Authorization:`Bearer ${e}`}});if(B.ok){const F=await B.json();k(new Set(F.map(R=>R.id)))}}catch(B){console.error("Error fetching favorites:",B)}},Ae=async()=>{if(e){ye(!0);try{const B=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/notifications`,{headers:{Authorization:`Bearer ${e}`}});if(B.ok){const F=await B.json();$(F||[]);const R=(F||[]).filter(z=>!z.read).length;W(R)}}catch(B){console.error("Error fetching notifications:",B)}finally{ye(!1)}}},xe=()=>{let B=i;p&&(B=B.filter(F=>F.name.toLowerCase().includes(p.toLowerCase())||F.location.toLowerCase().includes(p.toLowerCase()))),B=B.filter(F=>F.price>=_e.minPrice&&F.price<=_e.maxPrice),_e.gender&&(B=B.filter(F=>F.gender===_e.gender||F.gender==="both")),_e.amenities.length>0&&(B=B.filter(F=>_e.amenities.every(R=>F.amenities?.includes(R)))),u(B)},ne=async(B,F)=>{if(F.stopPropagation(),!e){K.error("Please login to add favorites");return}const R=N.has(B),z=`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/favorites/${B}`;try{(await fetch(z,{method:R?"DELETE":"POST",headers:{Authorization:`Bearer ${e}`}})).ok&&k(le=>{const ue=new Set(le);return R?(ue.delete(B),K.success("Removed from favorites")):(ue.add(B),K.success("Added to favorites")),ue})}catch(ee){console.error("Error toggling favorite:",ee),K.error("Failed to update favorites")}},G=async()=>{await s(),window.location.href="/"};return E==="favorites"?o.jsx(VE,{onBack:()=>I("home")}):E==="bookings"?o.jsx(FE,{onBack:()=>I("home")}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx(V.header,{className:"bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm",initial:{y:-100},animate:{y:0},transition:{duration:.5},children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-amber-600 rounded-full p-2",children:o.jsx(jt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-stone-900",children:"PG Locator"}),o.jsxs("p",{className:"text-stone-500",children:["Welcome, ",n?.name]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>O(!0),className:"p-2 hover:bg-stone-100 rounded-lg transition-colors relative","aria-label":"Notifications",children:[o.jsx(io,{className:"w-5 h-5 text-stone-600"}),U>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:U>9?"9+":U})]}),o.jsxs("button",{onClick:()=>I("favorites"),className:"p-2 hover:bg-stone-100 rounded-lg transition-colors relative","aria-label":"Favorites",children:[o.jsx(el,{className:"w-5 h-5 text-stone-600"}),N.size>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs",children:N.size})]}),o.jsx("button",{onClick:()=>I("bookings"),className:"p-2 hover:bg-stone-100 rounded-lg transition-colors","aria-label":"My bookings",children:o.jsx(Yu,{className:"w-5 h-5 text-stone-600"})}),o.jsx("button",{onClick:G,className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600","aria-label":"Logout",children:o.jsx(Yd,{className:"w-5 h-5"})})]})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs(V.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(fl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:p,onChange:B=>y(B.target.value),placeholder:"Search by name or location...",className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),o.jsxs("button",{onClick:()=>{m(!0),ae(),Se(),K.info("Refreshing listings...")},disabled:h,className:"px-6 py-3 bg-white border border-stone-300 rounded-xl hover:bg-stone-50 transition-colors flex items-center gap-2 disabled:opacity-50",title:"Refresh to see newly verified listings",children:[o.jsx(P_,{className:`w-5 h-5 ${h?"animate-spin":""}`}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>v(!g),className:"px-6 py-3 bg-white border border-stone-300 rounded-xl hover:bg-stone-50 transition-colors flex items-center gap-2",children:[o.jsx($_,{className:"w-5 h-5"}),o.jsx("span",{children:"Filters"})]})]}),g&&o.jsx(V.div,{className:"bg-white border border-stone-200 rounded-xl p-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Price Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",value:_e.minPrice,onChange:B=>J({..._e,minPrice:parseInt(B.target.value)||0}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg",placeholder:"Min"}),o.jsx("span",{children:"-"}),o.jsx("input",{type:"number",value:_e.maxPrice,onChange:B=>J({..._e,maxPrice:parseInt(B.target.value)||2e4}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg",placeholder:"Max"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Gender"}),o.jsxs("select",{value:_e.gender,onChange:B=>J({..._e,gender:B.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"both",children:"Both"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Amenities"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["WiFi","AC","Meals","Laundry","Security"].map(B=>o.jsx("button",{onClick:()=>{J(F=>({...F,amenities:F.amenities.includes(B)?F.amenities.filter(R=>R!==B):[...F.amenities,B]}))},className:`px-3 py-1 rounded-full text-sm transition-colors ${_e.amenities.includes(B)?"bg-amber-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:B},B))})]})]})})]}),o.jsx("div",{className:"mb-4 text-stone-600",children:h?"Loading...":`${c.length} PG${c.length!==1?"s":""} found`}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((B,F)=>o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer group",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:F*.1},onClick:()=>j(B),whileHover:{y:-5},children:[o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[o.jsx(ws,{src:B.images[0],alt:B.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),o.jsx("button",{onClick:R=>ne(B.id,R),className:"absolute top-3 right-3 p-2 bg-white/90 backdrop-blur-sm rounded-full hover:scale-110 transition-transform",children:o.jsx(el,{className:`w-5 h-5 ${N.has(B.id)?"fill-red-500 text-red-500":"text-stone-600"}`})}),B.verified&&o.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-green-500 text-white rounded-full flex items-center gap-1",children:o.jsx("span",{className:"text-xs",children:" Verified"})}),o.jsxs("div",{className:"absolute bottom-3 left-3 px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full flex items-center gap-1",children:[o.jsx(jt,{className:"w-3 h-3 text-amber-600"}),o.jsxs("span",{className:"text-xs",children:[B.distance," km"]})]})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"text-stone-900 mb-2 line-clamp-1",children:B.name}),o.jsx("p",{className:"text-stone-600 mb-3 line-clamp-2",children:B.description}),o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Ut,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),o.jsx("span",{className:"text-stone-900",children:B.rating}),o.jsxs("span",{className:"text-stone-500",children:["(",B.reviews," reviews)"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-amber-700",children:["",B.price]}),o.jsx("span",{className:"text-stone-500",children:"/month"})]}),o.jsx("div",{className:"px-3 py-1 bg-stone-100 rounded-full text-stone-700 capitalize",children:B.gender})]})]})]},B.id))}),!h&&c.length===0&&o.jsxs("div",{className:"text-center py-20",children:[o.jsx("p",{className:"text-stone-500 mb-4",children:"No PGs found matching your criteria"}),o.jsx("button",{onClick:()=>{y(""),J({minPrice:0,maxPrice:2e4,gender:"",amenities:[]})},className:"px-6 py-3 bg-amber-600 text-white rounded-xl hover:bg-amber-700 transition-colors",children:"Clear Filters"})]})]}),w&&o.jsx(jx,{pg:w,onClose:()=>j(null)}),_&&o.jsx(UE,{notifications:P,onClose:()=>O(!1),isLoading:te})]})}const WE=["WiFi","AC","Meals","Laundry","Security","Parking","Gym","Study Room","TV","Refrigerator","Water Purifier","Power Backup"];function HE({onBack:n,onSuccess:e}){const[s,i]=T.useState(1),[l,c]=T.useState(!1),[u,h]=T.useState(!1),{user:m,accessToken:p}=ft(),[y,g]=T.useState({name:"",description:"",location:"",distance:0,gender:"both",images:[],amenities:[],roomTypes:[],ownerPhone:m?.phone||""}),v=J=>{g(ae=>({...ae,...J}))},w=()=>{s<5&&i(s+1)},j=()=>{s>1&&i(s-1)},N=async()=>{c(!0);try{const J=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/owner/pgs`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({...y,price:y.roomTypes[0]?.price||0,ownerName:m?.name,verified:!1,rating:0,reviews:0})});if(J.ok)K.success("PG listed successfully! Awaiting admin verification."),e();else{const ae=await J.text();K.error("Failed to list PG: "+ae)}}catch(J){console.error("Error submitting PG:",J),K.error("Failed to submit PG listing")}finally{c(!1)}},k=()=>{v({roomTypes:[...y.roomTypes,{type:"",price:0,available:0}]})},E=(J,ae)=>{const Se=[...y.roomTypes];Se[J]={...Se[J],...ae},v({roomTypes:Se})},I=J=>{v({roomTypes:y.roomTypes.filter((ae,Se)=>Se!==J)})},_=J=>{y.amenities.includes(J)?v({amenities:y.amenities.filter(ae=>ae!==J)}):v({amenities:[...y.amenities,J]})},O=async J=>{const ae=J.target.files;if(!ae||ae.length===0)return;if(y.images.length+ae.length>5){K.error("You can upload a maximum of 5 images.");return}h(!0);const Se=Wt(),Ae=[];for(const xe of ae){const ne=`public/${m?.id}/${Date.now()}-${xe.name}`;try{const{data:G,error:B}=await Se.storage.from("pg_images").upload(ne,xe);if(B)throw B;const{data:F}=Se.storage.from("pg_images").getPublicUrl(G.path);Ae.push(F.publicUrl)}catch(G){console.error("Error uploading image:",G),K.error("Failed to upload an image. Please try again."),h(!1);return}}v({images:[...y.images,...Ae]}),h(!1)},P=J=>{v({images:y.images.filter((ae,Se)=>Se!==J)})},$=()=>o.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"PG Name *"}),o.jsx("input",{type:"text",value:y.name,onChange:J=>v({name:J.target.value}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., ADTU Comfort Stay"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Description *"}),o.jsx("textarea",{value:y.description,onChange:J=>v({description:J.target.value}),rows:4,className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Describe your PG facilities, rules, and highlights..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Address *"}),o.jsxs("div",{className:"relative",children:[o.jsx(jt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:y.location,onChange:J=>v({location:J.target.value}),className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Full address"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Distance from ADTU (km) *"}),o.jsx("input",{type:"number",step:"0.1",value:y.distance,onChange:J=>v({distance:parseFloat(J.target.value)}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., 0.5"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Gender Preference *"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:["male","female","both"].map(J=>o.jsx("button",{onClick:()=>v({gender:J}),className:`py-3 px-4 rounded-xl border-2 transition-all capitalize ${y.gender===J?"border-amber-600 bg-amber-50 text-amber-700":"border-stone-300 text-stone-600 hover:border-stone-400"}`,children:J},J))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Contact Phone *"}),o.jsx("input",{type:"tel",value:y.ownerPhone,onChange:J=>v({ownerPhone:J.target.value}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"+91 98765 43210"})]})]}),U=()=>o.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Property Images"}),o.jsx("p",{className:"text-stone-600 text-sm mb-4",children:"Upload up to 5 images of your property."}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[y.images.map((J,ae)=>o.jsxs("div",{className:"relative aspect-video bg-stone-100 rounded-xl overflow-hidden group",children:[o.jsx("img",{src:J,alt:`Preview ${ae+1}`,className:"w-full h-full object-cover"}),o.jsx("button",{onClick:()=>P(ae),className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(rr,{className:"w-4 h-4"})})]},ae)),y.images.length<5&&o.jsxs("label",{className:"aspect-video flex flex-col items-center justify-center border-2 border-dashed border-stone-300 rounded-xl text-stone-600 hover:border-amber-500 hover:text-amber-600 transition-all cursor-pointer",children:[o.jsx(Y_,{className:"w-8 h-8 mb-2"}),o.jsx("span",{className:"text-sm text-center",children:"Click to upload"}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:O,className:"hidden",disabled:u})]})]}),u&&o.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[o.jsx(hl,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Uploading images..."})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:o.jsx("p",{className:"text-blue-900 text-sm",children:" Tip: Use high-quality images that showcase your rooms, common areas, and facilities."})})]}),W=()=>o.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Select Amenities"}),o.jsx("p",{className:"text-stone-600 text-sm mb-4",children:"Choose all that apply"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:WE.map(J=>o.jsx("button",{onClick:()=>_(J),className:`py-3 px-4 rounded-xl border-2 transition-all ${y.amenities.includes(J)?"border-amber-600 bg-amber-50 text-amber-700":"border-stone-300 text-stone-600 hover:border-stone-400"}`,children:J},J))})]}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:o.jsxs("p",{className:"text-green-900 text-sm",children:[" ",y.amenities.length," amenities selected"]})})]}),te=()=>o.jsx(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Room Types & Pricing *"}),o.jsx("p",{className:"text-stone-600 text-sm mb-4",children:"Add different room configurations you offer"}),o.jsxs("div",{className:"space-y-4",children:[y.roomTypes.map((J,ae)=>o.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 border border-stone-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-stone-700",children:["Room Type ",ae+1]}),o.jsx("button",{onClick:()=>I(ae),className:"text-red-600 hover:text-red-700 transition-colors",children:o.jsx(rr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-600 text-sm mb-2",children:"Type"}),o.jsxs("select",{value:J.type,onChange:Se=>E(ae,{type:Se.target.value}),className:"w-full px-4 py-2 bg-white border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[o.jsx("option",{value:"",children:"Select..."}),o.jsx("option",{value:"Single",children:"Single"}),o.jsx("option",{value:"Double",children:"Double"}),o.jsx("option",{value:"Triple",children:"Triple"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-600 text-sm mb-2",children:"Price (/month)"}),o.jsx("input",{type:"number",value:J.price,onChange:Se=>E(ae,{price:parseInt(Se.target.value)}),className:"w-full px-4 py-2 bg-white border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"8500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-600 text-sm mb-2",children:"Available"}),o.jsx("input",{type:"number",value:J.available,onChange:Se=>E(ae,{available:parseInt(Se.target.value)}),className:"w-full px-4 py-2 bg-white border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"2"})]})]})]},ae)),o.jsxs("button",{onClick:k,className:"w-full py-3 px-4 border-2 border-dashed border-stone-300 rounded-xl text-stone-600 hover:border-amber-500 hover:text-amber-600 transition-all flex items-center justify-center gap-2",children:[o.jsx(tl,{className:"w-5 h-5"}),"Add Room Type"]})]})]})}),ye=()=>o.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ju,{className:"w-8 h-8 text-amber-600"})}),o.jsx("h2",{className:"text-stone-800 mb-2",children:"Review Your Listing"}),o.jsx("p",{className:"text-stone-600",children:"Please verify all details before submitting"})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-stone-200 space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"PG Name"}),o.jsx("p",{className:"text-stone-800",children:y.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Location"}),o.jsx("p",{className:"text-stone-800",children:y.location}),o.jsxs("p",{className:"text-stone-600 text-sm",children:[y.distance," km from ADTU"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Gender Preference"}),o.jsx("p",{className:"text-stone-800 capitalize",children:y.gender})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Images"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.images.map((J,ae)=>o.jsx("img",{src:J,alt:`PG image ${ae+1}`,className:"w-20 h-20 rounded-lg object-cover"},ae))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Amenities"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.amenities.map(J=>o.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-sm",children:J},J))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Room Types"}),o.jsx("div",{className:"space-y-2 mt-2",children:y.roomTypes.map((J,ae)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-stone-50 rounded-lg",children:[o.jsx("span",{className:"text-stone-800",children:J.type}),o.jsxs("span",{className:"text-amber-700",children:["",J.price,"/month"]}),o.jsxs("span",{className:"text-stone-600 text-sm",children:[J.available," available"]})]},ae))})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:o.jsx("p",{className:"text-blue-900 text-sm",children:" Your listing will be reviewed by our admin team before being published to students. This usually takes 24-48 hours."})})]}),_e=()=>{switch(s){case 1:return y.name&&y.description&&y.location&&y.distance&&y.ownerPhone;case 2:return y.images.length>0;case 3:return y.amenities.length>0;case 4:return y.roomTypes.length>0&&y.roomTypes.every(J=>J.type&&J.price&&J.available);case 5:return!0;default:return!1}};return o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("button",{onClick:n,className:"p-2 text-stone-600 hover:text-stone-900 transition-colors",children:o.jsx(zt,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Add New PG"}),o.jsxs("p",{className:"text-stone-600",children:["Step ",s," of 5"]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex justify-between mb-2",children:[1,2,3,4,5].map(J=>o.jsx("div",{className:`flex-1 h-2 rounded-full mx-1 transition-all ${J<=s?"bg-amber-600":"bg-stone-200"}`},J))}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:s>=1?"text-amber-600":"text-stone-400",children:"Basic Info"}),o.jsx("span",{className:s>=2?"text-amber-600":"text-stone-400",children:"Photos"}),o.jsx("span",{className:s>=3?"text-amber-600":"text-stone-400",children:"Amenities"}),o.jsx("span",{className:s>=4?"text-amber-600":"text-stone-400",children:"Pricing"}),o.jsx("span",{className:s>=5?"text-amber-600":"text-stone-400",children:"Review"})]})]}),o.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-stone-200 mb-8",children:o.jsxs(Wn,{mode:"wait",children:[s===1&&$(),s===2&&U(),s===3&&W(),s===4&&te(),s===5&&ye()]})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("button",{onClick:j,disabled:s===1,className:"px-6 py-3 text-stone-600 hover:text-stone-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[o.jsx(zt,{className:"w-5 h-5"}),"Previous"]}),s<5?o.jsxs("button",{onClick:w,disabled:!_e(),className:"px-6 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["Next",o.jsx(_y,{className:"w-5 h-5"})]}):o.jsx("button",{onClick:N,disabled:l||!_e(),className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ju,{className:"w-5 h-5"}),"Submit Listing"]})})]})]})}function GE({onBack:n,onSelectPG:e}){const[s,i]=T.useState([]),[l,c]=T.useState(!0),[u,h]=T.useState(""),[m,p]=T.useState("all"),{accessToken:y}=ft();T.useEffect(()=>{g()},[]);const g=async()=>{try{const N=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/owner/pgs`,{headers:{Authorization:`Bearer ${y}`}});if(N.ok){const k=await N.json();i(k)}}catch(N){console.error("Error fetching PGs:",N),K.error("Failed to load your listings")}finally{c(!1)}},v=async N=>{if(confirm("Are you sure you want to delete this PG listing?"))try{(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/owner/pgs/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${y}`}})).ok?(K.success("PG deleted successfully"),g()):K.error("Failed to delete PG")}catch(k){console.error("Error deleting PG:",k),K.error("Failed to delete PG")}},w=s.filter(N=>{const k=N.name.toLowerCase().includes(u.toLowerCase())||N.location.toLowerCase().includes(u.toLowerCase()),E=m==="all"||m==="verified"&&N.verified||m==="pending"&&!N.verified;return k&&E}),j=N=>N.roomTypes.reduce((k,E)=>k+E.available,0);return l?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("button",{onClick:n,className:"p-2 text-stone-600 hover:text-stone-900 transition-colors",children:o.jsx(zt,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Manage PGs"}),o.jsxs("p",{className:"text-stone-600",children:[s.length," total listings"]})]})]}),o.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(fl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:u,onChange:N=>h(N.target.value),placeholder:"Search by name or location...",className:"w-full pl-12 pr-4 py-3 bg-stone-50 border border-stone-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p("all"),className:`px-4 py-3 rounded-xl transition-all ${m==="all"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"All"}),o.jsx("button",{onClick:()=>p("verified"),className:`px-4 py-3 rounded-xl transition-all ${m==="verified"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Verified"}),o.jsx("button",{onClick:()=>p("pending"),className:`px-4 py-3 rounded-xl transition-all ${m==="pending"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Pending"})]})]})}),w.length===0?o.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 mb-4",children:"No PGs found"}),o.jsx("p",{className:"text-stone-500 text-sm",children:u||m!=="all"?"Try adjusting your search or filters":"Start by adding your first PG listing"})]}):o.jsx("div",{className:"space-y-4",children:w.map((N,k)=>o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 hover:shadow-md transition-all",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsx("div",{className:"w-full md:w-48 h-32 bg-stone-100 rounded-xl overflow-hidden flex-shrink-0",children:o.jsx("img",{src:N.images[0]||"",alt:N.name,className:"w-full h-full object-cover",onError:E=>{E.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'}})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-stone-800 mb-1",children:N.name}),o.jsx("p",{className:"text-stone-600 text-sm",children:N.location})]}),o.jsx("div",{className:"flex items-center gap-2",children:N.verified?o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"Verified"}):o.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-xs",children:"Pending Verification"})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Starting Price"}),o.jsxs("p",{className:"text-amber-700",children:["",N.price.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Room Types"}),o.jsx("p",{className:"text-stone-800",children:N.roomTypes.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Total Occupancy"}),o.jsx("p",{className:"text-stone-800",children:j(N)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Status"}),o.jsx("p",{className:N.verified?"text-green-600":"text-amber-600",children:N.verified?"Active":"Pending"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>e?.(N.id),className:"px-4 py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 transition-colors flex items-center gap-2 text-sm",children:[o.jsx(Za,{className:"w-4 h-4"}),"View"]}),o.jsxs("button",{onClick:()=>e?.(N.id),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center gap-2 text-sm",children:[o.jsx(V_,{className:"w-4 h-4"}),"Edit & Manage Rooms"]}),o.jsxs("button",{onClick:()=>v(N.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center gap-2 text-sm",children:[o.jsx(Xd,{className:"w-4 h-4"}),"Delete"]})]})]})]})},N.id))})]})}const qE=n=>{const[e,s]=T.useState([]),[i,l]=T.useState(!0),[c,u]=T.useState(null),h=Wt(),m=T.useCallback(async()=>{if(n){l(!0),u(null);try{const{data:w,error:j}=await h.from("rooms").select("*").eq("pg_id",n).order("room_number",{ascending:!0});if(j)throw j;s(w||[])}catch(w){const j=w instanceof Error?w.message:"Failed to load rooms";u(j),console.error("Error fetching rooms:",w)}finally{l(!1)}}},[n,h]);T.useEffect(()=>{if(!n)return;m();const w=h.channel(`rooms_${n}`).on("postgres_changes",{event:"*",schema:"public",table:"rooms",filter:`pg_id=eq.${n}`},j=>{if(console.log("Room change received:",j),j.eventType==="INSERT"){const N=j.new;s(k=>{const E=k.findIndex(_=>_.room_number.localeCompare(N.room_number)>0),I=[...k];return E===-1?I.push(N):I.splice(E,0,N),I})}else j.eventType==="UPDATE"?s(N=>N.map(k=>k.id===j.new.id?j.new:k)):j.eventType==="DELETE"&&s(N=>N.filter(k=>k.id!==j.old.id))}).subscribe();return()=>{h.removeChannel(w)}},[n,m,h]);const p=T.useCallback(async w=>{try{const{data:j,error:N}=await h.from("rooms").insert([{...w,status:"available",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select();if(N)throw N;if(j)return K.success(`Room ${w.room_number} added successfully`),j[0]}catch(j){const N=j instanceof Error?j.message:"Failed to add room";throw u(N),K.error(`Error: ${N}`),j}},[h]),y=T.useCallback(async(w,j)=>{try{const{data:N,error:k}=await h.from("rooms").update({...j,updated_at:new Date().toISOString()}).eq("id",w).select();if(k)throw k;if(N)return K.success("Room updated successfully"),N[0]}catch(N){const k=N instanceof Error?N.message:"Failed to update room";throw u(k),K.error(`Error: ${k}`),N}},[h]),g=T.useCallback(async(w,j)=>{const N=j==="available"?"booked":"available";try{const{data:k,error:E}=await h.from("rooms").update({status:N,updated_at:new Date().toISOString()}).eq("id",w).select();if(E)throw E;if(k)return K.success(`Room status updated to ${N}`),k[0]}catch(k){const E=k instanceof Error?k.message:"Failed to update room status";throw u(E),K.error(`Error: ${E}`),k}},[h]),v=T.useCallback(async w=>{try{const{count:j,error:N}=await h.from("bookings").select("id",{count:"exact",head:!0}).eq("room_id",w).in("status",["pending","approved","confirmed"]);if(N)throw N;if((j||0)>0)throw new Error(`Cannot delete room with ${j} active booking(s). Please cancel bookings first.`);const{error:k}=await h.from("rooms").delete().eq("id",w);if(k)throw k;K.success("Room deleted successfully")}catch(j){const N=j instanceof Error?j.message:"Failed to delete room";throw u(N),K.error(`Error: ${N}`),j}},[h]);return{rooms:e,isLoading:i,error:c,fetchRooms:m,addRoom:p,updateRoom:y,toggleAvailability:g,deleteRoom:v}};function KE({room:n,amenityNames:e,onEdit:s,onDelete:i,onToggleAvailability:l,isTogglingAvailability:c}){const u=n.status==="available",h=u?"border-green-500":"border-gray-400",m=u?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",p=u?" Available":" Booked";return o.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},whileHover:{y:-4,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},className:`border-t-4 ${h} bg-white rounded-xl shadow-md p-4 hover:shadow-lg transition-all duration-300`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-stone-900",children:["Room ",n.room_number]}),o.jsx("p",{className:"text-stone-500 text-sm",children:n.pg_id})]}),o.jsx("button",{onClick:()=>i(n.id,n.room_number),className:"p-2 hover:bg-red-100 rounded-lg transition-colors text-red-600 hover:text-red-700 hover:scale-110",title:"Delete room",children:o.jsx(Xd,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-stone-600 text-sm font-medium",children:" Type:"}),o.jsx("span",{className:"text-stone-900 capitalize",children:n.type})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-stone-600 text-sm font-medium",children:" Bathroom:"}),o.jsx("span",{className:"text-stone-900 capitalize",children:n.bathroom_type})]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-stone-50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Monthly Rent"}),o.jsxs("p",{className:"text-lg font-semibold text-amber-700",children:["",n.rent.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Beds Available"}),o.jsxs("p",{className:"text-lg font-semibold text-stone-900",children:[n.beds_available,"/",n.beds_total]})]})]}),n.amenities&&n.amenities.length>0&&o.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:n.amenities.map(y=>o.jsx("span",{className:"px-3 py-1 bg-stone-100 text-stone-700 text-xs font-medium rounded-full",children:e[y]||y},y))}),o.jsx("div",{className:`mb-4 px-3 py-1.5 ${m} rounded-lg text-sm font-medium inline-block`,children:p}),o.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-stone-200",children:[o.jsxs("button",{onClick:()=>s(n),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:[o.jsx(Ty,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>l(n.id),disabled:c,className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-all text-sm font-medium ${u?"bg-green-100 hover:bg-green-200 text-green-800":"bg-gray-100 hover:bg-gray-200 text-gray-800"} disabled:opacity-50 disabled:cursor-not-allowed`,title:`Click to mark as ${u?"booked":"available"}`,children:[o.jsx(ik,{className:`w-4 h-4 ${c?"animate-spin":""}`}),u?"Available":"Booked"]})]})]})}function YE({pgId:n,isOpen:e,onClose:s,onSubmit:i,isSubmitting:l}){const[c,u]=T.useState([]),[h,m]=T.useState([]),[p,y]=T.useState(!1),[g,v]=T.useState({room_number:"",type:"single",bathroom_type:"common",rent:"",beds_total:""}),[w,j]=T.useState({}),N=Wt();T.useEffect(()=>{e&&(async()=>{y(!0);try{const{data:O,error:P}=await N.from("amenities").select("*");if(P){console.warn("Amenities table not found yet - this is normal during setup"),u([]);return}u(O||[])}catch(O){console.warn("Error fetching amenities (table may not exist yet):",O),u([])}finally{y(!1)}})()},[e,N]);const k=()=>{const _={};return g.room_number.trim()||(_.room_number="Room number is required"),(!g.rent||parseFloat(g.rent)<=0)&&(_.rent="Rent must be greater than 0"),(!g.beds_total||parseInt(g.beds_total)<=0)&&(_.beds_total="Total beds must be at least 1"),j(_),Object.keys(_).length===0},E=async _=>{if(_.preventDefault(),!k()){K.error("Please fix the errors in the form");return}try{await i({pg_id:n,room_number:g.room_number,type:g.type,bathroom_type:g.bathroom_type,rent:parseFloat(g.rent),beds_total:parseInt(g.beds_total),beds_available:parseInt(g.beds_total),amenities:h}),v({room_number:"",type:"single",bathroom_type:"common",rent:"",beds_total:""}),m([]),j({}),s()}catch(O){console.error("Error submitting form:",O)}},I=_=>{m(O=>O.includes(_)?O.filter(P=>P!==_):[...O,_])};return o.jsx(Wn,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 z-40"}),o.jsx(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto my-8",children:[o.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-red-600 to-red-700 text-white p-6 flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Add New Room"}),o.jsx("button",{onClick:s,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:o.jsx(rr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:E,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Room Number *"}),o.jsx("input",{type:"text",placeholder:"e.g., 101, A1, etc.",value:g.room_number,onChange:_=>v({...g,room_number:_.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${w.room_number?"border-red-500":"border-stone-300"}`}),w.room_number&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:w.room_number})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Room Type"}),o.jsxs("select",{value:g.type,onChange:_=>v({...g,type:_.target.value}),className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[o.jsx("option",{value:"single",children:"Single"}),o.jsx("option",{value:"double",children:"Double"}),o.jsx("option",{value:"triple",children:"Triple"}),o.jsx("option",{value:"quad",children:"Quad"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Bathroom Type"}),o.jsxs("select",{value:g.bathroom_type,onChange:_=>v({...g,bathroom_type:_.target.value}),className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[o.jsx("option",{value:"common",children:"Common"}),o.jsx("option",{value:"attached",children:"Attached"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Monthly Rent () *"}),o.jsx("input",{type:"number",placeholder:"8000",value:g.rent,onChange:_=>v({...g,rent:_.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${w.rent?"border-red-500":"border-stone-300"}`}),w.rent&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:w.rent})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Total Beds *"}),o.jsx("input",{type:"number",placeholder:"1",value:g.beds_total,onChange:_=>v({...g,beds_total:_.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${w.beds_total?"border-red-500":"border-stone-300"}`}),w.beds_total&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:w.beds_total})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-3",children:"Amenities"}),p?o.jsx("p",{className:"text-stone-500 text-sm",children:"Loading amenities..."}):c.length>0?o.jsx("div",{className:"space-y-2",children:c.map(_=>o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:h.includes(_.id),onChange:()=>I(_.id),className:"w-4 h-4 accent-red-600 rounded cursor-pointer"}),o.jsx("span",{className:"text-stone-700",children:_.name})]},_.id))}):o.jsx("p",{className:"text-stone-500 text-sm",children:"No amenities available"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-stone-200 sticky bottom-0 bg-white",children:[o.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 bg-stone-200 hover:bg-stone-300 text-stone-900 rounded-lg font-medium transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors disabled:cursor-not-allowed",children:l?"Adding...":"Add Room"})]})]})]})})]})})}function JE({room:n,isOpen:e,onClose:s,onSubmit:i,isSubmitting:l}){const[c,u]=T.useState([]),[h,m]=T.useState([]),[p,y]=T.useState(!1),[g,v]=T.useState({room_number:"",type:"single",bathroom_type:"common",rent:"",beds_total:"",beds_available:""}),[w,j]=T.useState({}),N=Wt();T.useEffect(()=>{e&&n&&((async()=>{y(!0);try{const{data:O,error:P}=await N.from("amenities").select("*");if(P)throw P;u(O||[])}catch(O){console.error("Error fetching amenities:",O),K.error("Failed to load amenities")}finally{y(!1)}})(),v({room_number:n.room_number,type:n.type,bathroom_type:n.bathroom_type,rent:n.rent.toString(),beds_total:n.beds_total.toString(),beds_available:n.beds_available.toString()}),m(n.amenities||[]))},[e,n,N]);const k=()=>{const _={};return g.room_number.trim()||(_.room_number="Room number is required"),(!g.rent||parseFloat(g.rent)<=0)&&(_.rent="Rent must be greater than 0"),(!g.beds_total||parseInt(g.beds_total)<=0)&&(_.beds_total="Total beds must be at least 1"),(!g.beds_available||parseInt(g.beds_available)<0)&&(_.beds_available="Available beds cannot be negative"),parseInt(g.beds_available)>parseInt(g.beds_total)&&(_.beds_available="Available beds cannot exceed total beds"),j(_),Object.keys(_).length===0},E=async _=>{if(_.preventDefault(),!k()||!n){K.error("Please fix the errors in the form");return}try{await i(n.id,{room_number:g.room_number,type:g.type,bathroom_type:g.bathroom_type,rent:parseFloat(g.rent),beds_total:parseInt(g.beds_total),beds_available:parseInt(g.beds_available),amenities:h}),j({}),s()}catch(O){console.error("Error submitting form:",O)}},I=_=>{m(O=>O.includes(_)?O.filter(P=>P!==_):[...O,_])};return n?o.jsx(Wn,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 z-40"}),o.jsx(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Edit Room"}),o.jsx("button",{onClick:s,className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:o.jsx(rr,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:E,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Room Number *"}),o.jsx("input",{type:"text",value:g.room_number,onChange:_=>v({...g,room_number:_.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w.room_number?"border-red-500":"border-stone-300"}`}),w.room_number&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:w.room_number})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Room Type"}),o.jsxs("select",{value:g.type,onChange:_=>v({...g,type:_.target.value}),className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"single",children:"Single"}),o.jsx("option",{value:"double",children:"Double"}),o.jsx("option",{value:"triple",children:"Triple"}),o.jsx("option",{value:"quad",children:"Quad"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Bathroom Type"}),o.jsxs("select",{value:g.bathroom_type,onChange:_=>v({...g,bathroom_type:_.target.value}),className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"common",children:"Common"}),o.jsx("option",{value:"attached",children:"Attached"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Monthly Rent () *"}),o.jsx("input",{type:"number",value:g.rent,onChange:_=>v({...g,rent:_.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w.rent?"border-red-500":"border-stone-300"}`}),w.rent&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:w.rent})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Total Beds *"}),o.jsx("input",{type:"number",value:g.beds_total,onChange:_=>v({...g,beds_total:_.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w.beds_total?"border-red-500":"border-stone-300"}`}),w.beds_total&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:w.beds_total})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-2",children:"Available Beds *"}),o.jsx("input",{type:"number",value:g.beds_available,onChange:_=>v({...g,beds_available:_.target.value}),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w.beds_available?"border-red-500":"border-stone-300"}`}),w.beds_available&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:w.beds_available})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-900 font-medium mb-3",children:"Amenities"}),p?o.jsx("p",{className:"text-stone-500 text-sm",children:"Loading amenities..."}):c.length>0?o.jsx("div",{className:"space-y-2",children:c.map(_=>o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:h.includes(_.id),onChange:()=>I(_.id),className:"w-4 h-4 accent-blue-600 rounded cursor-pointer"}),o.jsx("span",{className:"text-stone-700",children:_.name})]},_.id))}):o.jsx("p",{className:"text-stone-500 text-sm",children:"No amenities available"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-stone-200",children:[o.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 bg-stone-200 hover:bg-stone-300 text-stone-900 rounded-lg font-medium transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors disabled:cursor-not-allowed",children:l?"Saving...":"Save Changes"})]})]})]})})]})}):null}function QE({isOpen:n,roomNumber:e,bookingCount:s=0,onConfirm:i,onCancel:l,isDeleting:c}){return o.jsx(Wn,{children:n&&o.jsxs(o.Fragment,{children:[o.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,className:"fixed inset-0 bg-black/50 z-40"}),o.jsx(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[o.jsx("div",{className:"flex justify-center pt-6",children:o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx(q_,{className:"w-8 h-8 text-red-600"})})}),o.jsxs("div",{className:"p-6 text-center space-y-4",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-stone-900 mb-2",children:["Delete Room ",e,"?"]}),o.jsx("p",{className:"text-stone-600",children:"This action cannot be reversed."})]}),s>0&&o.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 text-left",children:[o.jsxs("p",{className:"text-yellow-800 font-medium text-sm",children:[" This room has ",s," active booking(s)"]}),o.jsx("p",{className:"text-yellow-700 text-xs mt-1",children:"Please cancel these bookings before deleting the room."})]}),o.jsx("p",{className:"text-stone-700 text-sm",children:"Are you absolutely sure you want to delete this room?"})]}),o.jsxs("div",{className:"flex gap-3 p-6 border-t border-stone-200",children:[o.jsx("button",{onClick:l,disabled:c,className:"flex-1 px-4 py-2 bg-stone-200 hover:bg-stone-300 disabled:bg-stone-100 text-stone-900 rounded-lg font-medium transition-colors disabled:cursor-not-allowed",children:"Cancel"}),o.jsx("button",{onClick:i,disabled:c||s>0,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors disabled:cursor-not-allowed",children:c?"Deleting...":"Delete"})]})]})})]})})}function XE({pgId:n,onBack:e}){const{accessToken:s}=ft(),[i,l]=T.useState(null),[c,u]=T.useState([]),[h,m]=T.useState(!0),[p,y]=T.useState(null),{rooms:g,isLoading:v,addRoom:w,updateRoom:j,toggleAvailability:N,deleteRoom:k}=qE(n||""),[E,I]=T.useState(!1),[_,O]=T.useState(null),[P,$]=T.useState(null),[U,W]=T.useState(""),[te,ye]=T.useState(0),[_e,J]=T.useState(!1),[ae,Se]=T.useState(null),[Ae,xe]=T.useState([]),[ne,G]=T.useState("all"),B=Wt();T.useEffect(()=>{(async()=>{if(!(!n||!s)){m(!0),y(null);try{const Z=await fetch(`https://odxrugzhcfeksxvnfmyn.supabase.co/functions/v1/make-server-2c39c550/pgs/${n}`,{headers:{Authorization:`Bearer ${s}`}});if(!Z.ok)throw new Error("Failed to fetch PG details");const ve=await Z.json();l(ve)}catch(Z){const ve=Z instanceof Error?Z.message:"Failed to load PG details";y(ve),console.error("Error fetching PG:",Z),K.error(ve)}finally{m(!1)}}})()},[n,s]),T.useEffect(()=>{(async()=>{try{const{data:Z,error:ve}=await B.from("amenities").select("*");if(ve)throw ve;u(Z||[])}catch(Z){console.error("Error fetching amenities:",Z)}})()},[B]),T.useEffect(()=>{let re=g;ne==="available"?re=g.filter(Z=>Z.status==="available"):ne==="booked"&&(re=g.filter(Z=>Z.status==="booked")),xe(re)},[g,ne]);const F=async re=>{J(!0);try{await w(re),I(!1)}catch(Z){console.error("Error adding room:",Z)}finally{J(!1)}},R=re=>{O(re)},z=async(re,Z)=>{J(!0);try{await j(re,Z),O(null)}catch(ve){console.error("Error updating room:",ve)}finally{J(!1)}},ee=async(re,Z)=>{try{const{data:ve}=await B.from("bookings").select("id").eq("room_id",re).in("status",["pending","approved","confirmed"]);$(re),W(Z),ye(ve?.length||0)}catch(ve){console.error("Error checking bookings:",ve),K.error("Failed to check room bookings")}},le=async()=>{if(P){J(!0);try{await k(P),$(null),W(""),ye(0)}catch(re){console.error("Error deleting room:",re)}finally{J(!1)}}},ue=async re=>{const Z=g.find(ve=>ve.id===re);if(Z){Se(re);try{await N(re,Z.status)}catch(ve){console.error("Error toggling availability:",ve)}finally{Se(null)}}},je=c.reduce((re,Z)=>({...re,[Z.id]:Z.name}),{});return h?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-200 border-t-amber-600 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading PG details..."})]})}):p||!i?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Qu,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-900 font-semibold mb-4",children:p||"PG not found"}),o.jsx("button",{onClick:e,className:"px-6 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Back to Manage PGs"})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 to-stone-100 p-4 md:p-8",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-start justify-between mb-8",children:[o.jsxs("div",{children:[o.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-amber-600 hover:text-amber-700 font-medium mb-4 transition-colors",children:[o.jsx(zt,{className:"w-5 h-5"}),"Back to Manage PGs"]}),o.jsx("h1",{className:"text-4xl font-bold text-stone-900 mb-2",children:i.name}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("p",{className:"text-stone-600",children:i.location}),i.verified&&o.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[o.jsx(Ju,{className:"w-4 h-4"}),"Verified"]})]})]}),o.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-2 px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-xl font-semibold transition-all hover:shadow-lg hover:scale-105",children:[o.jsx(tl,{className:"w-5 h-5"}),"Add Room"]})]}),o.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"flex gap-4 mb-8",children:["all","available","booked"].map(re=>o.jsxs("button",{onClick:()=>G(re),className:`px-6 py-2 rounded-lg font-medium transition-all ${ne===re?"bg-amber-600 text-white shadow-md":"bg-white text-stone-700 hover:bg-stone-100"}`,children:[re==="all"?"All Rooms":re==="available"?"Available":"Booked",o.jsxs("span",{className:"ml-2 text-sm",children:["(",g.filter(Z=>re==="all"?!0:re==="available"?Z.status==="available":Z.status==="booked").length,")"]})]},re))}),v?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-200 border-t-amber-600 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading rooms..."})]})}):Ae.length===0?o.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl p-12 text-center",children:[o.jsx("p",{className:"text-stone-600 text-lg mb-4",children:ne==="all"?'No rooms added yet. Click "Add Room" to create your first room.':`No ${ne} rooms.`}),ne==="all"&&o.jsx("button",{onClick:()=>I(!0),className:"px-6 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Add First Room"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ae.map(re=>o.jsx(KE,{room:re,amenityNames:je,onEdit:R,onDelete:ee,onToggleAvailability:ue,isTogglingAvailability:ae===re.id},re.id))})]}),o.jsx(YE,{pgId:n||"",isOpen:E,onClose:()=>I(!1),onSubmit:F,isSubmitting:_e}),o.jsx(JE,{room:_,isOpen:!!_,onClose:()=>O(null),onSubmit:z,isSubmitting:_e}),o.jsx(QE,{isOpen:!!P,roomNumber:U,bookingCount:te,onConfirm:le,onCancel:()=>{$(null),W(""),ye(0)},isDeleting:_e})]})}function ZE({onBack:n}){const[e,s]=T.useState({pending:[],approved:[],declined:[]}),[i,l]=T.useState("pending"),[c,u]=T.useState(!0),{accessToken:h,user:m}=ft(),p=Wt();T.useEffect(()=>{if(y(),!m?.id)return;const j=p.channel("owner_bookings_channel").on("postgres_changes",{event:"*",schema:"public",table:`kv_store_${Ee}`},N=>{console.log("Realtime payload (owner):",N);const k=N.new,E=N.old,I=k||E;if(I&&I.key.startsWith("booking:")){const _=k?.value||E?.value;_&&s(O=>{const P={...O};if(Object.keys(P).forEach($=>{P[$]=P[$].filter(U=>U.id!==_.id)}),_.status){let $="pending";_.status==="approved"||_.status==="confirmed"?$="approved":_.status==="declined"?$="declined":_.status==="pending"&&($="pending"),["pending","approved","declined"].includes($)&&(P[$]=[_,...P[$]])}return P})}}).subscribe();return()=>{p.removeChannel(j)}},[m?.id,p,Ee]);const y=async()=>{u(!0);try{const j=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/owner/bookings`,{headers:{Authorization:`Bearer ${h}`}});if(j.ok){const N=await j.json();console.log("Fetched bookings from server:",N);const k={pending:N.filter(E=>E.status==="pending"),approved:N.filter(E=>E.status==="approved"||E.status==="confirmed"),declined:N.filter(E=>E.status==="declined")};Object.keys(k).forEach(E=>{k[E].sort((I,_)=>new Date(_.createdAt).getTime()-new Date(I.createdAt).getTime())}),console.log("Organized bookings:",k),s(k)}else{console.error("Failed to fetch bookings, status:",j.status);const N=await j.text();console.error("Error response:",N)}}catch(j){console.error("Error fetching bookings:",j),K.error("Failed to load bookings")}finally{u(!1)}},g=async j=>{try{(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/owner/bookings/${j}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({status:"approved"})})).ok?(K.success("Booking approved successfully"),y()):K.error("Failed to approve booking")}catch(N){console.error("Error approving booking:",N),K.error("Failed to approve booking")}},v=async j=>{const N=prompt("Please provide a reason for declining (optional):");if(N!==null)try{(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/owner/bookings/${j}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({status:"declined",reason:N})})).ok?(K.success("Booking declined"),y()):K.error("Failed to decline booking")}catch(k){console.error("Error declining booking:",k),K.error("Failed to decline booking")}},w=e[i]||[];return c?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("button",{onClick:n,className:"p-2 text-stone-600 hover:text-stone-900 transition-colors",children:o.jsx(zt,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Booking Requests"}),o.jsx("p",{className:"text-stone-600",children:"Manage student booking requests"})]})]}),o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsx("button",{onClick:()=>l("pending"),className:`px-6 py-3 rounded-xl transition-all ${i==="pending"?"bg-amber-600 text-white shadow-lg":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sr,{className:"w-5 h-5"}),"Pending (",e.pending.length,")"]})}),o.jsx("button",{onClick:()=>l("approved"),className:`px-6 py-3 rounded-xl transition-all ${i==="approved"?"bg-amber-600 text-white shadow-lg":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fn,{className:"w-5 h-5"}),"Approved (",e.approved.length,")"]})}),o.jsx("button",{onClick:()=>l("declined"),className:`px-6 py-3 rounded-xl transition-all ${i==="declined"?"bg-amber-600 text-white shadow-lg":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"w-5 h-5"}),"Declined (",e.declined.length,")"]})})]}),w.length===0?o.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border border-stone-200",children:[o.jsx("div",{className:"w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(xn,{className:"w-8 h-8 text-stone-400"})}),o.jsxs("p",{className:"text-stone-600 mb-2",children:["No ",i," bookings"]}),o.jsx("p",{className:"text-stone-500 text-sm",children:i==="pending"?"New booking requests will appear here":`No bookings have been ${i} yet`})]}):o.jsx("div",{className:"space-y-4",children:w.map((j,N)=>o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-stone-800 mb-1",children:j.pg.name}),o.jsx("p",{className:"text-stone-600 text-sm",children:j.pg.location})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${j.status==="pending"?"bg-amber-100 text-amber-700":j.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Room Type"}),o.jsx("p",{className:"text-stone-800",children:j.roomType})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Check-in"}),o.jsx("p",{className:"text-stone-800",children:new Date(j.checkIn).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Duration"}),o.jsxs("p",{className:"text-stone-800",children:[j.duration," months"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Amount"}),o.jsxs("p",{className:"text-amber-700",children:["",j.totalAmount.toLocaleString()]})]})]}),o.jsxs("div",{className:"bg-stone-50 rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:o.jsx(Zd,{className:"w-5 h-5 text-amber-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-800",children:j.user.name}),o.jsx("p",{className:"text-stone-600 text-sm",children:j.user.email})]})]}),j.user.phone&&o.jsxs("p",{className:"text-stone-600 text-sm ml-13",children:[" ",j.user.phone]})]})]}),j.status==="pending"&&o.jsxs("div",{className:"flex lg:flex-col gap-3 lg:w-48",children:[o.jsxs("button",{onClick:()=>g(j.id),className:"flex-1 lg:flex-none px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[o.jsx(Fn,{className:"w-5 h-5"}),"Confirmed"]}),o.jsxs("button",{onClick:()=>v(j.id),className:"flex-1 lg:flex-none px-6 py-3 bg-red-100 text-red-700 rounded-xl hover:bg-red-200 transition-all flex items-center justify-center gap-2",children:[o.jsx(Ur,{className:"w-5 h-5"}),"Decline"]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-stone-200",children:o.jsxs("p",{className:"text-stone-500 text-xs",children:["Requested on ",new Date(j.createdAt).toLocaleDateString()," at"," ",new Date(j.createdAt).toLocaleTimeString()]})})]},j.id))})]})}function eT({onBack:n}){const[e,s]=T.useState([]),[i,l]=T.useState(!0),[c,u]=T.useState(null),[h,m]=T.useState(""),{accessToken:p}=ft();T.useEffect(()=>{y()},[]);const y=async()=>{try{const N=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/owner/reviews`,{headers:{Authorization:`Bearer ${p}`}});if(N.ok){const k=await N.json();s(k)}else K.error("Failed to fetch reviews")}catch(N){console.error("Error fetching reviews:",N),K.error("Failed to fetch reviews")}finally{l(!1)}},g=async N=>{K.info("Reply feature coming soon!")},v=e.filter(N=>!(c&&N.rating!==c||h&&!N.pgName.toLowerCase().includes(h.toLowerCase())&&!N.comment.toLowerCase().includes(h.toLowerCase()))),w=N=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(k=>o.jsx(Ut,{className:`w-4 h-4 ${k<=N?"fill-amber-500 text-amber-500":"text-stone-300"}`},k))}),j=e.length>0?(e.reduce((N,k)=>N+k.rating,0)/e.length).toFixed(1):"0.0";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(zt,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-stone-800",children:"Reviews & Ratings"}),o.jsx("p",{className:"text-stone-600",children:"Manage feedback from students"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-6 border border-amber-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center",children:o.jsx(Ut,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-amber-900",children:j}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Average Rating"})]})]})}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:o.jsx(yu,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-900",children:e.length}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Reviews"})]})]})}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(z_,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-green-900",children:e.filter(N=>N.rating>=4).length}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Positive Reviews"})]})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(fl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:h,onChange:N=>m(N.target.value),placeholder:"Search reviews...",className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>u(null),className:`px-4 py-2 rounded-lg transition-colors ${c===null?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"All"}),[5,4,3,2,1].map(N=>o.jsxs("button",{onClick:()=>u(N),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-1 ${c===N?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[N,o.jsx(Ut,{className:"w-4 h-4"})]},N))]})]}),o.jsx("div",{className:"space-y-4",children:i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading reviews..."})]}):v.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-stone-200",children:[o.jsx(yu,{className:"w-16 h-16 text-stone-300 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:h||c?"No reviews match your filters":"No reviews yet"})]}):v.map((N,k)=>o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-700 rounded-full flex items-center justify-center text-white",children:N.userName.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-800",children:N.userName}),o.jsx("p",{className:"text-stone-500 text-sm",children:new Date(N.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),o.jsx("p",{className:"text-stone-700 mb-2",children:N.pgName}),w(N.rating)]})}),N.comment&&o.jsxs("p",{className:"text-stone-600 mb-4 bg-stone-50 rounded-lg p-4",children:['"',N.comment,'"']}),o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:()=>g(N.id),className:"flex items-center gap-2 px-4 py-2 text-amber-700 hover:bg-amber-50 rounded-lg transition-colors",children:[o.jsx(yu,{className:"w-4 h-4"}),o.jsx("span",{children:"Reply"})]})})]},N.id))})]})}function tT({onBack:n}){const{user:e,accessToken:s,setUser:i}=ft(),[l,c]=T.useState(!1),[u,h]=T.useState(!1),[m,p]=T.useState({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",businessName:e?.businessName||""}),y=w=>{p({...m,[w.target.name]:w.target.value})},g=async()=>{h(!0);try{const w=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(m)});if(w.ok){const j=await w.json();i(j),c(!1),K.success("Profile updated successfully!")}else K.error("Failed to update profile")}catch(w){console.error("Error updating profile:",w),K.error("Failed to update profile")}finally{h(!1)}},v=()=>{p({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",businessName:e?.businessName||""}),c(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(zt,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Profile Settings"}),o.jsx("p",{className:"text-stone-600",children:"Manage your account information"})]})]}),l?o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-6 py-3 bg-stone-200 text-stone-700 rounded-xl hover:bg-stone-300 transition-all",children:[o.jsx(rr,{className:"w-4 h-4"}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:g,disabled:u,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50",children:[o.jsx(A_,{className:"w-4 h-4"}),o.jsx("span",{children:u?"Saving...":"Save Changes"})]})]}):o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:[o.jsx(Ty,{className:"w-4 h-4"}),o.jsx("span",{children:"Edit Profile"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 h-fit",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative inline-block mb-4",children:[o.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-amber-600 to-amber-700 rounded-full flex items-center justify-center text-white mx-auto",children:o.jsx("span",{className:"text-5xl",children:e?.name?.charAt(0).toUpperCase()})}),o.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-stone-50 transition-colors border-2 border-stone-200",children:o.jsx(JN,{className:"w-5 h-5 text-stone-600"})})]}),o.jsx("h2",{className:"text-stone-800 mb-1",children:e?.name}),o.jsx("p",{className:"text-stone-600 mb-4",children:"Property Owner"}),o.jsxs("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-200",children:[o.jsx("p",{className:"text-amber-900 text-sm",children:"Account Status"}),o.jsx("p",{className:"text-amber-700",children:" Verified"})]})]})}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Personal Information"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-stone-700 mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Zd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"name",name:"name",type:"text",value:m.name,onChange:y,disabled:!l,className:`w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all ${l?"":"bg-stone-50 cursor-not-allowed"}`})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-stone-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(qr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"email",name:"email",type:"email",value:m.email,onChange:y,disabled:!0,className:"w-full pl-12 pr-4 py-3 bg-stone-50 border border-stone-300 rounded-xl cursor-not-allowed"})]}),o.jsx("p",{className:"text-stone-500 text-sm mt-1",children:"Email cannot be changed"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-stone-700 mb-2",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(Jd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"phone",name:"phone",type:"tel",value:m.phone,onChange:y,disabled:!l,className:`w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all ${l?"":"bg-stone-50 cursor-not-allowed"}`,placeholder:"+91 98765 43210"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"businessName",className:"block text-stone-700 mb-2",children:"Business Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(qN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"businessName",name:"businessName",type:"text",value:m.businessName,onChange:y,disabled:!l,className:`w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all ${l?"":"bg-stone-50 cursor-not-allowed"}`,placeholder:"Your Business Name"})]})]})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-stone-200",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"Account Statistics"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Member Since"}),o.jsx("p",{className:"text-stone-800",children:e?.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"N/A"})]}),o.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Listings"}),o.jsx("p",{className:"text-stone-800",children:"0"})]}),o.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Bookings"}),o.jsx("p",{className:"text-stone-800",children:"0"})]}),o.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Avg. Rating"}),o.jsx("p",{className:"text-stone-800",children:"0.0 "})]})]})]})]})]})]})}function nT(){const[n,e]=T.useState("dashboard"),[s,i]=T.useState(null),[l,c]=T.useState({totalPGs:0,totalBookings:0,pendingBookings:0,monthlyEarnings:0,totalEarnings:0,averageRating:0}),[u,h]=T.useState(!0),{user:m,logout:p,accessToken:y}=ft();T.useEffect(()=>{g()},[]);const g=async()=>{try{const N=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/owner/stats`,{headers:{Authorization:`Bearer ${y}`}});if(N.ok){const k=await N.json();c(k)}}catch(N){console.error("Error fetching stats:",N)}finally{h(!1)}},v=async()=>{await p(),window.location.href="/"},w=()=>{switch(n){case"add-pg":return o.jsx(HE,{onBack:()=>e("dashboard"),onSuccess:()=>{e("manage-pgs"),g()}});case"manage-pgs":return o.jsx(GE,{onBack:()=>e("dashboard"),onSelectPG:N=>{i(N),e("pg-details")}});case"pg-details":return s?o.jsx(XE,{pgId:s,onBack:()=>e("manage-pgs")}):null;case"bookings":return o.jsx(ZE,{onBack:()=>e("dashboard")});case"reviews":return o.jsx(eT,{onBack:()=>e("dashboard")});case"profile":return o.jsx(tT,{onBack:()=>e("dashboard")});default:return j()}},j=()=>o.jsxs("div",{className:"space-y-8",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsxs("h1",{className:"text-stone-800 mb-2",children:["Welcome back, ",m?.name,"! "]}),o.jsx("p",{className:"text-stone-600",children:"Manage your properties and grow your business"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-6 border border-amber-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center",children:o.jsx(bs,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-amber-700 bg-amber-200 px-3 py-1 rounded-full text-xs",children:"Total"})]}),o.jsx("p",{className:"text-amber-900 mb-1",children:l.totalPGs}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Active Listings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:o.jsx(xn,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:"text-blue-700 bg-blue-200 px-3 py-1 rounded-full text-xs",children:[l.pendingBookings," pending"]})]}),o.jsx("p",{className:"text-blue-900 mb-1",children:l.totalBookings}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Bookings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(Kd,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-green-700 bg-green-200 px-3 py-1 rounded-full text-xs",children:"This Month"})]}),o.jsxs("p",{className:"text-green-900 mb-1",children:["",l.monthlyEarnings.toLocaleString()]}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Monthly Earnings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 border border-purple-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center",children:o.jsx(Ut,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-purple-700 bg-purple-200 px-3 py-1 rounded-full text-xs",children:"Average"})]}),o.jsx("p",{className:"text-purple-900 mb-1",children:l.averageRating.toFixed(1)}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Rating"})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("button",{onClick:()=>e("add-pg"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl hover:shadow-md transition-all group border border-amber-200",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(tl,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Add New PG"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"List a new property"})]})]}),o.jsxs("button",{onClick:()=>e("manage-pgs"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl hover:shadow-md transition-all group border border-blue-200",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(bs,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Manage PGs"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"Edit your listings"})]})]}),o.jsxs("button",{onClick:()=>e("bookings"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl hover:shadow-md transition-all group border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(xn,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"View Bookings"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"Manage requests"})]})]})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Recent Activity"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Fn,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"New booking confirmed"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Campus View Residency - Double Room"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"2h ago"})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:o.jsx(sr,{className:"w-5 h-5 text-amber-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"Booking request pending"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"ADTU Comfort Stay - Single Room"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"5h ago"})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(Ut,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"New review received"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"5 stars on Elite Student Housing"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"1d ago"})]})]})]})]});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx("nav",{className:"bg-white border-b border-stone-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-700 rounded-lg flex items-center justify-center",children:o.jsx(bs,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"PG Locator"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"Owner Portal"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{className:"relative p-2 text-stone-600 hover:text-stone-900 transition-colors",children:[o.jsx(io,{className:"w-5 h-5"}),o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 text-stone-600 hover:text-stone-900 transition-colors",children:[o.jsx(Yd,{className:"w-4 h-4"}),o.jsx("span",{children:"Logout"})]})]})]})})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"hidden lg:block w-64 bg-white border-r border-stone-200 min-h-[calc(100vh-4rem)]",children:o.jsxs("nav",{className:"p-4 space-y-2",children:[o.jsxs("button",{onClick:()=>e("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="dashboard"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(zi,{className:"w-5 h-5"}),o.jsx("span",{children:"Dashboard"})]}),o.jsxs("button",{onClick:()=>e("add-pg"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="add-pg"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(tl,{className:"w-5 h-5"}),o.jsx("span",{children:"Add PG"})]}),o.jsxs("button",{onClick:()=>e("manage-pgs"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="manage-pgs"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(bs,{className:"w-5 h-5"}),o.jsx("span",{children:"Manage PGs"})]}),o.jsxs("button",{onClick:()=>e("bookings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="bookings"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(xn,{className:"w-5 h-5"}),o.jsx("span",{children:"Bookings"})]}),o.jsxs("button",{onClick:()=>e("reviews"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="reviews"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Ut,{className:"w-5 h-5"}),o.jsx("span",{children:"Reviews"})]}),o.jsxs("button",{onClick:()=>e("profile"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="profile"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Zs,{className:"w-5 h-5"}),o.jsx("span",{children:"Profile"})]})]})}),o.jsx("main",{className:"flex-1 p-4 lg:p-8 max-w-7xl mx-auto w-full",children:w()})]})]})}function sT({onBack:n,onUpdate:e}){const[s,i]=T.useState([]),[l,c]=T.useState(null),[u,h]=T.useState(!0),[m,p]=T.useState("pending"),[y,g]=T.useState(""),[v,w]=T.useState(!1),{accessToken:j}=ft();T.useEffect(()=>{N()},[]);const N=async()=>{try{const _=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/admin/pgs`,{headers:{Authorization:`Bearer ${j}`}});if(_.ok){const O=await _.json();i(O)}else K.error("Failed to fetch PG listings")}catch(_){console.error("Error fetching PGs:",_),K.error("Failed to fetch PG listings")}finally{h(!1)}},k=async _=>{try{(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/admin/pgs/${_}/verify`,{method:"POST",headers:{Authorization:`Bearer ${j}`}})).ok?(K.success("PG listing verified successfully!"),N(),e(),c(null)):K.error("Failed to verify PG listing")}catch(O){console.error("Error verifying PG:",O),K.error("Failed to verify PG listing")}},E=async()=>{if(!l||!y){K.error("Please provide a reason for rejection");return}try{(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/admin/pgs/${l.id}/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({reason:y})})).ok?(K.success("PG listing rejected"),N(),e(),c(null),w(!1),g("")):K.error("Failed to reject PG listing")}catch(_){console.error("Error rejecting PG:",_),K.error("Failed to reject PG listing")}},I=s.filter(_=>m==="all"?!0:m==="pending"?!_.verified&&_.verificationStatus!=="rejected":m==="verified"?_.verified:m==="rejected"?_.verificationStatus==="rejected":!0);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(zt,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"PG Verification"}),o.jsx("p",{className:"text-stone-600",children:"Review and verify new listings"})]})]})}),o.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[o.jsxs("button",{onClick:()=>p("pending"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${m==="pending"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[o.jsx(sr,{className:"w-4 h-4"}),"Pending (",s.filter(_=>!_.verified&&_.verificationStatus!=="rejected").length,")"]}),o.jsxs("button",{onClick:()=>p("verified"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${m==="verified"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[o.jsx(Fn,{className:"w-4 h-4"}),"Verified (",s.filter(_=>_.verified).length,")"]}),o.jsxs("button",{onClick:()=>p("rejected"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${m==="rejected"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[o.jsx(Ur,{className:"w-4 h-4"}),"Rejected (",s.filter(_=>_.verificationStatus==="rejected").length,")"]}),o.jsxs("button",{onClick:()=>p("all"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${m==="all"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:["All (",s.length,")"]})]}),u?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading listings..."})]}):I.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-stone-200",children:[o.jsx(bs,{className:"w-16 h-16 text-stone-300 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"No listings found"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:I.map((_,O)=>o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.05},className:"bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(_),children:[o.jsxs("div",{className:"relative h-48 bg-stone-200",children:[_.images&&_.images[0]?o.jsx("img",{src:_.images[0],alt:_.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(x_,{className:"w-12 h-12 text-stone-400"})}),o.jsx("div",{className:"absolute top-3 right-3",children:_.verified?o.jsxs("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[o.jsx(Fn,{className:"w-3 h-3"}),"Verified"]}):_.verificationStatus==="rejected"?o.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[o.jsx(Ur,{className:"w-3 h-3"}),"Rejected"]}):o.jsxs("span",{className:"bg-amber-500 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[o.jsx(sr,{className:"w-3 h-3"}),"Pending"]})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-stone-800 mb-2",children:_.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-2",children:[o.jsx(jt,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:_.location})]}),o.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-4",children:[o.jsx(Kd,{className:"w-4 h-4"}),o.jsxs("span",{children:["",_.price,"/month"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.amenities?.slice(0,3).map(P=>o.jsx("span",{className:"px-3 py-1 bg-stone-100 text-stone-600 rounded-full text-xs",children:P},P)),_.amenities?.length>3&&o.jsxs("span",{className:"px-3 py-1 bg-stone-100 text-stone-600 rounded-full text-xs",children:["+",_.amenities.length-3," more"]})]})]})]},_.id))}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>c(null),children:o.jsx(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:_=>_.stopPropagation(),children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-stone-800",children:l.name}),o.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(Ur,{className:"w-6 h-6 text-stone-600"})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:l.images?.map((_,O)=>o.jsx("img",{src:_,alt:`${l.name} ${O+1}`,className:"w-full h-48 object-cover rounded-xl"},O))}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Description"}),o.jsx("p",{className:"text-stone-600",children:l.description})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Location"}),o.jsx("p",{className:"text-stone-600",children:l.location})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Distance from ADTU"}),o.jsxs("p",{className:"text-stone-600",children:[l.distance," km"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Gender"}),o.jsx("p",{className:"text-stone-600 capitalize",children:l.gender})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Price"}),o.jsxs("p",{className:"text-stone-600",children:["",l.price,"/month"]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-2",children:"Owner Details"}),o.jsxs("p",{className:"text-stone-600",children:["Name: ",l.ownerName]}),o.jsxs("p",{className:"text-stone-600",children:["Phone: ",l.ownerPhone]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-2",children:"Amenities"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:l.amenities?.map(_=>o.jsx("span",{className:"px-3 py-1 bg-amber-50 text-amber-700 rounded-full text-sm",children:_},_))})]})]}),!l.verified&&l.verificationStatus!=="rejected"&&o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>k(l.id),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:shadow-lg transition-all",children:[o.jsx(Fn,{className:"w-5 h-5"}),"Verify & Approve"]}),o.jsxs("button",{onClick:()=>w(!0),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:shadow-lg transition-all",children:[o.jsx(Ur,{className:"w-5 h-5"}),"Reject"]})]})]})})}),v&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:o.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"Reject Listing"}),o.jsx("p",{className:"text-stone-600 mb-4",children:"Please provide a reason for rejecting this listing:"}),o.jsx("textarea",{value:y,onChange:_=>g(_.target.value),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none",rows:4,placeholder:"Enter rejection reason..."}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>{w(!1),g("")},className:"flex-1 py-3 bg-stone-200 text-stone-700 rounded-xl hover:bg-stone-300 transition-all",children:"Cancel"}),o.jsx("button",{onClick:E,className:"flex-1 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Confirm Reject"})]})]})})]})}function rT({onBack:n}){const[e,s]=T.useState([]),[i,l]=T.useState(!0),[c,u]=T.useState(""),[h,m]=T.useState("all"),{accessToken:p}=ft();T.useEffect(()=>{y()},[]);const y=async()=>{try{const j=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/admin/users`,{headers:{Authorization:`Bearer ${p}`}});if(j.ok){const N=await j.json();s(N)}else K.error("Failed to fetch users")}catch(j){console.error("Error fetching users:",j),K.error("Failed to fetch users")}finally{l(!1)}},g=async(j,N)=>{try{(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/admin/users/${j}/toggle-status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({isActive:!N})})).ok?(K.success(`User ${N?"deactivated":"activated"} successfully`),y()):K.error("Failed to update user status")}catch(k){console.error("Error toggling user status:",k),K.error("Failed to update user status")}},v=e.filter(j=>!(h!=="all"&&j.role!==h||c&&!j.name.toLowerCase().includes(c.toLowerCase())&&!j.email.toLowerCase().includes(c.toLowerCase()))),w=j=>{switch(j){case"student":return"bg-blue-100 text-blue-700";case"owner":return"bg-green-100 text-green-700";case"admin":return"bg-purple-100 text-purple-700";default:return"bg-stone-100 text-stone-700"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(zt,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-stone-800",children:"User Management"}),o.jsx("p",{className:"text-stone-600",children:"Manage all platform users"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 text-sm mb-1",children:"Total Users"}),o.jsx("p",{className:"text-stone-800",children:e.length})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 text-sm mb-1",children:"Students"}),o.jsx("p",{className:"text-stone-800",children:e.filter(j=>j.role==="student").length})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 text-sm mb-1",children:"Owners"}),o.jsx("p",{className:"text-stone-800",children:e.filter(j=>j.role==="owner").length})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 text-sm mb-1",children:"Active Users"}),o.jsx("p",{className:"text-stone-800",children:e.filter(j=>j.isActive!==!1).length})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(fl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:c,onChange:j=>u(j.target.value),placeholder:"Search users by name or email...",className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-lg transition-colors ${h==="all"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"All"}),o.jsx("button",{onClick:()=>m("student"),className:`px-4 py-2 rounded-lg transition-colors ${h==="student"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Students"}),o.jsx("button",{onClick:()=>m("owner"),className:`px-4 py-2 rounded-lg transition-colors ${h==="owner"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Owners"}),o.jsx("button",{onClick:()=>m("admin"),className:`px-4 py-2 rounded-lg transition-colors ${h==="admin"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Admins"})]})]}),o.jsx("div",{className:"bg-white rounded-2xl border border-stone-200 overflow-hidden",children:i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading users..."})]}):v.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Zs,{className:"w-16 h-16 text-stone-300 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:c||h!=="all"?"No users match your filters":"No users found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-stone-50 border-b border-stone-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"User"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Role"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Joined"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Actions"})]})}),o.jsx("tbody",{children:v.map((j,N)=>o.jsxs(V.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:"border-b border-stone-100 hover:bg-stone-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-700 rounded-full flex items-center justify-center text-white",children:j.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-800",children:j.name}),j.role==="student"&&j.rollNo&&o.jsx("p",{className:"text-stone-500 text-xs",children:j.rollNo}),j.role==="owner"&&j.businessName&&o.jsx("p",{className:"text-stone-500 text-xs",children:j.businessName})]})]})}),o.jsx("td",{className:"px-6 py-4 text-stone-600",children:j.email}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs capitalize ${w(j.role)}`,children:j.role})}),o.jsx("td",{className:"px-6 py-4 text-stone-600",children:new Date(j.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),o.jsx("td",{className:"px-6 py-4",children:j.isActive!==!1?o.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1 w-fit",children:[o.jsx(Fn,{className:"w-3 h-3"}),"Active"]}):o.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs flex items-center gap-1 w-fit",children:[o.jsx(FN,{className:"w-3 h-3"}),"Inactive"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>g(j.id,j.isActive!==!1),className:`px-4 py-2 rounded-lg text-sm transition-colors ${j.isActive!==!1?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:j.isActive!==!1?"Deactivate":"Activate"})})]},j.id))})]})})})]})}function iT({onBack:n}){const[e,s]=T.useState(null),[i,l]=T.useState(!0),[c,u]=T.useState("month"),{accessToken:h}=ft();T.useEffect(()=>{m()},[c]);const m=async()=>{try{const y=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/admin/analytics?range=${c}`,{headers:{Authorization:`Bearer ${h}`}});if(y.ok){const g=await y.json();s(g)}else K.error("Failed to fetch analytics")}catch(y){console.error("Error fetching analytics:",y),K.error("Failed to fetch analytics")}finally{l(!1)}},p=()=>{K.info("Export feature coming soon!")};return i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading analytics..."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(zt,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Reports & Analytics"}),o.jsx("p",{className:"text-stone-600",children:"Platform insights and statistics"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("select",{value:c,onChange:y=>u(y.target.value),className:"px-4 py-2 bg-white border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[o.jsx("option",{value:"week",children:"Last 7 Days"}),o.jsx("option",{value:"month",children:"Last 30 Days"}),o.jsx("option",{value:"year",children:"Last Year"})]}),o.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(Ey,{className:"w-4 h-4"}),"Export"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(Kd,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs ${(e?.revenueGrowth||0)>=0?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}`,children:[(e?.revenueGrowth||0)>=0?"":""," ",Math.abs(e?.revenueGrowth||0),"%"]})]}),o.jsxs("p",{className:"text-green-900 mb-1",children:["",(e?.totalRevenue||0).toLocaleString()]}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Revenue"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:o.jsx(xn,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs ${(e?.bookingsGrowth||0)>=0?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}`,children:[(e?.bookingsGrowth||0)>=0?"":""," ",Math.abs(e?.bookingsGrowth||0),"%"]})]}),o.jsx("p",{className:"text-blue-900 mb-1",children:e?.totalBookings||0}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Bookings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 border border-purple-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center",children:o.jsx(Zs,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs ${(e?.userGrowth||0)>=0?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}`,children:[(e?.userGrowth||0)>=0?"":""," ",Math.abs(e?.userGrowth||0),"%"]})]}),o.jsx("p",{className:"text-purple-900 mb-1",children:e?.newUsers||0}),o.jsx("p",{className:"text-stone-600 text-sm",children:"New Users"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-6 border border-amber-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center",children:o.jsx(bs,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs ${(e?.pgGrowth||0)>=0?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}`,children:[(e?.pgGrowth||0)>=0?"":""," ",Math.abs(e?.pgGrowth||0),"%"]})]}),o.jsx("p",{className:"text-amber-900 mb-1",children:e?.activePGs||0}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Active PGs"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"Top Performing PGs"}),o.jsx("div",{className:"space-y-3",children:e?.topPGs&&e.topPGs.length>0?e.topPGs.map((y,g)=>o.jsxs("div",{className:"flex items-center gap-4 p-3 bg-stone-50 rounded-lg",children:[o.jsx("div",{className:"w-8 h-8 bg-amber-600 rounded-lg flex items-center justify-center text-white",children:g+1}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:y.name}),o.jsxs("p",{className:"text-stone-600 text-sm",children:[y.bookings," bookings"]})]}),o.jsxs("p",{className:"text-green-700",children:["",y.revenue.toLocaleString()]})]},y.id)):o.jsx("p",{className:"text-stone-500 text-center py-4",children:"No data available"})})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"User Distribution"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-stone-600",children:"Students"}),o.jsx("span",{className:"text-stone-800",children:e?.userDistribution?.students||0})]}),o.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 rounded-full h-2",style:{width:`${e?.userDistribution?e.userDistribution.students/(e.userDistribution.students+e.userDistribution.owners+e.userDistribution.admins)*100:0}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-stone-600",children:"Owners"}),o.jsx("span",{className:"text-stone-800",children:e?.userDistribution?.owners||0})]}),o.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-600 rounded-full h-2",style:{width:`${e?.userDistribution?e.userDistribution.owners/(e.userDistribution.students+e.userDistribution.owners+e.userDistribution.admins)*100:0}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-stone-600",children:"Admins"}),o.jsx("span",{className:"text-stone-800",children:e?.userDistribution?.admins||0})]}),o.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 rounded-full h-2",style:{width:`${e?.userDistribution?e.userDistribution.admins/(e.userDistribution.students+e.userDistribution.owners+e.userDistribution.admins)*100:0}%`}})})]})]})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"Popular Amenities"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e?.popularAmenities&&e.popularAmenities.length>0?e.popularAmenities.map(y=>o.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-amber-900 mb-1",children:y.count}),o.jsx("p",{className:"text-stone-600 text-sm",children:y.name})]},y.name)):o.jsx("p",{className:"text-stone-500 col-span-full text-center py-4",children:"No data available"})})]})]})}function oT(){const[n,e]=T.useState("dashboard"),[s,i]=T.useState({totalPGs:0,pendingVerification:0,verifiedPGs:0,rejectedPGs:0,totalUsers:0,totalBookings:0,revenueThisMonth:0}),[l,c]=T.useState(!0),{user:u,logout:h,accessToken:m}=ft();T.useEffect(()=>{p()},[]);const p=async()=>{try{const w=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/admin/stats`,{headers:{Authorization:`Bearer ${m}`}});if(w.ok){const j=await w.json();i(j)}}catch(w){console.error("Error fetching stats:",w)}finally{c(!1)}},y=async()=>{await h(),window.location.href="/"},g=()=>{switch(n){case"verification":return o.jsx(sT,{onBack:()=>e("dashboard"),onUpdate:p});case"users":return o.jsx(rT,{onBack:()=>e("dashboard")});case"reports":return o.jsx(iT,{onBack:()=>e("dashboard")});default:return v()}},v=()=>o.jsxs("div",{className:"space-y-8",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsx("h1",{className:"text-stone-800 mb-2",children:"Admin Portal "}),o.jsxs("p",{className:"text-stone-600",children:["Welcome back, ",u?.name,"! Manage and verify PG listings"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-6 border border-amber-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center",children:o.jsx(bs,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:"text-amber-700 bg-amber-200 px-3 py-1 rounded-full text-xs",children:[s.pendingVerification," pending"]})]}),o.jsx("p",{className:"text-amber-900 mb-1",children:s.totalPGs}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total PG Listings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(Fn,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-green-700 bg-green-200 px-3 py-1 rounded-full text-xs",children:"Active"})]}),o.jsx("p",{className:"text-green-900 mb-1",children:s.verifiedPGs}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Verified Listings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:o.jsx(Zs,{className:"w-6 h-6 text-white"})})}),o.jsx("p",{className:"text-blue-900 mb-1",children:s.totalUsers}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Users"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 border border-purple-200",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center",children:o.jsx(zi,{className:"w-6 h-6 text-white"})})}),o.jsx("p",{className:"text-purple-900 mb-1",children:s.totalBookings}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Bookings"})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("button",{onClick:()=>e("verification"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl hover:shadow-md transition-all group border border-amber-200",children:[o.jsxs("div",{className:"w-12 h-12 bg-amber-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform relative",children:[o.jsx(sr,{className:"w-6 h-6 text-white"}),s.pendingVerification>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:s.pendingVerification})]}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Verify Listings"}),o.jsxs("p",{className:"text-stone-600 text-xs",children:[s.pendingVerification," pending review"]})]})]}),o.jsxs("button",{onClick:()=>e("users"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl hover:shadow-md transition-all group border border-blue-200",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Zs,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Manage Users"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"View all users"})]})]}),o.jsxs("button",{onClick:()=>e("reports"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl hover:shadow-md transition-all group border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(zi,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Analytics"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"View insights"})]})]})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Recent Activity"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:o.jsx(sr,{className:"w-5 h-5 text-amber-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"New PG listing submitted"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Campus View Residency - Pending verification"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"2h ago"})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Fn,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"PG listing verified"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"ADTU Comfort Stay - Now live"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"5h ago"})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(Zs,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"New user registered"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Student account created"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"1d ago"})]})]})]})]});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx("nav",{className:"bg-white border-b border-stone-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-700 rounded-lg flex items-center justify-center",children:o.jsx(Qd,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"PG Locator"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"Admin Portal"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{className:"relative p-2 text-stone-600 hover:text-stone-900 transition-colors",children:[o.jsx(io,{className:"w-5 h-5"}),s.pendingVerification>0&&o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 text-stone-600 hover:text-stone-900 transition-colors",children:[o.jsx(Yd,{className:"w-4 h-4"}),o.jsx("span",{children:"Logout"})]})]})]})})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"hidden lg:block w-64 bg-white border-r border-stone-200 min-h-[calc(100vh-4rem)]",children:o.jsxs("nav",{className:"p-4 space-y-2",children:[o.jsxs("button",{onClick:()=>e("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="dashboard"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(zi,{className:"w-5 h-5"}),o.jsx("span",{children:"Dashboard"})]}),o.jsxs("button",{onClick:()=>e("verification"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="verification"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(sr,{className:"w-5 h-5"}),o.jsx("span",{children:"PG Verification"}),s.pendingVerification>0&&o.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:s.pendingVerification})]}),o.jsxs("button",{onClick:()=>e("users"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="users"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Zs,{className:"w-5 h-5"}),o.jsx("span",{children:"User Management"})]}),o.jsxs("button",{onClick:()=>e("reports"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="reports"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(zi,{className:"w-5 h-5"}),o.jsx("span",{children:"Analytics"})]})]})}),o.jsx("main",{className:"flex-1 p-4 lg:p-8 max-w-7xl mx-auto w-full",children:g()})]})]})}function aT(){const[n,e]=T.useState(!1);return T.useEffect(()=>{(async()=>{const i=localStorage.getItem("pgDataInitialized"),l=localStorage.getItem("demoUsersInitialized");if(i&&l){e(!0);return}try{if(i||(console.log("Initializing PG data..."),(await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/init-data`,{method:"POST",headers:{Authorization:`Bearer ${al}`}})).ok&&(console.log("PG data initialized successfully"),localStorage.setItem("pgDataInitialized","true"))),!l){console.log("Initializing demo users...");try{const c=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/init-demo-users`,{method:"POST",headers:{Authorization:`Bearer ${al}`}});if(c.ok){const u=await c.json();console.log("Demo users initialization result:",u),localStorage.setItem("demoUsersInitialized","true")}else{const u=await c.text();console.error("Failed to initialize demo users:",u)}}catch(c){console.error("Error initializing demo users:",c)}}e(!0),console.log("Data initialization complete")}catch(c){console.error("Error initializing data:",c),e(!0)}})()},[]),null}function lT(){const[n,e]=T.useState("loading"),[s,i]=T.useState(null),{user:l,setUser:c,setAccessToken:u,setIsLoading:h}=ft(),m=T.useRef(!1);console.log("App render - appState:",n,"user:",l?.role,l?.name),T.useEffect(()=>{const w=Wt(),{data:{subscription:j}}=w.auth.onAuthStateChange(async(N,k)=>{if(console.log("Auth event:",N),N==="SIGNED_OUT"||!k){c(null),u(null),h(!1);const E=localStorage.getItem("hasSeenOnboarding");e(E?"onboarding":"splash")}else if(N==="SIGNED_IN"||N==="TOKEN_REFRESHED"||N==="INITIAL_SESSION"){u(k.access_token);try{const E=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/user/profile`,{headers:{Authorization:`Bearer ${k.access_token}`}});if(E.ok){const I=await E.json();c(I),localStorage.setItem("userRole",I.role),i(I.role),e("app")}else await w.auth.signOut()}catch(E){console.error("Error fetching profile:",E),await w.auth.signOut()}finally{h(!1)}}});return p(),()=>{j.unsubscribe()}},[]),T.useEffect(()=>{l&&m.current&&n==="auth"&&(console.log("User logged in successfully, navigating to app..."),m.current=!1,e("app"))},[l,n]);const p=async()=>{const w=localStorage.getItem("pgDataInitialized"),j=localStorage.getItem("demoUsersInitialized");try{if(w)console.log("PG data already initialized");else{console.log("Initializing PG data...");const N=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/init-data`,{method:"POST"});if(N.ok){const k=await N.json();console.log("PG data initialization result:",k),localStorage.setItem("pgDataInitialized","true")}else console.error("Failed to initialize PG data:",N.status)}if(j)console.log("Demo users already initialized");else{console.log("Initializing demo users...");const N=await fetch(`https://${Ee}.supabase.co/functions/v1/make-server-2c39c550/init-demo-users`,{method:"POST"});if(N.ok){const k=await N.json();console.log("Demo users initialization result:",k),k.results&&k.results.some(E=>E.status==="created"||E.status==="already_exists")?localStorage.setItem("demoUsersInitialized","true"):console.warn("Demo user initialization may have failed:",k)}else console.error("Failed to initialize demo users:",N.status,await N.text())}}catch(N){console.error("Error initializing data:",N)}},y=()=>{localStorage.setItem("hasSeenOnboarding","true"),e("onboarding")},g=w=>{i(w),e("auth")},v=()=>{console.log("handleAuthSuccess called - Marking login in progress"),m.current=!0};if(n==="loading")return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading..."})]})});if(n==="splash")return o.jsx(ok,{onComplete:y});if(n==="onboarding")return o.jsx(uk,{onRoleSelect:g,onSkip:()=>e("onboarding")});if(n==="auth"&&s)return o.jsx($E,{initialRole:s,onSuccess:v});if(n==="app"&&l){if(console.log("Rendering app for user:",l.role,l.name),l.role==="student")return o.jsxs(o.Fragment,{children:[o.jsx(zE,{}),o.jsx(aT,{}),o.jsx(Ua,{position:"bottom-right",richColors:!0})]});if(l.role==="owner")return o.jsxs(o.Fragment,{children:[o.jsx(nT,{}),o.jsx(Ua,{position:"bottom-right",richColors:!0})]});if(l.role==="admin")return o.jsxs(o.Fragment,{children:[o.jsx(oT,{}),o.jsx(Ua,{position:"bottom-right",richColors:!0})]})}return n==="app"&&!l?(console.log("Waiting for user data..."),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading your profile..."})]})})):(console.warn("Unexpected app state:",n,"user:",l),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-stone-600",children:"Something went wrong. Please refresh the page."}),o.jsxs("p",{className:"text-stone-500 mt-2",children:["State: ",n,", User: ",l?"Set":"Not set"]})]})}))}kb.createRoot(document.getElementById("root")).render(o.jsx(lT,{}));
