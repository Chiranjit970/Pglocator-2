function mw(n,e){for(var s=0;s<e.length;s++){const i=e[s];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in n)){const c=Object.getOwnPropertyDescriptor(i,l);c&&Object.defineProperty(n,l,c.get?c:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function cd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function pw(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var s=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var l=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(s,i,l.get?l:{enumerable:!0,get:function(){return n[i]}})}),s}var Yc={exports:{}},Vi={},Jc={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function gw(){if($m)return Ne;$m=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function k(R,F,Z){this.props=R,this.context=F,this.refs=N,this.updater=Z||b}k.prototype.isReactComponent={},k.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function C(){}C.prototype=k.prototype;function D(R,F,Z){this.props=R,this.context=F,this.refs=N,this.updater=Z||b}var S=D.prototype=new C;S.constructor=D,j(S,k.prototype),S.isPureReactComponent=!0;var T=Array.isArray,$=Object.prototype.hasOwnProperty,B={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function z(R,F,Z){var ce,de={},be=null,Se=null;if(F!=null)for(ce in F.ref!==void 0&&(Se=F.ref),F.key!==void 0&&(be=""+F.key),F)$.call(F,ce)&&!G.hasOwnProperty(ce)&&(de[ce]=F[ce]);var he=arguments.length-2;if(he===1)de.children=Z;else if(1<he){for(var Pe=Array(he),st=0;st<he;st++)Pe[st]=arguments[st+2];de.children=Pe}if(R&&R.defaultProps)for(ce in he=R.defaultProps,he)de[ce]===void 0&&(de[ce]=he[ce]);return{$$typeof:n,type:R,key:be,ref:Se,props:de,_owner:B.current}}function re(R,F){return{$$typeof:n,type:R.type,key:F,ref:R.ref,props:R.props,_owner:R._owner}}function _e(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function Oe(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Z){return F[Z]})}var M=/\/+/g;function Q(R,F){return typeof R=="object"&&R!==null&&R.key!=null?Oe(""+R.key):F.toString(36)}function xe(R,F,Z,ce,de){var be=typeof R;(be==="undefined"||be==="boolean")&&(R=null);var Se=!1;if(R===null)Se=!0;else switch(be){case"string":case"number":Se=!0;break;case"object":switch(R.$$typeof){case n:case e:Se=!0}}if(Se)return Se=R,de=de(Se),R=ce===""?"."+Q(Se,0):ce,T(de)?(Z="",R!=null&&(Z=R.replace(M,"$&/")+"/"),xe(de,F,Z,"",function(st){return st})):de!=null&&(_e(de)&&(de=re(de,Z+(!de.key||Se&&Se.key===de.key?"":(""+de.key).replace(M,"$&/")+"/")+R)),F.push(de)),1;if(Se=0,ce=ce===""?".":ce+":",T(R))for(var he=0;he<R.length;he++){be=R[he];var Pe=ce+Q(be,he);Se+=xe(be,F,Z,Pe,de)}else if(Pe=x(R),typeof Pe=="function")for(R=Pe.call(R),he=0;!(be=R.next()).done;)be=be.value,Pe=ce+Q(be,he++),Se+=xe(be,F,Z,Pe,de);else if(be==="object")throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Se}function Le(R,F,Z){if(R==null)return R;var ce=[],de=0;return xe(R,ce,"","",function(be){return F.call(Z,be,de++)}),ce}function ge(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(Z){(R._status===0||R._status===-1)&&(R._status=1,R._result=Z)},function(Z){(R._status===0||R._status===-1)&&(R._status=2,R._result=Z)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var ie={current:null},W={transition:null},te={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:W,ReactCurrentOwner:B};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Le,forEach:function(R,F,Z){Le(R,function(){F.apply(this,arguments)},Z)},count:function(R){var F=0;return Le(R,function(){F++}),F},toArray:function(R){return Le(R,function(F){return F})||[]},only:function(R){if(!_e(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ne.Component=k,Ne.Fragment=s,Ne.Profiler=l,Ne.PureComponent=D,Ne.StrictMode=i,Ne.Suspense=m,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ne.act=Y,Ne.cloneElement=function(R,F,Z){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ce=j({},R.props),de=R.key,be=R.ref,Se=R._owner;if(F!=null){if(F.ref!==void 0&&(be=F.ref,Se=B.current),F.key!==void 0&&(de=""+F.key),R.type&&R.type.defaultProps)var he=R.type.defaultProps;for(Pe in F)$.call(F,Pe)&&!G.hasOwnProperty(Pe)&&(ce[Pe]=F[Pe]===void 0&&he!==void 0?he[Pe]:F[Pe])}var Pe=arguments.length-2;if(Pe===1)ce.children=Z;else if(1<Pe){he=Array(Pe);for(var st=0;st<Pe;st++)he[st]=arguments[st+2];ce.children=he}return{$$typeof:n,type:R.type,key:de,ref:be,props:ce,_owner:Se}},Ne.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:c,_context:R},R.Consumer=R},Ne.createElement=z,Ne.createFactory=function(R){var F=z.bind(null,R);return F.type=R,F},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(R){return{$$typeof:h,render:R}},Ne.isValidElement=_e,Ne.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:ge}},Ne.memo=function(R,F){return{$$typeof:p,type:R,compare:F===void 0?null:F}},Ne.startTransition=function(R){var F=W.transition;W.transition={};try{R()}finally{W.transition=F}},Ne.unstable_act=Y,Ne.useCallback=function(R,F){return ie.current.useCallback(R,F)},Ne.useContext=function(R){return ie.current.useContext(R)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(R){return ie.current.useDeferredValue(R)},Ne.useEffect=function(R,F){return ie.current.useEffect(R,F)},Ne.useId=function(){return ie.current.useId()},Ne.useImperativeHandle=function(R,F,Z){return ie.current.useImperativeHandle(R,F,Z)},Ne.useInsertionEffect=function(R,F){return ie.current.useInsertionEffect(R,F)},Ne.useLayoutEffect=function(R,F){return ie.current.useLayoutEffect(R,F)},Ne.useMemo=function(R,F){return ie.current.useMemo(R,F)},Ne.useReducer=function(R,F,Z){return ie.current.useReducer(R,F,Z)},Ne.useRef=function(R){return ie.current.useRef(R)},Ne.useState=function(R){return ie.current.useState(R)},Ne.useSyncExternalStore=function(R,F,Z){return ie.current.useSyncExternalStore(R,F,Z)},Ne.useTransition=function(){return ie.current.useTransition()},Ne.version="18.3.1",Ne}var Vm;function ud(){return Vm||(Vm=1,Jc.exports=gw()),Jc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function yw(){if(Bm)return Vi;Bm=1;var n=ud(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,m,p){var g,v={},x=null,b=null;p!==void 0&&(x=""+p),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(b=m.ref);for(g in m)i.call(m,g)&&!c.hasOwnProperty(g)&&(v[g]=m[g]);if(h&&h.defaultProps)for(g in m=h.defaultProps,m)v[g]===void 0&&(v[g]=m[g]);return{$$typeof:e,type:h,key:x,ref:b,props:v,_owner:l.current}}return Vi.Fragment=s,Vi.jsx=u,Vi.jsxs=u,Vi}var Fm;function vw(){return Fm||(Fm=1,Yc.exports=yw()),Yc.exports}var o=vw(),_a={},Qc={exports:{}},Rt={},Xc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function xw(){return Um||(Um=1,(function(n){function e(W,te){var Y=W.length;W.push(te);e:for(;0<Y;){var R=Y-1>>>1,F=W[R];if(0<l(F,te))W[R]=te,W[Y]=F,Y=R;else break e}}function s(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var te=W[0],Y=W.pop();if(Y!==te){W[0]=Y;e:for(var R=0,F=W.length,Z=F>>>1;R<Z;){var ce=2*(R+1)-1,de=W[ce],be=ce+1,Se=W[be];if(0>l(de,Y))be<F&&0>l(Se,de)?(W[R]=Se,W[be]=Y,R=be):(W[R]=de,W[ce]=Y,R=ce);else if(be<F&&0>l(Se,Y))W[R]=Se,W[be]=Y,R=be;else break e}}return te}function l(W,te){var Y=W.sortIndex-te.sortIndex;return Y!==0?Y:W.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],p=[],g=1,v=null,x=3,b=!1,j=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var te=s(p);te!==null;){if(te.callback===null)i(p);else if(te.startTime<=W)i(p),te.sortIndex=te.expirationTime,e(m,te);else break;te=s(p)}}function T(W){if(N=!1,S(W),!j)if(s(m)!==null)j=!0,ge($);else{var te=s(p);te!==null&&ie(T,te.startTime-W)}}function $(W,te){j=!1,N&&(N=!1,C(z),z=-1),b=!0;var Y=x;try{for(S(te),v=s(m);v!==null&&(!(v.expirationTime>te)||W&&!Oe());){var R=v.callback;if(typeof R=="function"){v.callback=null,x=v.priorityLevel;var F=R(v.expirationTime<=te);te=n.unstable_now(),typeof F=="function"?v.callback=F:v===s(m)&&i(m),S(te)}else i(m);v=s(m)}if(v!==null)var Z=!0;else{var ce=s(p);ce!==null&&ie(T,ce.startTime-te),Z=!1}return Z}finally{v=null,x=Y,b=!1}}var B=!1,G=null,z=-1,re=5,_e=-1;function Oe(){return!(n.unstable_now()-_e<re)}function M(){if(G!==null){var W=n.unstable_now();_e=W;var te=!0;try{te=G(!0,W)}finally{te?Q():(B=!1,G=null)}}else B=!1}var Q;if(typeof D=="function")Q=function(){D(M)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Le=xe.port2;xe.port1.onmessage=M,Q=function(){Le.postMessage(null)}}else Q=function(){k(M,0)};function ge(W){G=W,B||(B=!0,Q())}function ie(W,te){z=k(function(){W(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){j||b||(j=!0,ge($))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(W){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var Y=x;x=te;try{return W()}finally{x=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=x;x=W;try{return te()}finally{x=Y}},n.unstable_scheduleCallback=function(W,te,Y){var R=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Y+F,W={id:g++,callback:te,priorityLevel:W,startTime:Y,expirationTime:F,sortIndex:-1},Y>R?(W.sortIndex=Y,e(p,W),s(m)===null&&W===s(p)&&(N?(C(z),z=-1):N=!0,ie(T,Y-R))):(W.sortIndex=F,e(m,W),j||b||(j=!0,ge($))),W},n.unstable_shouldYield=Oe,n.unstable_wrapCallback=function(W){var te=x;return function(){var Y=x;x=te;try{return W.apply(this,arguments)}finally{x=Y}}}})(Zc)),Zc}var zm;function ww(){return zm||(zm=1,Xc.exports=xw()),Xc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function bw(){if(Wm)return Rt;Wm=1;var n=ud(),e=ww();function s(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(t,r){u(t,r),u(t+"Capture",r)}function u(t,r){for(l[t]=r,t=0;t<r.length;t++)i.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(t){return m.call(v,t)?!0:m.call(g,t)?!1:p.test(t)?v[t]=!0:(g[t]=!0,!1)}function b(t,r,a,d){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,r,a,d){if(r===null||typeof r>"u"||b(t,r,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function N(t,r,a,d,f,y,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=y,this.removeEmptyString=w}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){k[t]=new N(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];k[r]=new N(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){k[t]=new N(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){k[t]=new N(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){k[t]=new N(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){k[t]=new N(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){k[t]=new N(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){k[t]=new N(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){k[t]=new N(t,5,!1,t.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function D(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(C,D);k[r]=new N(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(C,D);k[r]=new N(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(C,D);k[r]=new N(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){k[t]=new N(t,1,!1,t.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){k[t]=new N(t,1,!1,t.toLowerCase(),null,!0,!0)});function S(t,r,a,d){var f=k.hasOwnProperty(r)?k[r]:null;(f!==null?f.type!==0:d||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,a,f,d)&&(a=null),d||f===null?x(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):f.mustUseProperty?t[f.propertyName]=a===null?f.type===3?!1:"":a:(r=f.attributeName,d=f.attributeNamespace,a===null?t.removeAttribute(r):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,d?t.setAttributeNS(d,r,a):t.setAttribute(r,a))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),B=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),Oe=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),W=Symbol.iterator;function te(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,R;function F(t){if(R===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);R=r&&r[1]||""}return`
`+R+t}var Z=!1;function ce(t,r){if(!t||Z)return"";Z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(L){var d=L}Reflect.construct(t,[],r)}else{try{r.call()}catch(L){d=L}t.call(r.prototype)}else{try{throw Error()}catch(L){d=L}t()}}catch(L){if(L&&d&&typeof L.stack=="string"){for(var f=L.stack.split(`
`),y=d.stack.split(`
`),w=f.length-1,_=y.length-1;1<=w&&0<=_&&f[w]!==y[_];)_--;for(;1<=w&&0<=_;w--,_--)if(f[w]!==y[_]){if(w!==1||_!==1)do if(w--,_--,0>_||f[w]!==y[_]){var E=`
`+f[w].replace(" at new "," at ");return t.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",t.displayName)),E}while(1<=w&&0<=_);break}}}finally{Z=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?F(t):""}function de(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=ce(t.type,!1),t;case 11:return t=ce(t.type.render,!1),t;case 1:return t=ce(t.type,!0),t;default:return""}}function be(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case B:return"Portal";case re:return"Profiler";case z:return"StrictMode";case Q:return"Suspense";case xe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Oe:return(t.displayName||"Context")+".Consumer";case _e:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Le:return r=t.displayName||null,r!==null?r:be(t.type)||"Memo";case ge:r=t._payload,t=t._init;try{return be(t(r))}catch{}}return null}function Se(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(r);case 8:return r===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function he(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function st(t){var r=Pe(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),d=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,y=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function kn(t){t._valueTracker||(t._valueTracker=st(t))}function Sn(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),d="";return t&&(d=Pe(t)?t.checked?"true":"false":t.value),t=d,t!==a?(r.setValue(t),!0):!1}function sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _s(t,r){var a=r.checked;return Y({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function fo(t,r){var a=r.defaultValue==null?"":r.defaultValue,d=r.checked!=null?r.checked:r.defaultChecked;a=he(r.value!=null?r.value:a),t._wrapperState={initialChecked:d,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Zr(t,r){r=r.checked,r!=null&&S(t,"checked",r,!1)}function En(t,r){Zr(t,r);var a=he(r.value),d=r.type;if(a!=null)d==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(d==="submit"||d==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?It(t,r.type,a):r.hasOwnProperty("defaultValue")&&It(t,r.type,he(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ei(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var d=r.type;if(!(d!=="submit"&&d!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function It(t,r,a){(r!=="number"||sr(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var ks=Array.isArray;function zn(t,r,a,d){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&d&&(t[a].defaultSelected=!0)}else{for(a=""+he(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,d&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function lt(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return Y({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tn(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(s(92));if(ks(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:he(a)}}function mo(t,r){var a=he(r.value),d=he(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),d!=null&&(t.defaultValue=""+d)}function po(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Ss(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ti(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Ss(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Es,rr=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,d,f){MSApp.execUnsafeLocalFunction(function(){return t(r,a,d,f)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Es.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function zt(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hn=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(t){Hn.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Wn[r]=Wn[t]})});function go(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Wn.hasOwnProperty(t)&&Wn[t]?(""+r).trim():r+"px"}function yo(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var d=a.indexOf("--")===0,f=go(a,r[a],d);a==="float"&&(a="cssFloat"),d?t.setProperty(a,f):t[a]=f}}var vo=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(t,r){if(r){if(vo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function ni(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ts=null;function Wt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var si=null,Gn=null,Pn=null;function ri(t){if(t=_i(t)){if(typeof si!="function")throw Error(s(280));var r=t.stateNode;r&&(r=Vo(r),si(t.stateNode,t.type,r))}}function je(t){Gn?Pn?Pn.push(t):Pn=[t]:Gn=t}function He(){if(Gn){var t=Gn,r=Pn;if(Pn=Gn=null,ri(t),r)for(t=0;t<r.length;t++)ri(r[t])}}function Ze(t,r){return t(r)}function ft(){}var Kn=!1;function Ye(t,r,a){if(Kn)return t(r,a);Kn=!0;try{return Ze(t,r,a)}finally{Kn=!1,(Gn!==null||Pn!==null)&&(ft(),He())}}function rt(t,r){var a=t.stateNode;if(a===null)return null;var d=Vo(a);if(d===null)return null;a=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var qn=!1;if(h)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){qn=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{qn=!1}function Dt(t,r,a,d,f,y,w,_,E){var L=Array.prototype.slice.call(arguments,3);try{r.apply(a,L)}catch(H){this.onError(H)}}var Yn=!1,Ht=null,ii=!1,ml=null,bv={onError:function(t){Yn=!0,Ht=t}};function jv(t,r,a,d,f,y,w,_,E){Yn=!1,Ht=null,Dt.apply(bv,arguments)}function Nv(t,r,a,d,f,y,w,_,E){if(jv.apply(this,arguments),Yn){if(Yn){var L=Ht;Yn=!1,Ht=null}else throw Error(s(198));ii||(ii=!0,ml=L)}}function Ps(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function oh(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function ah(t){if(Ps(t)!==t)throw Error(s(188))}function _v(t){var r=t.alternate;if(!r){if(r=Ps(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,d=r;;){var f=a.return;if(f===null)break;var y=f.alternate;if(y===null){if(d=f.return,d!==null){a=d;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===a)return ah(f),t;if(y===d)return ah(f),r;y=y.sibling}throw Error(s(188))}if(a.return!==d.return)a=f,d=y;else{for(var w=!1,_=f.child;_;){if(_===a){w=!0,a=f,d=y;break}if(_===d){w=!0,d=f,a=y;break}_=_.sibling}if(!w){for(_=y.child;_;){if(_===a){w=!0,a=y,d=f;break}if(_===d){w=!0,d=y,a=f;break}_=_.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==d)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function lh(t){return t=_v(t),t!==null?ch(t):null}function ch(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ch(t);if(r!==null)return r;t=t.sibling}return null}var uh=e.unstable_scheduleCallback,dh=e.unstable_cancelCallback,kv=e.unstable_shouldYield,Sv=e.unstable_requestPaint,Ge=e.unstable_now,Ev=e.unstable_getCurrentPriorityLevel,pl=e.unstable_ImmediatePriority,hh=e.unstable_UserBlockingPriority,xo=e.unstable_NormalPriority,Tv=e.unstable_LowPriority,fh=e.unstable_IdlePriority,wo=null,yn=null;function Pv(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(wo,t,void 0,(t.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:Av,Cv=Math.log,Rv=Math.LN2;function Av(t){return t>>>=0,t===0?32:31-(Cv(t)/Rv|0)|0}var bo=64,jo=4194304;function oi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function No(t,r){var a=t.pendingLanes;if(a===0)return 0;var d=0,f=t.suspendedLanes,y=t.pingedLanes,w=a&268435455;if(w!==0){var _=w&~f;_!==0?d=oi(_):(y&=w,y!==0&&(d=oi(y)))}else w=a&~f,w!==0?d=oi(w):y!==0&&(d=oi(y));if(d===0)return 0;if(r!==0&&r!==d&&(r&f)===0&&(f=d&-d,y=r&-r,f>=y||f===16&&(y&4194240)!==0))return r;if((d&4)!==0&&(d|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=d;0<r;)a=31-sn(r),f=1<<a,d|=t[a],r&=~f;return d}function Ov(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iv(t,r){for(var a=t.suspendedLanes,d=t.pingedLanes,f=t.expirationTimes,y=t.pendingLanes;0<y;){var w=31-sn(y),_=1<<w,E=f[w];E===-1?((_&a)===0||(_&d)!==0)&&(f[w]=Ov(_,r)):E<=r&&(t.expiredLanes|=_),y&=~_}}function gl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mh(){var t=bo;return bo<<=1,(bo&4194240)===0&&(bo=64),t}function yl(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ai(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-sn(r),t[r]=a}function Dv(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var d=t.eventTimes;for(t=t.expirationTimes;0<a;){var f=31-sn(a),y=1<<f;r[f]=0,d[f]=-1,t[f]=-1,a&=~y}}function vl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var d=31-sn(a),f=1<<d;f&r|t[d]&r&&(t[d]|=r),a&=~f}}var Ce=0;function ph(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var gh,xl,yh,vh,xh,wl=!1,_o=[],Jn=null,Qn=null,Xn=null,li=new Map,ci=new Map,Zn=[],Lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wh(t,r){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":li.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(r.pointerId)}}function ui(t,r,a,d,f,y){return t===null||t.nativeEvent!==y?(t={blockedOn:r,domEventName:a,eventSystemFlags:d,nativeEvent:y,targetContainers:[f]},r!==null&&(r=_i(r),r!==null&&xl(r)),t):(t.eventSystemFlags|=d,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Mv(t,r,a,d,f){switch(r){case"focusin":return Jn=ui(Jn,t,r,a,d,f),!0;case"dragenter":return Qn=ui(Qn,t,r,a,d,f),!0;case"mouseover":return Xn=ui(Xn,t,r,a,d,f),!0;case"pointerover":var y=f.pointerId;return li.set(y,ui(li.get(y)||null,t,r,a,d,f)),!0;case"gotpointercapture":return y=f.pointerId,ci.set(y,ui(ci.get(y)||null,t,r,a,d,f)),!0}return!1}function bh(t){var r=Cs(t.target);if(r!==null){var a=Ps(r);if(a!==null){if(r=a.tag,r===13){if(r=oh(a),r!==null){t.blockedOn=r,xh(t.priority,function(){yh(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ko(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=jl(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var d=new a.constructor(a.type,a);Ts=d,a.target.dispatchEvent(d),Ts=null}else return r=_i(a),r!==null&&xl(r),t.blockedOn=a,!1;r.shift()}return!0}function jh(t,r,a){ko(t)&&a.delete(r)}function $v(){wl=!1,Jn!==null&&ko(Jn)&&(Jn=null),Qn!==null&&ko(Qn)&&(Qn=null),Xn!==null&&ko(Xn)&&(Xn=null),li.forEach(jh),ci.forEach(jh)}function di(t,r){t.blockedOn===r&&(t.blockedOn=null,wl||(wl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$v)))}function hi(t){function r(f){return di(f,t)}if(0<_o.length){di(_o[0],t);for(var a=1;a<_o.length;a++){var d=_o[a];d.blockedOn===t&&(d.blockedOn=null)}}for(Jn!==null&&di(Jn,t),Qn!==null&&di(Qn,t),Xn!==null&&di(Xn,t),li.forEach(r),ci.forEach(r),a=0;a<Zn.length;a++)d=Zn[a],d.blockedOn===t&&(d.blockedOn=null);for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)bh(a),a.blockedOn===null&&Zn.shift()}var or=T.ReactCurrentBatchConfig,So=!0;function Vv(t,r,a,d){var f=Ce,y=or.transition;or.transition=null;try{Ce=1,bl(t,r,a,d)}finally{Ce=f,or.transition=y}}function Bv(t,r,a,d){var f=Ce,y=or.transition;or.transition=null;try{Ce=4,bl(t,r,a,d)}finally{Ce=f,or.transition=y}}function bl(t,r,a,d){if(So){var f=jl(t,r,a,d);if(f===null)Vl(t,r,d,Eo,a),wh(t,d);else if(Mv(f,t,r,a,d))d.stopPropagation();else if(wh(t,d),r&4&&-1<Lv.indexOf(t)){for(;f!==null;){var y=_i(f);if(y!==null&&gh(y),y=jl(t,r,a,d),y===null&&Vl(t,r,d,Eo,a),y===f)break;f=y}f!==null&&d.stopPropagation()}else Vl(t,r,d,null,a)}}var Eo=null;function jl(t,r,a,d){if(Eo=null,t=Wt(d),t=Cs(t),t!==null)if(r=Ps(t),r===null)t=null;else if(a=r.tag,a===13){if(t=oh(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Eo=t,null}function Nh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ev()){case pl:return 1;case hh:return 4;case xo:case Tv:return 16;case fh:return 536870912;default:return 16}default:return 16}}var es=null,Nl=null,To=null;function _h(){if(To)return To;var t,r=Nl,a=r.length,d,f="value"in es?es.value:es.textContent,y=f.length;for(t=0;t<a&&r[t]===f[t];t++);var w=a-t;for(d=1;d<=w&&r[a-d]===f[y-d];d++);return To=f.slice(t,1<d?1-d:void 0)}function Po(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Co(){return!0}function kh(){return!1}function Lt(t){function r(a,d,f,y,w){this._reactName=a,this._targetInst=f,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(a=t[_],this[_]=a?a(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Co:kh,this.isPropagationStopped=kh,this}return Y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),r}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Lt(ar),fi=Y({},ar,{view:0,detail:0}),Fv=Lt(fi),kl,Sl,mi,Ro=Y({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(kl=t.screenX-mi.screenX,Sl=t.screenY-mi.screenY):Sl=kl=0,mi=t),kl)},movementY:function(t){return"movementY"in t?t.movementY:Sl}}),Sh=Lt(Ro),Uv=Y({},Ro,{dataTransfer:0}),zv=Lt(Uv),Wv=Y({},fi,{relatedTarget:0}),El=Lt(Wv),Hv=Y({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Gv=Lt(Hv),Kv=Y({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qv=Lt(Kv),Yv=Y({},ar,{data:0}),Eh=Lt(Yv),Jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zv(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Xv[t])?!!r[t]:!1}function Tl(){return Zv}var ex=Y({},fi,{key:function(t){if(t.key){var r=Jv[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(t){return t.type==="keypress"?Po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tx=Lt(ex),nx=Y({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=Lt(nx),sx=Y({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),rx=Lt(sx),ix=Y({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),ox=Lt(ix),ax=Y({},Ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lx=Lt(ax),cx=[9,13,27,32],Pl=h&&"CompositionEvent"in window,pi=null;h&&"documentMode"in document&&(pi=document.documentMode);var ux=h&&"TextEvent"in window&&!pi,Ph=h&&(!Pl||pi&&8<pi&&11>=pi),Ch=" ",Rh=!1;function Ah(t,r){switch(t){case"keyup":return cx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lr=!1;function dx(t,r){switch(t){case"compositionend":return Oh(r);case"keypress":return r.which!==32?null:(Rh=!0,Ch);case"textInput":return t=r.data,t===Ch&&Rh?null:t;default:return null}}function hx(t,r){if(lr)return t==="compositionend"||!Pl&&Ah(t,r)?(t=_h(),To=Nl=es=null,lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ph&&r.locale!=="ko"?null:r.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!fx[t.type]:r==="textarea"}function Dh(t,r,a,d){je(d),r=Lo(r,"onChange"),0<r.length&&(a=new _l("onChange","change",null,a,d),t.push({event:a,listeners:r}))}var gi=null,yi=null;function mx(t){Zh(t,0)}function Ao(t){var r=fr(t);if(Sn(r))return t}function px(t,r){if(t==="change")return r}var Lh=!1;if(h){var Cl;if(h){var Rl="oninput"in document;if(!Rl){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),Rl=typeof Mh.oninput=="function"}Cl=Rl}else Cl=!1;Lh=Cl&&(!document.documentMode||9<document.documentMode)}function $h(){gi&&(gi.detachEvent("onpropertychange",Vh),yi=gi=null)}function Vh(t){if(t.propertyName==="value"&&Ao(yi)){var r=[];Dh(r,yi,t,Wt(t)),Ye(mx,r)}}function gx(t,r,a){t==="focusin"?($h(),gi=r,yi=a,gi.attachEvent("onpropertychange",Vh)):t==="focusout"&&$h()}function yx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(yi)}function vx(t,r){if(t==="click")return Ao(r)}function xx(t,r){if(t==="input"||t==="change")return Ao(r)}function wx(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var rn=typeof Object.is=="function"?Object.is:wx;function vi(t,r){if(rn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),d=Object.keys(r);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(!m.call(r,f)||!rn(t[f],r[f]))return!1}return!0}function Bh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fh(t,r){var a=Bh(t);t=0;for(var d;a;){if(a.nodeType===3){if(d=t+a.textContent.length,t<=r&&d>=r)return{node:a,offset:r-t};t=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bh(a)}}function Uh(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Uh(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function zh(){for(var t=window,r=sr();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=sr(t.document)}return r}function Al(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function bx(t){var r=zh(),a=t.focusedElem,d=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&Uh(a.ownerDocument.documentElement,a)){if(d!==null&&Al(a)){if(r=d.start,t=d.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=a.textContent.length,y=Math.min(d.start,f);d=d.end===void 0?y:Math.min(d.end,f),!t.extend&&y>d&&(f=d,d=y,y=f),f=Fh(a,y);var w=Fh(a,d);f&&w&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),y>d?(t.addRange(r),t.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jx=h&&"documentMode"in document&&11>=document.documentMode,cr=null,Ol=null,xi=null,Il=!1;function Wh(t,r,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Il||cr==null||cr!==sr(d)||(d=cr,"selectionStart"in d&&Al(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),xi&&vi(xi,d)||(xi=d,d=Lo(Ol,"onSelect"),0<d.length&&(r=new _l("onSelect","select",null,r,a),t.push({event:r,listeners:d}),r.target=cr)))}function Oo(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ur={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},Dl={},Hh={};h&&(Hh=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Io(t){if(Dl[t])return Dl[t];if(!ur[t])return t;var r=ur[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Hh)return Dl[t]=r[a];return t}var Gh=Io("animationend"),Kh=Io("animationiteration"),qh=Io("animationstart"),Yh=Io("transitionend"),Jh=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,r){Jh.set(t,r),c(r,[t])}for(var Ll=0;Ll<Qh.length;Ll++){var Ml=Qh[Ll],Nx=Ml.toLowerCase(),_x=Ml[0].toUpperCase()+Ml.slice(1);ts(Nx,"on"+_x)}ts(Gh,"onAnimationEnd"),ts(Kh,"onAnimationIteration"),ts(qh,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(Yh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kx=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function Xh(t,r,a){var d=t.type||"unknown-event";t.currentTarget=a,Nv(d,r,void 0,t),t.currentTarget=null}function Zh(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var d=t[a],f=d.event;d=d.listeners;e:{var y=void 0;if(r)for(var w=d.length-1;0<=w;w--){var _=d[w],E=_.instance,L=_.currentTarget;if(_=_.listener,E!==y&&f.isPropagationStopped())break e;Xh(f,_,L),y=E}else for(w=0;w<d.length;w++){if(_=d[w],E=_.instance,L=_.currentTarget,_=_.listener,E!==y&&f.isPropagationStopped())break e;Xh(f,_,L),y=E}}}if(ii)throw t=ml,ii=!1,ml=null,t}function Ie(t,r){var a=r[Hl];a===void 0&&(a=r[Hl]=new Set);var d=t+"__bubble";a.has(d)||(ef(r,t,2,!1),a.add(d))}function $l(t,r,a){var d=0;r&&(d|=4),ef(a,t,d,r)}var Do="_reactListening"+Math.random().toString(36).slice(2);function bi(t){if(!t[Do]){t[Do]=!0,i.forEach(function(a){a!=="selectionchange"&&(kx.has(a)||$l(a,!1,t),$l(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Do]||(r[Do]=!0,$l("selectionchange",!1,r))}}function ef(t,r,a,d){switch(Nh(r)){case 1:var f=Vv;break;case 4:f=Bv;break;default:f=bl}a=f.bind(null,r,a,t),f=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),d?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Vl(t,r,a,d,f){var y=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var _=d.stateNode.containerInfo;if(_===f||_.nodeType===8&&_.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var E=w.tag;if((E===3||E===4)&&(E=w.stateNode.containerInfo,E===f||E.nodeType===8&&E.parentNode===f))return;w=w.return}for(;_!==null;){if(w=Cs(_),w===null)return;if(E=w.tag,E===5||E===6){d=y=w;continue e}_=_.parentNode}}d=d.return}Ye(function(){var L=y,H=Wt(a),K=[];e:{var U=Jh.get(t);if(U!==void 0){var ee=_l,se=t;switch(t){case"keypress":if(Po(a)===0)break e;case"keydown":case"keyup":ee=tx;break;case"focusin":se="focus",ee=El;break;case"focusout":se="blur",ee=El;break;case"beforeblur":case"afterblur":ee=El;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=rx;break;case Gh:case Kh:case qh:ee=Gv;break;case Yh:ee=ox;break;case"scroll":ee=Fv;break;case"wheel":ee=lx;break;case"copy":case"cut":case"paste":ee=qv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Th}var oe=(r&4)!==0,Ke=!oe&&t==="scroll",O=oe?U!==null?U+"Capture":null:U;oe=[];for(var P=L,I;P!==null;){I=P;var q=I.stateNode;if(I.tag===5&&q!==null&&(I=q,O!==null&&(q=rt(P,O),q!=null&&oe.push(ji(P,q,I)))),Ke)break;P=P.return}0<oe.length&&(U=new ee(U,se,null,a,H),K.push({event:U,listeners:oe}))}}if((r&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",U&&a!==Ts&&(se=a.relatedTarget||a.fromElement)&&(Cs(se)||se[Cn]))break e;if((ee||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,ee?(se=a.relatedTarget||a.toElement,ee=L,se=se?Cs(se):null,se!==null&&(Ke=Ps(se),se!==Ke||se.tag!==5&&se.tag!==6)&&(se=null)):(ee=null,se=L),ee!==se)){if(oe=Sh,q="onMouseLeave",O="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(oe=Th,q="onPointerLeave",O="onPointerEnter",P="pointer"),Ke=ee==null?U:fr(ee),I=se==null?U:fr(se),U=new oe(q,P+"leave",ee,a,H),U.target=Ke,U.relatedTarget=I,q=null,Cs(H)===L&&(oe=new oe(O,P+"enter",se,a,H),oe.target=I,oe.relatedTarget=Ke,q=oe),Ke=q,ee&&se)t:{for(oe=ee,O=se,P=0,I=oe;I;I=dr(I))P++;for(I=0,q=O;q;q=dr(q))I++;for(;0<P-I;)oe=dr(oe),P--;for(;0<I-P;)O=dr(O),I--;for(;P--;){if(oe===O||O!==null&&oe===O.alternate)break t;oe=dr(oe),O=dr(O)}oe=null}else oe=null;ee!==null&&tf(K,U,ee,oe,!1),se!==null&&Ke!==null&&tf(K,Ke,se,oe,!0)}}e:{if(U=L?fr(L):window,ee=U.nodeName&&U.nodeName.toLowerCase(),ee==="select"||ee==="input"&&U.type==="file")var ae=px;else if(Ih(U))if(Lh)ae=xx;else{ae=yx;var me=gx}else(ee=U.nodeName)&&ee.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ae=vx);if(ae&&(ae=ae(t,L))){Dh(K,ae,a,H);break e}me&&me(t,U,L),t==="focusout"&&(me=U._wrapperState)&&me.controlled&&U.type==="number"&&It(U,"number",U.value)}switch(me=L?fr(L):window,t){case"focusin":(Ih(me)||me.contentEditable==="true")&&(cr=me,Ol=L,xi=null);break;case"focusout":xi=Ol=cr=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,Wh(K,a,H);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":Wh(K,a,H)}var pe;if(Pl)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else lr?Ah(t,a)&&(we="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Ph&&a.locale!=="ko"&&(lr||we!=="onCompositionStart"?we==="onCompositionEnd"&&lr&&(pe=_h()):(es=H,Nl="value"in es?es.value:es.textContent,lr=!0)),me=Lo(L,we),0<me.length&&(we=new Eh(we,t,null,a,H),K.push({event:we,listeners:me}),pe?we.data=pe:(pe=Oh(a),pe!==null&&(we.data=pe)))),(pe=ux?dx(t,a):hx(t,a))&&(L=Lo(L,"onBeforeInput"),0<L.length&&(H=new Eh("onBeforeInput","beforeinput",null,a,H),K.push({event:H,listeners:L}),H.data=pe))}Zh(K,r)})}function ji(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Lo(t,r){for(var a=r+"Capture",d=[];t!==null;){var f=t,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=rt(t,a),y!=null&&d.unshift(ji(t,y,f)),y=rt(t,r),y!=null&&d.push(ji(t,y,f))),t=t.return}return d}function dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tf(t,r,a,d,f){for(var y=r._reactName,w=[];a!==null&&a!==d;){var _=a,E=_.alternate,L=_.stateNode;if(E!==null&&E===d)break;_.tag===5&&L!==null&&(_=L,f?(E=rt(a,y),E!=null&&w.unshift(ji(a,E,_))):f||(E=rt(a,y),E!=null&&w.push(ji(a,E,_)))),a=a.return}w.length!==0&&t.push({event:r,listeners:w})}var Sx=/\r\n?/g,Ex=/\u0000|\uFFFD/g;function nf(t){return(typeof t=="string"?t:""+t).replace(Sx,`
`).replace(Ex,"")}function Mo(t,r,a){if(r=nf(r),nf(t)!==r&&a)throw Error(s(425))}function $o(){}var Bl=null,Fl=null;function Ul(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,Tx=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,Px=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(t){return sf.resolve(null).then(t).catch(Cx)}:zl;function Cx(t){setTimeout(function(){throw t})}function Wl(t,r){var a=r,d=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(d===0){t.removeChild(f),hi(r);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=f}while(a);hi(r)}function ns(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function rf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),vn="__reactFiber$"+hr,Ni="__reactProps$"+hr,Cn="__reactContainer$"+hr,Hl="__reactEvents$"+hr,Rx="__reactListeners$"+hr,Ax="__reactHandles$"+hr;function Cs(t){var r=t[vn];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Cn]||a[vn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=rf(t);t!==null;){if(a=t[vn])return a;t=rf(t)}return r}t=a,a=t.parentNode}return null}function _i(t){return t=t[vn]||t[Cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function Vo(t){return t[Ni]||null}var Gl=[],mr=-1;function ss(t){return{current:t}}function De(t){0>mr||(t.current=Gl[mr],Gl[mr]=null,mr--)}function Re(t,r){mr++,Gl[mr]=t.current,t.current=r}var rs={},mt=ss(rs),St=ss(!1),Rs=rs;function pr(t,r){var a=t.type.contextTypes;if(!a)return rs;var d=t.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===r)return d.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in a)f[y]=r[y];return d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Et(t){return t=t.childContextTypes,t!=null}function Bo(){De(St),De(mt)}function of(t,r,a){if(mt.current!==rs)throw Error(s(168));Re(mt,r),Re(St,a)}function af(t,r,a){var d=t.stateNode;if(r=r.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var f in d)if(!(f in r))throw Error(s(108,Se(t)||"Unknown",f));return Y({},a,d)}function Fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rs,Rs=mt.current,Re(mt,t),Re(St,St.current),!0}function lf(t,r,a){var d=t.stateNode;if(!d)throw Error(s(169));a?(t=af(t,r,Rs),d.__reactInternalMemoizedMergedChildContext=t,De(St),De(mt),Re(mt,t)):De(St),Re(St,a)}var Rn=null,Uo=!1,Kl=!1;function cf(t){Rn===null?Rn=[t]:Rn.push(t)}function Ox(t){Uo=!0,cf(t)}function is(){if(!Kl&&Rn!==null){Kl=!0;var t=0,r=Ce;try{var a=Rn;for(Ce=1;t<a.length;t++){var d=a[t];do d=d(!0);while(d!==null)}Rn=null,Uo=!1}catch(f){throw Rn!==null&&(Rn=Rn.slice(t+1)),uh(pl,is),f}finally{Ce=r,Kl=!1}}return null}var gr=[],yr=0,zo=null,Wo=0,Gt=[],Kt=0,As=null,An=1,On="";function Os(t,r){gr[yr++]=Wo,gr[yr++]=zo,zo=t,Wo=r}function uf(t,r,a){Gt[Kt++]=An,Gt[Kt++]=On,Gt[Kt++]=As,As=t;var d=An;t=On;var f=32-sn(d)-1;d&=~(1<<f),a+=1;var y=32-sn(r)+f;if(30<y){var w=f-f%5;y=(d&(1<<w)-1).toString(32),d>>=w,f-=w,An=1<<32-sn(r)+f|a<<f|d,On=y+t}else An=1<<y|a<<f|d,On=t}function ql(t){t.return!==null&&(Os(t,1),uf(t,1,0))}function Yl(t){for(;t===zo;)zo=gr[--yr],gr[yr]=null,Wo=gr[--yr],gr[yr]=null;for(;t===As;)As=Gt[--Kt],Gt[Kt]=null,On=Gt[--Kt],Gt[Kt]=null,An=Gt[--Kt],Gt[Kt]=null}var Mt=null,$t=null,Me=!1,on=null;function df(t,r){var a=Qt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function hf(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Mt=t,$t=ns(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Mt=t,$t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=As!==null?{id:An,overflow:On}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Qt(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,Mt=t,$t=null,!0):!1;default:return!1}}function Jl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ql(t){if(Me){var r=$t;if(r){var a=r;if(!hf(t,r)){if(Jl(t))throw Error(s(418));r=ns(a.nextSibling);var d=Mt;r&&hf(t,r)?df(d,a):(t.flags=t.flags&-4097|2,Me=!1,Mt=t)}}else{if(Jl(t))throw Error(s(418));t.flags=t.flags&-4097|2,Me=!1,Mt=t}}}function ff(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function Ho(t){if(t!==Mt)return!1;if(!Me)return ff(t),Me=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Ul(t.type,t.memoizedProps)),r&&(r=$t)){if(Jl(t))throw mf(),Error(s(418));for(;r;)df(t,r),r=ns(r.nextSibling)}if(ff(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){$t=ns(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}$t=null}}else $t=Mt?ns(t.stateNode.nextSibling):null;return!0}function mf(){for(var t=$t;t;)t=ns(t.nextSibling)}function vr(){$t=Mt=null,Me=!1}function Xl(t){on===null?on=[t]:on.push(t)}var Ix=T.ReactCurrentBatchConfig;function ki(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var d=a.stateNode}if(!d)throw Error(s(147,t));var f=d,y=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===y?r.ref:(r=function(w){var _=f.refs;w===null?delete _[y]:_[y]=w},r._stringRef=y,r)}if(typeof t!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,t))}return t}function Go(t,r){throw t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function pf(t){var r=t._init;return r(t._payload)}function gf(t){function r(O,P){if(t){var I=O.deletions;I===null?(O.deletions=[P],O.flags|=16):I.push(P)}}function a(O,P){if(!t)return null;for(;P!==null;)r(O,P),P=P.sibling;return null}function d(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(O,P){return O=fs(O,P),O.index=0,O.sibling=null,O}function y(O,P,I){return O.index=I,t?(I=O.alternate,I!==null?(I=I.index,I<P?(O.flags|=2,P):I):(O.flags|=2,P)):(O.flags|=1048576,P)}function w(O){return t&&O.alternate===null&&(O.flags|=2),O}function _(O,P,I,q){return P===null||P.tag!==6?(P=zc(I,O.mode,q),P.return=O,P):(P=f(P,I),P.return=O,P)}function E(O,P,I,q){var ae=I.type;return ae===G?H(O,P,I.props.children,q,I.key):P!==null&&(P.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ge&&pf(ae)===P.type)?(q=f(P,I.props),q.ref=ki(O,P,I),q.return=O,q):(q=ga(I.type,I.key,I.props,null,O.mode,q),q.ref=ki(O,P,I),q.return=O,q)}function L(O,P,I,q){return P===null||P.tag!==4||P.stateNode.containerInfo!==I.containerInfo||P.stateNode.implementation!==I.implementation?(P=Wc(I,O.mode,q),P.return=O,P):(P=f(P,I.children||[]),P.return=O,P)}function H(O,P,I,q,ae){return P===null||P.tag!==7?(P=Fs(I,O.mode,q,ae),P.return=O,P):(P=f(P,I),P.return=O,P)}function K(O,P,I){if(typeof P=="string"&&P!==""||typeof P=="number")return P=zc(""+P,O.mode,I),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $:return I=ga(P.type,P.key,P.props,null,O.mode,I),I.ref=ki(O,null,P),I.return=O,I;case B:return P=Wc(P,O.mode,I),P.return=O,P;case ge:var q=P._init;return K(O,q(P._payload),I)}if(ks(P)||te(P))return P=Fs(P,O.mode,I,null),P.return=O,P;Go(O,P)}return null}function U(O,P,I,q){var ae=P!==null?P.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return ae!==null?null:_(O,P,""+I,q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $:return I.key===ae?E(O,P,I,q):null;case B:return I.key===ae?L(O,P,I,q):null;case ge:return ae=I._init,U(O,P,ae(I._payload),q)}if(ks(I)||te(I))return ae!==null?null:H(O,P,I,q,null);Go(O,I)}return null}function ee(O,P,I,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number")return O=O.get(I)||null,_(P,O,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return O=O.get(q.key===null?I:q.key)||null,E(P,O,q,ae);case B:return O=O.get(q.key===null?I:q.key)||null,L(P,O,q,ae);case ge:var me=q._init;return ee(O,P,I,me(q._payload),ae)}if(ks(q)||te(q))return O=O.get(I)||null,H(P,O,q,ae,null);Go(P,q)}return null}function se(O,P,I,q){for(var ae=null,me=null,pe=P,we=P=0,at=null;pe!==null&&we<I.length;we++){pe.index>we?(at=pe,pe=null):at=pe.sibling;var Te=U(O,pe,I[we],q);if(Te===null){pe===null&&(pe=at);break}t&&pe&&Te.alternate===null&&r(O,pe),P=y(Te,P,we),me===null?ae=Te:me.sibling=Te,me=Te,pe=at}if(we===I.length)return a(O,pe),Me&&Os(O,we),ae;if(pe===null){for(;we<I.length;we++)pe=K(O,I[we],q),pe!==null&&(P=y(pe,P,we),me===null?ae=pe:me.sibling=pe,me=pe);return Me&&Os(O,we),ae}for(pe=d(O,pe);we<I.length;we++)at=ee(pe,O,we,I[we],q),at!==null&&(t&&at.alternate!==null&&pe.delete(at.key===null?we:at.key),P=y(at,P,we),me===null?ae=at:me.sibling=at,me=at);return t&&pe.forEach(function(ms){return r(O,ms)}),Me&&Os(O,we),ae}function oe(O,P,I,q){var ae=te(I);if(typeof ae!="function")throw Error(s(150));if(I=ae.call(I),I==null)throw Error(s(151));for(var me=ae=null,pe=P,we=P=0,at=null,Te=I.next();pe!==null&&!Te.done;we++,Te=I.next()){pe.index>we?(at=pe,pe=null):at=pe.sibling;var ms=U(O,pe,Te.value,q);if(ms===null){pe===null&&(pe=at);break}t&&pe&&ms.alternate===null&&r(O,pe),P=y(ms,P,we),me===null?ae=ms:me.sibling=ms,me=ms,pe=at}if(Te.done)return a(O,pe),Me&&Os(O,we),ae;if(pe===null){for(;!Te.done;we++,Te=I.next())Te=K(O,Te.value,q),Te!==null&&(P=y(Te,P,we),me===null?ae=Te:me.sibling=Te,me=Te);return Me&&Os(O,we),ae}for(pe=d(O,pe);!Te.done;we++,Te=I.next())Te=ee(pe,O,we,Te.value,q),Te!==null&&(t&&Te.alternate!==null&&pe.delete(Te.key===null?we:Te.key),P=y(Te,P,we),me===null?ae=Te:me.sibling=Te,me=Te);return t&&pe.forEach(function(fw){return r(O,fw)}),Me&&Os(O,we),ae}function Ke(O,P,I,q){if(typeof I=="object"&&I!==null&&I.type===G&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case $:e:{for(var ae=I.key,me=P;me!==null;){if(me.key===ae){if(ae=I.type,ae===G){if(me.tag===7){a(O,me.sibling),P=f(me,I.props.children),P.return=O,O=P;break e}}else if(me.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ge&&pf(ae)===me.type){a(O,me.sibling),P=f(me,I.props),P.ref=ki(O,me,I),P.return=O,O=P;break e}a(O,me);break}else r(O,me);me=me.sibling}I.type===G?(P=Fs(I.props.children,O.mode,q,I.key),P.return=O,O=P):(q=ga(I.type,I.key,I.props,null,O.mode,q),q.ref=ki(O,P,I),q.return=O,O=q)}return w(O);case B:e:{for(me=I.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===I.containerInfo&&P.stateNode.implementation===I.implementation){a(O,P.sibling),P=f(P,I.children||[]),P.return=O,O=P;break e}else{a(O,P);break}else r(O,P);P=P.sibling}P=Wc(I,O.mode,q),P.return=O,O=P}return w(O);case ge:return me=I._init,Ke(O,P,me(I._payload),q)}if(ks(I))return se(O,P,I,q);if(te(I))return oe(O,P,I,q);Go(O,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,P!==null&&P.tag===6?(a(O,P.sibling),P=f(P,I),P.return=O,O=P):(a(O,P),P=zc(I,O.mode,q),P.return=O,O=P),w(O)):a(O,P)}return Ke}var xr=gf(!0),yf=gf(!1),Ko=ss(null),qo=null,wr=null,Zl=null;function ec(){Zl=wr=qo=null}function tc(t){var r=Ko.current;De(Ko),t._currentValue=r}function nc(t,r,a){for(;t!==null;){var d=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),t===a)break;t=t.return}}function br(t,r){qo=t,Zl=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Tt=!0),t.firstContext=null)}function qt(t){var r=t._currentValue;if(Zl!==t)if(t={context:t,memoizedValue:r,next:null},wr===null){if(qo===null)throw Error(s(308));wr=t,qo.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return r}var Is=null;function sc(t){Is===null?Is=[t]:Is.push(t)}function vf(t,r,a,d){var f=r.interleaved;return f===null?(a.next=a,sc(r)):(a.next=f.next,f.next=a),r.interleaved=a,In(t,d)}function In(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var os=!1;function rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function as(t,r,a){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(Ee&2)!==0){var f=d.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),d.pending=r,In(t,a)}return f=d.interleaved,f===null?(r.next=r,sc(d)):(r.next=f.next,f.next=r),d.interleaved=r,In(t,a)}function Yo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var d=r.lanes;d&=t.pendingLanes,a|=d,r.lanes=a,vl(t,a)}}function wf(t,r){var a=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var f=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?f=y=w:y=y.next=w,a=a.next}while(a!==null);y===null?f=y=r:y=y.next=r}else f=y=r;a={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:d.shared,effects:d.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Jo(t,r,a,d){var f=t.updateQueue;os=!1;var y=f.firstBaseUpdate,w=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var E=_,L=E.next;E.next=null,w===null?y=L:w.next=L,w=E;var H=t.alternate;H!==null&&(H=H.updateQueue,_=H.lastBaseUpdate,_!==w&&(_===null?H.firstBaseUpdate=L:_.next=L,H.lastBaseUpdate=E))}if(y!==null){var K=f.baseState;w=0,H=L=E=null,_=y;do{var U=_.lane,ee=_.eventTime;if((d&U)===U){H!==null&&(H=H.next={eventTime:ee,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var se=t,oe=_;switch(U=r,ee=a,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){K=se.call(ee,K,U);break e}K=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,U=typeof se=="function"?se.call(ee,K,U):se,U==null)break e;K=Y({},K,U);break e;case 2:os=!0}}_.callback!==null&&_.lane!==0&&(t.flags|=64,U=f.effects,U===null?f.effects=[_]:U.push(_))}else ee={eventTime:ee,lane:U,tag:_.tag,payload:_.payload,callback:_.callback,next:null},H===null?(L=H=ee,E=K):H=H.next=ee,w|=U;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;U=_,_=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);if(H===null&&(E=K),f.baseState=E,f.firstBaseUpdate=L,f.lastBaseUpdate=H,r=f.shared.interleaved,r!==null){f=r;do w|=f.lane,f=f.next;while(f!==r)}else y===null&&(f.shared.lanes=0);Ms|=w,t.lanes=w,t.memoizedState=K}}function bf(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var d=t[r],f=d.callback;if(f!==null){if(d.callback=null,d=a,typeof f!="function")throw Error(s(191,f));f.call(d)}}}var Si={},xn=ss(Si),Ei=ss(Si),Ti=ss(Si);function Ds(t){if(t===Si)throw Error(s(174));return t}function ic(t,r){switch(Re(Ti,r),Re(Ei,t),Re(xn,Si),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ti(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ti(r,t)}De(xn),Re(xn,r)}function jr(){De(xn),De(Ei),De(Ti)}function jf(t){Ds(Ti.current);var r=Ds(xn.current),a=ti(r,t.type);r!==a&&(Re(Ei,t),Re(xn,a))}function oc(t){Ei.current===t&&(De(xn),De(Ei))}var Ve=ss(0);function Qo(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ac=[];function lc(){for(var t=0;t<ac.length;t++)ac[t]._workInProgressVersionPrimary=null;ac.length=0}var Xo=T.ReactCurrentDispatcher,cc=T.ReactCurrentBatchConfig,Ls=0,Be=null,et=null,it=null,Zo=!1,Pi=!1,Ci=0,Dx=0;function pt(){throw Error(s(321))}function uc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!rn(t[a],r[a]))return!1;return!0}function dc(t,r,a,d,f,y){if(Ls=y,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Xo.current=t===null||t.memoizedState===null?Vx:Bx,t=a(d,f),Pi){y=0;do{if(Pi=!1,Ci=0,25<=y)throw Error(s(301));y+=1,it=et=null,r.updateQueue=null,Xo.current=Fx,t=a(d,f)}while(Pi)}if(Xo.current=na,r=et!==null&&et.next!==null,Ls=0,it=et=Be=null,Zo=!1,r)throw Error(s(300));return t}function hc(){var t=Ci!==0;return Ci=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Be.memoizedState=it=t:it=it.next=t,it}function Yt(){if(et===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var r=it===null?Be.memoizedState:it.next;if(r!==null)it=r,et=t;else{if(t===null)throw Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},it===null?Be.memoizedState=it=t:it=it.next=t}return it}function Ri(t,r){return typeof r=="function"?r(t):r}function fc(t){var r=Yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var d=et,f=d.baseQueue,y=a.pending;if(y!==null){if(f!==null){var w=f.next;f.next=y.next,y.next=w}d.baseQueue=f=y,a.pending=null}if(f!==null){y=f.next,d=d.baseState;var _=w=null,E=null,L=y;do{var H=L.lane;if((Ls&H)===H)E!==null&&(E=E.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),d=L.hasEagerState?L.eagerState:t(d,L.action);else{var K={lane:H,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};E===null?(_=E=K,w=d):E=E.next=K,Be.lanes|=H,Ms|=H}L=L.next}while(L!==null&&L!==y);E===null?w=d:E.next=_,rn(d,r.memoizedState)||(Tt=!0),r.memoizedState=d,r.baseState=w,r.baseQueue=E,a.lastRenderedState=d}if(t=a.interleaved,t!==null){f=t;do y=f.lane,Be.lanes|=y,Ms|=y,f=f.next;while(f!==t)}else f===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function mc(t){var r=Yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var d=a.dispatch,f=a.pending,y=r.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do y=t(y,w.action),w=w.next;while(w!==f);rn(y,r.memoizedState)||(Tt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),a.lastRenderedState=y}return[y,d]}function Nf(){}function _f(t,r){var a=Be,d=Yt(),f=r(),y=!rn(d.memoizedState,f);if(y&&(d.memoizedState=f,Tt=!0),d=d.queue,pc(Ef.bind(null,a,d,t),[t]),d.getSnapshot!==r||y||it!==null&&it.memoizedState.tag&1){if(a.flags|=2048,Ai(9,Sf.bind(null,a,d,f,r),void 0,null),ot===null)throw Error(s(349));(Ls&30)!==0||kf(a,r,f)}return f}function kf(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Sf(t,r,a,d){r.value=a,r.getSnapshot=d,Tf(r)&&Pf(t)}function Ef(t,r,a){return a(function(){Tf(r)&&Pf(t)})}function Tf(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!rn(t,a)}catch{return!0}}function Pf(t){var r=In(t,1);r!==null&&un(r,t,1,-1)}function Cf(t){var r=wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},r.queue=t,t=t.dispatch=$x.bind(null,Be,t),[r.memoizedState,t]}function Ai(t,r,a,d){return t={tag:t,create:r,destroy:a,deps:d,next:null},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(d=a.next,a.next=t,t.next=d,r.lastEffect=t)),t}function Rf(){return Yt().memoizedState}function ea(t,r,a,d){var f=wn();Be.flags|=t,f.memoizedState=Ai(1|r,a,void 0,d===void 0?null:d)}function ta(t,r,a,d){var f=Yt();d=d===void 0?null:d;var y=void 0;if(et!==null){var w=et.memoizedState;if(y=w.destroy,d!==null&&uc(d,w.deps)){f.memoizedState=Ai(r,a,y,d);return}}Be.flags|=t,f.memoizedState=Ai(1|r,a,y,d)}function Af(t,r){return ea(8390656,8,t,r)}function pc(t,r){return ta(2048,8,t,r)}function Of(t,r){return ta(4,2,t,r)}function If(t,r){return ta(4,4,t,r)}function Df(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Lf(t,r,a){return a=a!=null?a.concat([t]):null,ta(4,4,Df.bind(null,r,t),a)}function gc(){}function Mf(t,r){var a=Yt();r=r===void 0?null:r;var d=a.memoizedState;return d!==null&&r!==null&&uc(r,d[1])?d[0]:(a.memoizedState=[t,r],t)}function $f(t,r){var a=Yt();r=r===void 0?null:r;var d=a.memoizedState;return d!==null&&r!==null&&uc(r,d[1])?d[0]:(t=t(),a.memoizedState=[t,r],t)}function Vf(t,r,a){return(Ls&21)===0?(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=a):(rn(a,r)||(a=mh(),Be.lanes|=a,Ms|=a,t.baseState=!0),r)}function Lx(t,r){var a=Ce;Ce=a!==0&&4>a?a:4,t(!0);var d=cc.transition;cc.transition={};try{t(!1),r()}finally{Ce=a,cc.transition=d}}function Bf(){return Yt().memoizedState}function Mx(t,r,a){var d=ds(t);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Ff(t))Uf(r,a);else if(a=vf(t,r,a,d),a!==null){var f=_t();un(a,t,d,f),zf(a,r,d)}}function $x(t,r,a){var d=ds(t),f={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ff(t))Uf(r,f);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,_=y(w,a);if(f.hasEagerState=!0,f.eagerState=_,rn(_,w)){var E=r.interleaved;E===null?(f.next=f,sc(r)):(f.next=E.next,E.next=f),r.interleaved=f;return}}catch{}finally{}a=vf(t,r,f,d),a!==null&&(f=_t(),un(a,t,d,f),zf(a,r,d))}}function Ff(t){var r=t.alternate;return t===Be||r!==null&&r===Be}function Uf(t,r){Pi=Zo=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zf(t,r,a){if((a&4194240)!==0){var d=r.lanes;d&=t.pendingLanes,a|=d,r.lanes=a,vl(t,a)}}var na={readContext:qt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},Vx={readContext:qt,useCallback:function(t,r){return wn().memoizedState=[t,r===void 0?null:r],t},useContext:qt,useEffect:Af,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,ea(4194308,4,Df.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ea(4194308,4,t,r)},useInsertionEffect:function(t,r){return ea(4,2,t,r)},useMemo:function(t,r){var a=wn();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var d=wn();return r=a!==void 0?a(r):r,d.memoizedState=d.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},d.queue=t,t=t.dispatch=Mx.bind(null,Be,t),[d.memoizedState,t]},useRef:function(t){var r=wn();return t={current:t},r.memoizedState=t},useState:Cf,useDebugValue:gc,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=Cf(!1),r=t[0];return t=Lx.bind(null,t[1]),wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var d=Be,f=wn();if(Me){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(Ls&30)!==0||kf(d,r,a)}f.memoizedState=a;var y={value:a,getSnapshot:r};return f.queue=y,Af(Ef.bind(null,d,y,t),[t]),d.flags|=2048,Ai(9,Sf.bind(null,d,y,a,r),void 0,null),a},useId:function(){var t=wn(),r=ot.identifierPrefix;if(Me){var a=On,d=An;a=(d&~(1<<32-sn(d)-1)).toString(32)+a,r=":"+r+"R"+a,a=Ci++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Dx++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Bx={readContext:qt,useCallback:Mf,useContext:qt,useEffect:pc,useImperativeHandle:Lf,useInsertionEffect:Of,useLayoutEffect:If,useMemo:$f,useReducer:fc,useRef:Rf,useState:function(){return fc(Ri)},useDebugValue:gc,useDeferredValue:function(t){var r=Yt();return Vf(r,et.memoizedState,t)},useTransition:function(){var t=fc(Ri)[0],r=Yt().memoizedState;return[t,r]},useMutableSource:Nf,useSyncExternalStore:_f,useId:Bf,unstable_isNewReconciler:!1},Fx={readContext:qt,useCallback:Mf,useContext:qt,useEffect:pc,useImperativeHandle:Lf,useInsertionEffect:Of,useLayoutEffect:If,useMemo:$f,useReducer:mc,useRef:Rf,useState:function(){return mc(Ri)},useDebugValue:gc,useDeferredValue:function(t){var r=Yt();return et===null?r.memoizedState=t:Vf(r,et.memoizedState,t)},useTransition:function(){var t=mc(Ri)[0],r=Yt().memoizedState;return[t,r]},useMutableSource:Nf,useSyncExternalStore:_f,useId:Bf,unstable_isNewReconciler:!1};function an(t,r){if(t&&t.defaultProps){r=Y({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function yc(t,r,a,d){r=t.memoizedState,a=a(d,r),a=a==null?r:Y({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sa={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var d=_t(),f=ds(t),y=Dn(d,f);y.payload=r,a!=null&&(y.callback=a),r=as(t,y,f),r!==null&&(un(r,t,f,d),Yo(r,t,f))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var d=_t(),f=ds(t),y=Dn(d,f);y.tag=1,y.payload=r,a!=null&&(y.callback=a),r=as(t,y,f),r!==null&&(un(r,t,f,d),Yo(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_t(),d=ds(t),f=Dn(a,d);f.tag=2,r!=null&&(f.callback=r),r=as(t,f,d),r!==null&&(un(r,t,d,a),Yo(r,t,d))}};function Wf(t,r,a,d,f,y,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,y,w):r.prototype&&r.prototype.isPureReactComponent?!vi(a,d)||!vi(f,y):!0}function Hf(t,r,a){var d=!1,f=rs,y=r.contextType;return typeof y=="object"&&y!==null?y=qt(y):(f=Et(r)?Rs:mt.current,d=r.contextTypes,y=(d=d!=null)?pr(t,f):rs),r=new r(a,y),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=sa,t.stateNode=r,r._reactInternals=t,d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=y),r}function Gf(t,r,a,d){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,d),r.state!==t&&sa.enqueueReplaceState(r,r.state,null)}function vc(t,r,a,d){var f=t.stateNode;f.props=a,f.state=t.memoizedState,f.refs={},rc(t);var y=r.contextType;typeof y=="object"&&y!==null?f.context=qt(y):(y=Et(r)?Rs:mt.current,f.context=pr(t,y)),f.state=t.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(yc(t,r,y,a),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&sa.enqueueReplaceState(f,f.state,null),Jo(t,a,f,d),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Nr(t,r){try{var a="",d=r;do a+=de(d),d=d.return;while(d);var f=a}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:t,source:r,stack:f,digest:null}}function xc(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function wc(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var Ux=typeof WeakMap=="function"?WeakMap:Map;function Kf(t,r,a){a=Dn(-1,a),a.tag=3,a.payload={element:null};var d=r.value;return a.callback=function(){ua||(ua=!0,Dc=d),wc(t,r)},a}function qf(t,r,a){a=Dn(-1,a),a.tag=3;var d=t.type.getDerivedStateFromError;if(typeof d=="function"){var f=r.value;a.payload=function(){return d(f)},a.callback=function(){wc(t,r)}}var y=t.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){wc(t,r),typeof d!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),a}function Yf(t,r,a){var d=t.pingCache;if(d===null){d=t.pingCache=new Ux;var f=new Set;d.set(r,f)}else f=d.get(r),f===void 0&&(f=new Set,d.set(r,f));f.has(a)||(f.add(a),t=nw.bind(null,t,r,a),r.then(t,t))}function Jf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Qf(t,r,a,d,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Dn(-1,1),r.tag=2,as(a,r,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var zx=T.ReactCurrentOwner,Tt=!1;function Nt(t,r,a,d){r.child=t===null?yf(r,null,a,d):xr(r,t.child,a,d)}function Xf(t,r,a,d,f){a=a.render;var y=r.ref;return br(r,f),d=dc(t,r,a,d,y,f),a=hc(),t!==null&&!Tt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Ln(t,r,f)):(Me&&a&&ql(r),r.flags|=1,Nt(t,r,d,f),r.child)}function Zf(t,r,a,d,f){if(t===null){var y=a.type;return typeof y=="function"&&!Uc(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=y,em(t,r,y,d,f)):(t=ga(a.type,null,d,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(y=t.child,(t.lanes&f)===0){var w=y.memoizedProps;if(a=a.compare,a=a!==null?a:vi,a(w,d)&&t.ref===r.ref)return Ln(t,r,f)}return r.flags|=1,t=fs(y,d),t.ref=r.ref,t.return=r,r.child=t}function em(t,r,a,d,f){if(t!==null){var y=t.memoizedProps;if(vi(y,d)&&t.ref===r.ref)if(Tt=!1,r.pendingProps=d=y,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Tt=!0);else return r.lanes=t.lanes,Ln(t,r,f)}return bc(t,r,a,d,f)}function tm(t,r,a){var d=r.pendingProps,f=d.children,y=t!==null?t.memoizedState:null;if(d.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(kr,Vt),Vt|=a;else{if((a&1073741824)===0)return t=y!==null?y.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Re(kr,Vt),Vt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:a,Re(kr,Vt),Vt|=d}else y!==null?(d=y.baseLanes|a,r.memoizedState=null):d=a,Re(kr,Vt),Vt|=d;return Nt(t,r,f,a),r.child}function nm(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function bc(t,r,a,d,f){var y=Et(a)?Rs:mt.current;return y=pr(r,y),br(r,f),a=dc(t,r,a,d,y,f),d=hc(),t!==null&&!Tt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Ln(t,r,f)):(Me&&d&&ql(r),r.flags|=1,Nt(t,r,a,f),r.child)}function sm(t,r,a,d,f){if(Et(a)){var y=!0;Fo(r)}else y=!1;if(br(r,f),r.stateNode===null)ia(t,r),Hf(r,a,d),vc(r,a,d,f),d=!0;else if(t===null){var w=r.stateNode,_=r.memoizedProps;w.props=_;var E=w.context,L=a.contextType;typeof L=="object"&&L!==null?L=qt(L):(L=Et(a)?Rs:mt.current,L=pr(r,L));var H=a.getDerivedStateFromProps,K=typeof H=="function"||typeof w.getSnapshotBeforeUpdate=="function";K||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==d||E!==L)&&Gf(r,w,d,L),os=!1;var U=r.memoizedState;w.state=U,Jo(r,d,w,f),E=r.memoizedState,_!==d||U!==E||St.current||os?(typeof H=="function"&&(yc(r,a,H,d),E=r.memoizedState),(_=os||Wf(r,a,_,d,U,E,L))?(K||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=E),w.props=d,w.state=E,w.context=L,d=_):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{w=r.stateNode,xf(t,r),_=r.memoizedProps,L=r.type===r.elementType?_:an(r.type,_),w.props=L,K=r.pendingProps,U=w.context,E=a.contextType,typeof E=="object"&&E!==null?E=qt(E):(E=Et(a)?Rs:mt.current,E=pr(r,E));var ee=a.getDerivedStateFromProps;(H=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==K||U!==E)&&Gf(r,w,d,E),os=!1,U=r.memoizedState,w.state=U,Jo(r,d,w,f);var se=r.memoizedState;_!==K||U!==se||St.current||os?(typeof ee=="function"&&(yc(r,a,ee,d),se=r.memoizedState),(L=os||Wf(r,a,L,d,U,se,E)||!1)?(H||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,se,E),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,se,E)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||_===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=se),w.props=d,w.state=se,w.context=E,d=L):(typeof w.componentDidUpdate!="function"||_===t.memoizedProps&&U===t.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&U===t.memoizedState||(r.flags|=1024),d=!1)}return jc(t,r,a,d,y,f)}function jc(t,r,a,d,f,y){nm(t,r);var w=(r.flags&128)!==0;if(!d&&!w)return f&&lf(r,a,!1),Ln(t,r,y);d=r.stateNode,zx.current=r;var _=w&&typeof a.getDerivedStateFromError!="function"?null:d.render();return r.flags|=1,t!==null&&w?(r.child=xr(r,t.child,null,y),r.child=xr(r,null,_,y)):Nt(t,r,_,y),r.memoizedState=d.state,f&&lf(r,a,!0),r.child}function rm(t){var r=t.stateNode;r.pendingContext?of(t,r.pendingContext,r.pendingContext!==r.context):r.context&&of(t,r.context,!1),ic(t,r.containerInfo)}function im(t,r,a,d,f){return vr(),Xl(f),r.flags|=256,Nt(t,r,a,d),r.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function _c(t){return{baseLanes:t,cachePool:null,transitions:null}}function om(t,r,a){var d=r.pendingProps,f=Ve.current,y=!1,w=(r.flags&128)!==0,_;if((_=w)||(_=t!==null&&t.memoizedState===null?!1:(f&2)!==0),_?(y=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Re(Ve,f&1),t===null)return Ql(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=d.children,t=d.fallback,y?(d=r.mode,y=r.child,w={mode:"hidden",children:w},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=ya(w,d,0,null),t=Fs(t,d,a,null),y.return=r,t.return=r,y.sibling=t,r.child=y,r.child.memoizedState=_c(a),r.memoizedState=Nc,t):kc(r,w));if(f=t.memoizedState,f!==null&&(_=f.dehydrated,_!==null))return Wx(t,r,w,d,_,f,a);if(y){y=d.fallback,w=r.mode,f=t.child,_=f.sibling;var E={mode:"hidden",children:d.children};return(w&1)===0&&r.child!==f?(d=r.child,d.childLanes=0,d.pendingProps=E,r.deletions=null):(d=fs(f,E),d.subtreeFlags=f.subtreeFlags&14680064),_!==null?y=fs(_,y):(y=Fs(y,w,a,null),y.flags|=2),y.return=r,d.return=r,d.sibling=y,r.child=d,d=y,y=r.child,w=t.child.memoizedState,w=w===null?_c(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=t.childLanes&~a,r.memoizedState=Nc,d}return y=t.child,t=y.sibling,d=fs(y,{mode:"visible",children:d.children}),(r.mode&1)===0&&(d.lanes=a),d.return=r,d.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=d,r.memoizedState=null,d}function kc(t,r){return r=ya({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ra(t,r,a,d){return d!==null&&Xl(d),xr(r,t.child,null,a),t=kc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Wx(t,r,a,d,f,y,w){if(a)return r.flags&256?(r.flags&=-257,d=xc(Error(s(422))),ra(t,r,w,d)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(y=d.fallback,f=r.mode,d=ya({mode:"visible",children:d.children},f,0,null),y=Fs(y,f,w,null),y.flags|=2,d.return=r,y.return=r,d.sibling=y,r.child=d,(r.mode&1)!==0&&xr(r,t.child,null,w),r.child.memoizedState=_c(w),r.memoizedState=Nc,y);if((r.mode&1)===0)return ra(t,r,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var _=d.dgst;return d=_,y=Error(s(419)),d=xc(y,d,void 0),ra(t,r,w,d)}if(_=(w&t.childLanes)!==0,Tt||_){if(d=ot,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|w))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,In(t,f),un(d,t,f,-1))}return Fc(),d=xc(Error(s(421))),ra(t,r,w,d)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=sw.bind(null,t),f._reactRetry=r,null):(t=y.treeContext,$t=ns(f.nextSibling),Mt=r,Me=!0,on=null,t!==null&&(Gt[Kt++]=An,Gt[Kt++]=On,Gt[Kt++]=As,An=t.id,On=t.overflow,As=r),r=kc(r,d.children),r.flags|=4096,r)}function am(t,r,a){t.lanes|=r;var d=t.alternate;d!==null&&(d.lanes|=r),nc(t.return,r,a)}function Sc(t,r,a,d,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:f}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=a,y.tailMode=f)}function lm(t,r,a){var d=r.pendingProps,f=d.revealOrder,y=d.tail;if(Nt(t,r,d.children,a),d=Ve.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&am(t,a,r);else if(t.tag===19)am(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}if(Re(Ve,d),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Qo(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Sc(r,!1,f,a,y);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Qo(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Sc(r,!0,a,null,y);break;case"together":Sc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ia(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Ln(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ms|=r.lanes,(a&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=fs(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=fs(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Hx(t,r,a){switch(r.tag){case 3:rm(r),vr();break;case 5:jf(r);break;case 1:Et(r.type)&&Fo(r);break;case 4:ic(r,r.stateNode.containerInfo);break;case 10:var d=r.type._context,f=r.memoizedProps.value;Re(Ko,d._currentValue),d._currentValue=f;break;case 13:if(d=r.memoizedState,d!==null)return d.dehydrated!==null?(Re(Ve,Ve.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?om(t,r,a):(Re(Ve,Ve.current&1),t=Ln(t,r,a),t!==null?t.sibling:null);Re(Ve,Ve.current&1);break;case 19:if(d=(a&r.childLanes)!==0,(t.flags&128)!==0){if(d)return lm(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Re(Ve,Ve.current),d)break;return null;case 22:case 23:return r.lanes=0,tm(t,r,a)}return Ln(t,r,a)}var cm,Ec,um,dm;cm=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ec=function(){},um=function(t,r,a,d){var f=t.memoizedProps;if(f!==d){t=r.stateNode,Ds(xn.current);var y=null;switch(a){case"input":f=_s(t,f),d=_s(t,d),y=[];break;case"select":f=Y({},f,{value:void 0}),d=Y({},d,{value:void 0}),y=[];break;case"textarea":f=lt(t,f),d=lt(t,d),y=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(t.onclick=$o)}ir(a,d);var w;a=null;for(L in f)if(!d.hasOwnProperty(L)&&f.hasOwnProperty(L)&&f[L]!=null)if(L==="style"){var _=f[L];for(w in _)_.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(l.hasOwnProperty(L)?y||(y=[]):(y=y||[]).push(L,null));for(L in d){var E=d[L];if(_=f?.[L],d.hasOwnProperty(L)&&E!==_&&(E!=null||_!=null))if(L==="style")if(_){for(w in _)!_.hasOwnProperty(w)||E&&E.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in E)E.hasOwnProperty(w)&&_[w]!==E[w]&&(a||(a={}),a[w]=E[w])}else a||(y||(y=[]),y.push(L,a)),a=E;else L==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,_=_?_.__html:void 0,E!=null&&_!==E&&(y=y||[]).push(L,E)):L==="children"?typeof E!="string"&&typeof E!="number"||(y=y||[]).push(L,""+E):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(l.hasOwnProperty(L)?(E!=null&&L==="onScroll"&&Ie("scroll",t),y||_===E||(y=[])):(y=y||[]).push(L,E))}a&&(y=y||[]).push("style",a);var L=y;(r.updateQueue=L)&&(r.flags|=4)}},dm=function(t,r,a,d){a!==d&&(r.flags|=4)};function Oi(t,r){if(!Me)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function gt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,d=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=d,t.childLanes=a,r}function Gx(t,r,a){var d=r.pendingProps;switch(Yl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return Et(r.type)&&Bo(),gt(r),null;case 3:return d=r.stateNode,jr(),De(St),De(mt),lc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(t===null||t.child===null)&&(Ho(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,on!==null&&($c(on),on=null))),Ec(t,r),gt(r),null;case 5:oc(r);var f=Ds(Ti.current);if(a=r.type,t!==null&&r.stateNode!=null)um(t,r,a,d,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!d){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(t=Ds(xn.current),Ho(r)){d=r.stateNode,a=r.type;var y=r.memoizedProps;switch(d[vn]=r,d[Ni]=y,t=(r.mode&1)!==0,a){case"dialog":Ie("cancel",d),Ie("close",d);break;case"iframe":case"object":case"embed":Ie("load",d);break;case"video":case"audio":for(f=0;f<wi.length;f++)Ie(wi[f],d);break;case"source":Ie("error",d);break;case"img":case"image":case"link":Ie("error",d),Ie("load",d);break;case"details":Ie("toggle",d);break;case"input":fo(d,y),Ie("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ie("invalid",d);break;case"textarea":Tn(d,y),Ie("invalid",d)}ir(a,y),f=null;for(var w in y)if(y.hasOwnProperty(w)){var _=y[w];w==="children"?typeof _=="string"?d.textContent!==_&&(y.suppressHydrationWarning!==!0&&Mo(d.textContent,_,t),f=["children",_]):typeof _=="number"&&d.textContent!==""+_&&(y.suppressHydrationWarning!==!0&&Mo(d.textContent,_,t),f=["children",""+_]):l.hasOwnProperty(w)&&_!=null&&w==="onScroll"&&Ie("scroll",d)}switch(a){case"input":kn(d),ei(d,y,!0);break;case"textarea":kn(d),po(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=$o)}d=f,r.updateQueue=d,d!==null&&(r.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ss(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof d.is=="string"?t=w.createElement(a,{is:d.is}):(t=w.createElement(a),a==="select"&&(w=t,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):t=w.createElementNS(t,a),t[vn]=r,t[Ni]=d,cm(t,r,!1,!1),r.stateNode=t;e:{switch(w=ni(a,d),a){case"dialog":Ie("cancel",t),Ie("close",t),f=d;break;case"iframe":case"object":case"embed":Ie("load",t),f=d;break;case"video":case"audio":for(f=0;f<wi.length;f++)Ie(wi[f],t);f=d;break;case"source":Ie("error",t),f=d;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),f=d;break;case"details":Ie("toggle",t),f=d;break;case"input":fo(t,d),f=_s(t,d),Ie("invalid",t);break;case"option":f=d;break;case"select":t._wrapperState={wasMultiple:!!d.multiple},f=Y({},d,{value:void 0}),Ie("invalid",t);break;case"textarea":Tn(t,d),f=lt(t,d),Ie("invalid",t);break;default:f=d}ir(a,f),_=f;for(y in _)if(_.hasOwnProperty(y)){var E=_[y];y==="style"?yo(t,E):y==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&rr(t,E)):y==="children"?typeof E=="string"?(a!=="textarea"||E!=="")&&zt(t,E):typeof E=="number"&&zt(t,""+E):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(l.hasOwnProperty(y)?E!=null&&y==="onScroll"&&Ie("scroll",t):E!=null&&S(t,y,E,w))}switch(a){case"input":kn(t),ei(t,d,!1);break;case"textarea":kn(t),po(t);break;case"option":d.value!=null&&t.setAttribute("value",""+he(d.value));break;case"select":t.multiple=!!d.multiple,y=d.value,y!=null?zn(t,!!d.multiple,y,!1):d.defaultValue!=null&&zn(t,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=$o)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return gt(r),null;case 6:if(t&&r.stateNode!=null)dm(t,r,t.memoizedProps,d);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(a=Ds(Ti.current),Ds(xn.current),Ho(r)){if(d=r.stateNode,a=r.memoizedProps,d[vn]=r,(y=d.nodeValue!==a)&&(t=Mt,t!==null))switch(t.tag){case 3:Mo(d.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mo(d.nodeValue,a,(t.mode&1)!==0)}y&&(r.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[vn]=r,r.stateNode=d}return gt(r),null;case 13:if(De(Ve),d=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&$t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)mf(),vr(),r.flags|=98560,y=!1;else if(y=Ho(r),d!==null&&d.dehydrated!==null){if(t===null){if(!y)throw Error(s(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[vn]=r}else vr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),y=!1}else on!==null&&($c(on),on=null),y=!0;if(!y)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(d=d!==null,d!==(t!==null&&t.memoizedState!==null)&&d&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ve.current&1)!==0?tt===0&&(tt=3):Fc())),r.updateQueue!==null&&(r.flags|=4),gt(r),null);case 4:return jr(),Ec(t,r),t===null&&bi(r.stateNode.containerInfo),gt(r),null;case 10:return tc(r.type._context),gt(r),null;case 17:return Et(r.type)&&Bo(),gt(r),null;case 19:if(De(Ve),y=r.memoizedState,y===null)return gt(r),null;if(d=(r.flags&128)!==0,w=y.rendering,w===null)if(d)Oi(y,!1);else{if(tt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(w=Qo(t),w!==null){for(r.flags|=128,Oi(y,!1),d=w.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),r.subtreeFlags=0,d=a,a=r.child;a!==null;)y=a,t=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=t,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,t=w.dependencies,y.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Re(Ve,Ve.current&1|2),r.child}t=t.sibling}y.tail!==null&&Ge()>Sr&&(r.flags|=128,d=!0,Oi(y,!1),r.lanes=4194304)}else{if(!d)if(t=Qo(w),t!==null){if(r.flags|=128,d=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Oi(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Me)return gt(r),null}else 2*Ge()-y.renderingStartTime>Sr&&a!==1073741824&&(r.flags|=128,d=!0,Oi(y,!1),r.lanes=4194304);y.isBackwards?(w.sibling=r.child,r.child=w):(a=y.last,a!==null?a.sibling=w:r.child=w,y.last=w)}return y.tail!==null?(r=y.tail,y.rendering=r,y.tail=r.sibling,y.renderingStartTime=Ge(),r.sibling=null,a=Ve.current,Re(Ve,d?a&1|2:a&1),r):(gt(r),null);case 22:case 23:return Bc(),d=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==d&&(r.flags|=8192),d&&(r.mode&1)!==0?(Vt&1073741824)!==0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function Kx(t,r){switch(Yl(r),r.tag){case 1:return Et(r.type)&&Bo(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return jr(),De(St),De(mt),lc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return oc(r),null;case 13:if(De(Ve),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));vr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return De(Ve),null;case 4:return jr(),null;case 10:return tc(r.type._context),null;case 22:case 23:return Bc(),null;case 24:return null;default:return null}}var oa=!1,yt=!1,qx=typeof WeakSet=="function"?WeakSet:Set,ne=null;function _r(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){ze(t,r,d)}else a.current=null}function Tc(t,r,a){try{a()}catch(d){ze(t,r,d)}}var hm=!1;function Yx(t,r){if(Bl=So,t=zh(),Al(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var f=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var w=0,_=-1,E=-1,L=0,H=0,K=t,U=null;t:for(;;){for(var ee;K!==a||f!==0&&K.nodeType!==3||(_=w+f),K!==y||d!==0&&K.nodeType!==3||(E=w+d),K.nodeType===3&&(w+=K.nodeValue.length),(ee=K.firstChild)!==null;)U=K,K=ee;for(;;){if(K===t)break t;if(U===a&&++L===f&&(_=w),U===y&&++H===d&&(E=w),(ee=K.nextSibling)!==null)break;K=U,U=K.parentNode}K=ee}a=_===-1||E===-1?null:{start:_,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fl={focusedElem:t,selectionRange:a},So=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var se=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,Ke=se.memoizedState,O=r.stateNode,P=O.getSnapshotBeforeUpdate(r.elementType===r.type?oe:an(r.type,oe),Ke);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var I=r.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(q){ze(r,r.return,q)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return se=hm,hm=!1,se}function Ii(t,r,a){var d=r.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&t)===t){var y=f.destroy;f.destroy=void 0,y!==void 0&&Tc(r,a,y)}f=f.next}while(f!==d)}}function aa(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var d=a.create;a.destroy=d()}a=a.next}while(a!==r)}}function Pc(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function fm(t){var r=t.alternate;r!==null&&(t.alternate=null,fm(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[vn],delete r[Ni],delete r[Hl],delete r[Rx],delete r[Ax])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mm(t){return t.tag===5||t.tag===3||t.tag===4}function pm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cc(t,r,a){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=$o));else if(d!==4&&(t=t.child,t!==null))for(Cc(t,r,a),t=t.sibling;t!==null;)Cc(t,r,a),t=t.sibling}function Rc(t,r,a){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(d!==4&&(t=t.child,t!==null))for(Rc(t,r,a),t=t.sibling;t!==null;)Rc(t,r,a),t=t.sibling}var ut=null,ln=!1;function ls(t,r,a){for(a=a.child;a!==null;)gm(t,r,a),a=a.sibling}function gm(t,r,a){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(wo,a)}catch{}switch(a.tag){case 5:yt||_r(a,r);case 6:var d=ut,f=ln;ut=null,ls(t,r,a),ut=d,ln=f,ut!==null&&(ln?(t=ut,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):ut.removeChild(a.stateNode));break;case 18:ut!==null&&(ln?(t=ut,a=a.stateNode,t.nodeType===8?Wl(t.parentNode,a):t.nodeType===1&&Wl(t,a),hi(t)):Wl(ut,a.stateNode));break;case 4:d=ut,f=ln,ut=a.stateNode.containerInfo,ln=!0,ls(t,r,a),ut=d,ln=f;break;case 0:case 11:case 14:case 15:if(!yt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var y=f,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&Tc(a,r,w),f=f.next}while(f!==d)}ls(t,r,a);break;case 1:if(!yt&&(_r(a,r),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(_){ze(a,r,_)}ls(t,r,a);break;case 21:ls(t,r,a);break;case 22:a.mode&1?(yt=(d=yt)||a.memoizedState!==null,ls(t,r,a),yt=d):ls(t,r,a);break;default:ls(t,r,a)}}function ym(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new qx),r.forEach(function(d){var f=rw.bind(null,t,d);a.has(d)||(a.add(d),d.then(f,f))})}}function cn(t,r){var a=r.deletions;if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];try{var y=t,w=r,_=w;e:for(;_!==null;){switch(_.tag){case 5:ut=_.stateNode,ln=!1;break e;case 3:ut=_.stateNode.containerInfo,ln=!0;break e;case 4:ut=_.stateNode.containerInfo,ln=!0;break e}_=_.return}if(ut===null)throw Error(s(160));gm(y,w,f),ut=null,ln=!1;var E=f.alternate;E!==null&&(E.return=null),f.return=null}catch(L){ze(f,r,L)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)vm(r,t),r=r.sibling}function vm(t,r){var a=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(r,t),bn(t),d&4){try{Ii(3,t,t.return),aa(3,t)}catch(oe){ze(t,t.return,oe)}try{Ii(5,t,t.return)}catch(oe){ze(t,t.return,oe)}}break;case 1:cn(r,t),bn(t),d&512&&a!==null&&_r(a,a.return);break;case 5:if(cn(r,t),bn(t),d&512&&a!==null&&_r(a,a.return),t.flags&32){var f=t.stateNode;try{zt(f,"")}catch(oe){ze(t,t.return,oe)}}if(d&4&&(f=t.stateNode,f!=null)){var y=t.memoizedProps,w=a!==null?a.memoizedProps:y,_=t.type,E=t.updateQueue;if(t.updateQueue=null,E!==null)try{_==="input"&&y.type==="radio"&&y.name!=null&&Zr(f,y),ni(_,w);var L=ni(_,y);for(w=0;w<E.length;w+=2){var H=E[w],K=E[w+1];H==="style"?yo(f,K):H==="dangerouslySetInnerHTML"?rr(f,K):H==="children"?zt(f,K):S(f,H,K,L)}switch(_){case"input":En(f,y);break;case"textarea":mo(f,y);break;case"select":var U=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var ee=y.value;ee!=null?zn(f,!!y.multiple,ee,!1):U!==!!y.multiple&&(y.defaultValue!=null?zn(f,!!y.multiple,y.defaultValue,!0):zn(f,!!y.multiple,y.multiple?[]:"",!1))}f[Ni]=y}catch(oe){ze(t,t.return,oe)}}break;case 6:if(cn(r,t),bn(t),d&4){if(t.stateNode===null)throw Error(s(162));f=t.stateNode,y=t.memoizedProps;try{f.nodeValue=y}catch(oe){ze(t,t.return,oe)}}break;case 3:if(cn(r,t),bn(t),d&4&&a!==null&&a.memoizedState.isDehydrated)try{hi(r.containerInfo)}catch(oe){ze(t,t.return,oe)}break;case 4:cn(r,t),bn(t);break;case 13:cn(r,t),bn(t),f=t.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(Ic=Ge())),d&4&&ym(t);break;case 22:if(H=a!==null&&a.memoizedState!==null,t.mode&1?(yt=(L=yt)||H,cn(r,t),yt=L):cn(r,t),bn(t),d&8192){if(L=t.memoizedState!==null,(t.stateNode.isHidden=L)&&!H&&(t.mode&1)!==0)for(ne=t,H=t.child;H!==null;){for(K=ne=H;ne!==null;){switch(U=ne,ee=U.child,U.tag){case 0:case 11:case 14:case 15:Ii(4,U,U.return);break;case 1:_r(U,U.return);var se=U.stateNode;if(typeof se.componentWillUnmount=="function"){d=U,a=U.return;try{r=d,se.props=r.memoizedProps,se.state=r.memoizedState,se.componentWillUnmount()}catch(oe){ze(d,a,oe)}}break;case 5:_r(U,U.return);break;case 22:if(U.memoizedState!==null){bm(K);continue}}ee!==null?(ee.return=U,ne=ee):bm(K)}H=H.sibling}e:for(H=null,K=t;;){if(K.tag===5){if(H===null){H=K;try{f=K.stateNode,L?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(_=K.stateNode,E=K.memoizedProps.style,w=E!=null&&E.hasOwnProperty("display")?E.display:null,_.style.display=go("display",w))}catch(oe){ze(t,t.return,oe)}}}else if(K.tag===6){if(H===null)try{K.stateNode.nodeValue=L?"":K.memoizedProps}catch(oe){ze(t,t.return,oe)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===t)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===t)break e;for(;K.sibling===null;){if(K.return===null||K.return===t)break e;H===K&&(H=null),K=K.return}H===K&&(H=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:cn(r,t),bn(t),d&4&&ym(t);break;case 21:break;default:cn(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(mm(a)){var d=a;break e}a=a.return}throw Error(s(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(zt(f,""),d.flags&=-33);var y=pm(t);Rc(t,y,f);break;case 3:case 4:var w=d.stateNode.containerInfo,_=pm(t);Cc(t,_,w);break;default:throw Error(s(161))}}catch(E){ze(t,t.return,E)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Jx(t,r,a){ne=t,xm(t)}function xm(t,r,a){for(var d=(t.mode&1)!==0;ne!==null;){var f=ne,y=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||oa;if(!w){var _=f.alternate,E=_!==null&&_.memoizedState!==null||yt;_=oa;var L=yt;if(oa=w,(yt=E)&&!L)for(ne=f;ne!==null;)w=ne,E=w.child,w.tag===22&&w.memoizedState!==null?jm(f):E!==null?(E.return=w,ne=E):jm(f);for(;y!==null;)ne=y,xm(y),y=y.sibling;ne=f,oa=_,yt=L}wm(t)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,ne=y):wm(t)}}function wm(t){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:yt||aa(5,r);break;case 1:var d=r.stateNode;if(r.flags&4&&!yt)if(a===null)d.componentDidMount();else{var f=r.elementType===r.type?a.memoizedProps:an(r.type,a.memoizedProps);d.componentDidUpdate(f,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=r.updateQueue;y!==null&&bf(r,y,d);break;case 3:var w=r.updateQueue;if(w!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}bf(r,w,a)}break;case 5:var _=r.stateNode;if(a===null&&r.flags&4){a=_;var E=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&a.focus();break;case"img":E.src&&(a.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var L=r.alternate;if(L!==null){var H=L.memoizedState;if(H!==null){var K=H.dehydrated;K!==null&&hi(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}yt||r.flags&512&&Pc(r)}catch(U){ze(r,r.return,U)}}if(r===t){ne=null;break}if(a=r.sibling,a!==null){a.return=r.return,ne=a;break}ne=r.return}}function bm(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ne=a;break}ne=r.return}}function jm(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{aa(4,r)}catch(E){ze(r,a,E)}break;case 1:var d=r.stateNode;if(typeof d.componentDidMount=="function"){var f=r.return;try{d.componentDidMount()}catch(E){ze(r,f,E)}}var y=r.return;try{Pc(r)}catch(E){ze(r,y,E)}break;case 5:var w=r.return;try{Pc(r)}catch(E){ze(r,w,E)}}}catch(E){ze(r,r.return,E)}if(r===t){ne=null;break}var _=r.sibling;if(_!==null){_.return=r.return,ne=_;break}ne=r.return}}var Qx=Math.ceil,la=T.ReactCurrentDispatcher,Ac=T.ReactCurrentOwner,Jt=T.ReactCurrentBatchConfig,Ee=0,ot=null,Je=null,dt=0,Vt=0,kr=ss(0),tt=0,Di=null,Ms=0,ca=0,Oc=0,Li=null,Pt=null,Ic=0,Sr=1/0,Mn=null,ua=!1,Dc=null,cs=null,da=!1,us=null,ha=0,Mi=0,Lc=null,fa=-1,ma=0;function _t(){return(Ee&6)!==0?Ge():fa!==-1?fa:fa=Ge()}function ds(t){return(t.mode&1)===0?1:(Ee&2)!==0&&dt!==0?dt&-dt:Ix.transition!==null?(ma===0&&(ma=mh()),ma):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:Nh(t.type)),t)}function un(t,r,a,d){if(50<Mi)throw Mi=0,Lc=null,Error(s(185));ai(t,a,d),((Ee&2)===0||t!==ot)&&(t===ot&&((Ee&2)===0&&(ca|=a),tt===4&&hs(t,dt)),Ct(t,d),a===1&&Ee===0&&(r.mode&1)===0&&(Sr=Ge()+500,Uo&&is()))}function Ct(t,r){var a=t.callbackNode;Iv(t,r);var d=No(t,t===ot?dt:0);if(d===0)a!==null&&dh(a),t.callbackNode=null,t.callbackPriority=0;else if(r=d&-d,t.callbackPriority!==r){if(a!=null&&dh(a),r===1)t.tag===0?Ox(_m.bind(null,t)):cf(_m.bind(null,t)),Px(function(){(Ee&6)===0&&is()}),a=null;else{switch(ph(d)){case 1:a=pl;break;case 4:a=hh;break;case 16:a=xo;break;case 536870912:a=fh;break;default:a=xo}a=Am(a,Nm.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function Nm(t,r){if(fa=-1,ma=0,(Ee&6)!==0)throw Error(s(327));var a=t.callbackNode;if(Er()&&t.callbackNode!==a)return null;var d=No(t,t===ot?dt:0);if(d===0)return null;if((d&30)!==0||(d&t.expiredLanes)!==0||r)r=pa(t,d);else{r=d;var f=Ee;Ee|=2;var y=Sm();(ot!==t||dt!==r)&&(Mn=null,Sr=Ge()+500,Vs(t,r));do try{ew();break}catch(_){km(t,_)}while(!0);ec(),la.current=y,Ee=f,Je!==null?r=0:(ot=null,dt=0,r=tt)}if(r!==0){if(r===2&&(f=gl(t),f!==0&&(d=f,r=Mc(t,f))),r===1)throw a=Di,Vs(t,0),hs(t,d),Ct(t,Ge()),a;if(r===6)hs(t,d);else{if(f=t.current.alternate,(d&30)===0&&!Xx(f)&&(r=pa(t,d),r===2&&(y=gl(t),y!==0&&(d=y,r=Mc(t,y))),r===1))throw a=Di,Vs(t,0),hs(t,d),Ct(t,Ge()),a;switch(t.finishedWork=f,t.finishedLanes=d,r){case 0:case 1:throw Error(s(345));case 2:Bs(t,Pt,Mn);break;case 3:if(hs(t,d),(d&130023424)===d&&(r=Ic+500-Ge(),10<r)){if(No(t,0)!==0)break;if(f=t.suspendedLanes,(f&d)!==d){_t(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=zl(Bs.bind(null,t,Pt,Mn),r);break}Bs(t,Pt,Mn);break;case 4:if(hs(t,d),(d&4194240)===d)break;for(r=t.eventTimes,f=-1;0<d;){var w=31-sn(d);y=1<<w,w=r[w],w>f&&(f=w),d&=~y}if(d=f,d=Ge()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Qx(d/1960))-d,10<d){t.timeoutHandle=zl(Bs.bind(null,t,Pt,Mn),d);break}Bs(t,Pt,Mn);break;case 5:Bs(t,Pt,Mn);break;default:throw Error(s(329))}}}return Ct(t,Ge()),t.callbackNode===a?Nm.bind(null,t):null}function Mc(t,r){var a=Li;return t.current.memoizedState.isDehydrated&&(Vs(t,r).flags|=256),t=pa(t,r),t!==2&&(r=Pt,Pt=a,r!==null&&$c(r)),t}function $c(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function Xx(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var f=a[d],y=f.getSnapshot;f=f.value;try{if(!rn(y(),f))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hs(t,r){for(r&=~Oc,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-sn(r),d=1<<a;t[a]=-1,r&=~d}}function _m(t){if((Ee&6)!==0)throw Error(s(327));Er();var r=No(t,0);if((r&1)===0)return Ct(t,Ge()),null;var a=pa(t,r);if(t.tag!==0&&a===2){var d=gl(t);d!==0&&(r=d,a=Mc(t,d))}if(a===1)throw a=Di,Vs(t,0),hs(t,r),Ct(t,Ge()),a;if(a===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Bs(t,Pt,Mn),Ct(t,Ge()),null}function Vc(t,r){var a=Ee;Ee|=1;try{return t(r)}finally{Ee=a,Ee===0&&(Sr=Ge()+500,Uo&&is())}}function $s(t){us!==null&&us.tag===0&&(Ee&6)===0&&Er();var r=Ee;Ee|=1;var a=Jt.transition,d=Ce;try{if(Jt.transition=null,Ce=1,t)return t()}finally{Ce=d,Jt.transition=a,Ee=r,(Ee&6)===0&&is()}}function Bc(){Vt=kr.current,De(kr)}function Vs(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,Tx(a)),Je!==null)for(a=Je.return;a!==null;){var d=a;switch(Yl(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Bo();break;case 3:jr(),De(St),De(mt),lc();break;case 5:oc(d);break;case 4:jr();break;case 13:De(Ve);break;case 19:De(Ve);break;case 10:tc(d.type._context);break;case 22:case 23:Bc()}a=a.return}if(ot=t,Je=t=fs(t.current,null),dt=Vt=r,tt=0,Di=null,Oc=ca=Ms=0,Pt=Li=null,Is!==null){for(r=0;r<Is.length;r++)if(a=Is[r],d=a.interleaved,d!==null){a.interleaved=null;var f=d.next,y=a.pending;if(y!==null){var w=y.next;y.next=f,d.next=w}a.pending=d}Is=null}return t}function km(t,r){do{var a=Je;try{if(ec(),Xo.current=na,Zo){for(var d=Be.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Zo=!1}if(Ls=0,it=et=Be=null,Pi=!1,Ci=0,Ac.current=null,a===null||a.return===null){tt=1,Di=r,Je=null;break}e:{var y=t,w=a.return,_=a,E=r;if(r=dt,_.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var L=E,H=_,K=H.tag;if((H.mode&1)===0&&(K===0||K===11||K===15)){var U=H.alternate;U?(H.updateQueue=U.updateQueue,H.memoizedState=U.memoizedState,H.lanes=U.lanes):(H.updateQueue=null,H.memoizedState=null)}var ee=Jf(w);if(ee!==null){ee.flags&=-257,Qf(ee,w,_,y,r),ee.mode&1&&Yf(y,L,r),r=ee,E=L;var se=r.updateQueue;if(se===null){var oe=new Set;oe.add(E),r.updateQueue=oe}else se.add(E);break e}else{if((r&1)===0){Yf(y,L,r),Fc();break e}E=Error(s(426))}}else if(Me&&_.mode&1){var Ke=Jf(w);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),Qf(Ke,w,_,y,r),Xl(Nr(E,_));break e}}y=E=Nr(E,_),tt!==4&&(tt=2),Li===null?Li=[y]:Li.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,r&=-r,y.lanes|=r;var O=Kf(y,E,r);wf(y,O);break e;case 1:_=E;var P=y.type,I=y.stateNode;if((y.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(cs===null||!cs.has(I)))){y.flags|=65536,r&=-r,y.lanes|=r;var q=qf(y,_,r);wf(y,q);break e}}y=y.return}while(y!==null)}Tm(a)}catch(ae){r=ae,Je===a&&a!==null&&(Je=a=a.return);continue}break}while(!0)}function Sm(){var t=la.current;return la.current=na,t===null?na:t}function Fc(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||(Ms&268435455)===0&&(ca&268435455)===0||hs(ot,dt)}function pa(t,r){var a=Ee;Ee|=2;var d=Sm();(ot!==t||dt!==r)&&(Mn=null,Vs(t,r));do try{Zx();break}catch(f){km(t,f)}while(!0);if(ec(),Ee=a,la.current=d,Je!==null)throw Error(s(261));return ot=null,dt=0,tt}function Zx(){for(;Je!==null;)Em(Je)}function ew(){for(;Je!==null&&!kv();)Em(Je)}function Em(t){var r=Rm(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,r===null?Tm(t):Je=r,Ac.current=null}function Tm(t){var r=t;do{var a=r.alternate;if(t=r.return,(r.flags&32768)===0){if(a=Gx(a,r,Vt),a!==null){Je=a;return}}else{if(a=Kx(a,r),a!==null){a.flags&=32767,Je=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Je=null;return}}if(r=r.sibling,r!==null){Je=r;return}Je=r=t}while(r!==null);tt===0&&(tt=5)}function Bs(t,r,a){var d=Ce,f=Jt.transition;try{Jt.transition=null,Ce=1,tw(t,r,a,d)}finally{Jt.transition=f,Ce=d}return null}function tw(t,r,a,d){do Er();while(us!==null);if((Ee&6)!==0)throw Error(s(327));a=t.finishedWork;var f=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var y=a.lanes|a.childLanes;if(Dv(t,y),t===ot&&(Je=ot=null,dt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||da||(da=!0,Am(xo,function(){return Er(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Jt.transition,Jt.transition=null;var w=Ce;Ce=1;var _=Ee;Ee|=4,Ac.current=null,Yx(t,a),vm(a,t),bx(Fl),So=!!Bl,Fl=Bl=null,t.current=a,Jx(a),Sv(),Ee=_,Ce=w,Jt.transition=y}else t.current=a;if(da&&(da=!1,us=t,ha=f),y=t.pendingLanes,y===0&&(cs=null),Pv(a.stateNode),Ct(t,Ge()),r!==null)for(d=t.onRecoverableError,a=0;a<r.length;a++)f=r[a],d(f.value,{componentStack:f.stack,digest:f.digest});if(ua)throw ua=!1,t=Dc,Dc=null,t;return(ha&1)!==0&&t.tag!==0&&Er(),y=t.pendingLanes,(y&1)!==0?t===Lc?Mi++:(Mi=0,Lc=t):Mi=0,is(),null}function Er(){if(us!==null){var t=ph(ha),r=Jt.transition,a=Ce;try{if(Jt.transition=null,Ce=16>t?16:t,us===null)var d=!1;else{if(t=us,us=null,ha=0,(Ee&6)!==0)throw Error(s(331));var f=Ee;for(Ee|=4,ne=t.current;ne!==null;){var y=ne,w=y.child;if((ne.flags&16)!==0){var _=y.deletions;if(_!==null){for(var E=0;E<_.length;E++){var L=_[E];for(ne=L;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:Ii(8,H,y)}var K=H.child;if(K!==null)K.return=H,ne=K;else for(;ne!==null;){H=ne;var U=H.sibling,ee=H.return;if(fm(H),H===L){ne=null;break}if(U!==null){U.return=ee,ne=U;break}ne=ee}}}var se=y.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var Ke=oe.sibling;oe.sibling=null,oe=Ke}while(oe!==null)}}ne=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,ne=w;else e:for(;ne!==null;){if(y=ne,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ii(9,y,y.return)}var O=y.sibling;if(O!==null){O.return=y.return,ne=O;break e}ne=y.return}}var P=t.current;for(ne=P;ne!==null;){w=ne;var I=w.child;if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,ne=I;else e:for(w=P;ne!==null;){if(_=ne,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:aa(9,_)}}catch(ae){ze(_,_.return,ae)}if(_===w){ne=null;break e}var q=_.sibling;if(q!==null){q.return=_.return,ne=q;break e}ne=_.return}}if(Ee=f,is(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(wo,t)}catch{}d=!0}return d}finally{Ce=a,Jt.transition=r}}return!1}function Pm(t,r,a){r=Nr(a,r),r=Kf(t,r,1),t=as(t,r,1),r=_t(),t!==null&&(ai(t,1,r),Ct(t,r))}function ze(t,r,a){if(t.tag===3)Pm(t,t,a);else for(;r!==null;){if(r.tag===3){Pm(r,t,a);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(cs===null||!cs.has(d))){t=Nr(a,t),t=qf(r,t,1),r=as(r,t,1),t=_t(),r!==null&&(ai(r,1,t),Ct(r,t));break}}r=r.return}}function nw(t,r,a){var d=t.pingCache;d!==null&&d.delete(r),r=_t(),t.pingedLanes|=t.suspendedLanes&a,ot===t&&(dt&a)===a&&(tt===4||tt===3&&(dt&130023424)===dt&&500>Ge()-Ic?Vs(t,0):Oc|=a),Ct(t,r)}function Cm(t,r){r===0&&((t.mode&1)===0?r=1:(r=jo,jo<<=1,(jo&130023424)===0&&(jo=4194304)));var a=_t();t=In(t,r),t!==null&&(ai(t,r,a),Ct(t,a))}function sw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Cm(t,a)}function rw(t,r){var a=0;switch(t.tag){case 13:var d=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:d=t.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(r),Cm(t,a)}var Rm;Rm=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||St.current)Tt=!0;else{if((t.lanes&a)===0&&(r.flags&128)===0)return Tt=!1,Hx(t,r,a);Tt=(t.flags&131072)!==0}else Tt=!1,Me&&(r.flags&1048576)!==0&&uf(r,Wo,r.index);switch(r.lanes=0,r.tag){case 2:var d=r.type;ia(t,r),t=r.pendingProps;var f=pr(r,mt.current);br(r,a),f=dc(null,r,d,t,f,a);var y=hc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Et(d)?(y=!0,Fo(r)):y=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,rc(r),f.updater=sa,r.stateNode=f,f._reactInternals=r,vc(r,d,t,a),r=jc(null,r,d,!0,y,a)):(r.tag=0,Me&&y&&ql(r),Nt(null,r,f,a),r=r.child),r;case 16:d=r.elementType;e:{switch(ia(t,r),t=r.pendingProps,f=d._init,d=f(d._payload),r.type=d,f=r.tag=ow(d),t=an(d,t),f){case 0:r=bc(null,r,d,t,a);break e;case 1:r=sm(null,r,d,t,a);break e;case 11:r=Xf(null,r,d,t,a);break e;case 14:r=Zf(null,r,d,an(d.type,t),a);break e}throw Error(s(306,d,""))}return r;case 0:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:an(d,f),bc(t,r,d,f,a);case 1:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:an(d,f),sm(t,r,d,f,a);case 3:e:{if(rm(r),t===null)throw Error(s(387));d=r.pendingProps,y=r.memoizedState,f=y.element,xf(t,r),Jo(r,d,null,a);var w=r.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){f=Nr(Error(s(423)),r),r=im(t,r,d,a,f);break e}else if(d!==f){f=Nr(Error(s(424)),r),r=im(t,r,d,a,f);break e}else for($t=ns(r.stateNode.containerInfo.firstChild),Mt=r,Me=!0,on=null,a=yf(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vr(),d===f){r=Ln(t,r,a);break e}Nt(t,r,d,a)}r=r.child}return r;case 5:return jf(r),t===null&&Ql(r),d=r.type,f=r.pendingProps,y=t!==null?t.memoizedProps:null,w=f.children,Ul(d,f)?w=null:y!==null&&Ul(d,y)&&(r.flags|=32),nm(t,r),Nt(t,r,w,a),r.child;case 6:return t===null&&Ql(r),null;case 13:return om(t,r,a);case 4:return ic(r,r.stateNode.containerInfo),d=r.pendingProps,t===null?r.child=xr(r,null,d,a):Nt(t,r,d,a),r.child;case 11:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:an(d,f),Xf(t,r,d,f,a);case 7:return Nt(t,r,r.pendingProps,a),r.child;case 8:return Nt(t,r,r.pendingProps.children,a),r.child;case 12:return Nt(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(d=r.type._context,f=r.pendingProps,y=r.memoizedProps,w=f.value,Re(Ko,d._currentValue),d._currentValue=w,y!==null)if(rn(y.value,w)){if(y.children===f.children&&!St.current){r=Ln(t,r,a);break e}}else for(y=r.child,y!==null&&(y.return=r);y!==null;){var _=y.dependencies;if(_!==null){w=y.child;for(var E=_.firstContext;E!==null;){if(E.context===d){if(y.tag===1){E=Dn(-1,a&-a),E.tag=2;var L=y.updateQueue;if(L!==null){L=L.shared;var H=L.pending;H===null?E.next=E:(E.next=H.next,H.next=E),L.pending=E}}y.lanes|=a,E=y.alternate,E!==null&&(E.lanes|=a),nc(y.return,a,r),_.lanes|=a;break}E=E.next}}else if(y.tag===10)w=y.type===r.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(s(341));w.lanes|=a,_=w.alternate,_!==null&&(_.lanes|=a),nc(w,a,r),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===r){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Nt(t,r,f.children,a),r=r.child}return r;case 9:return f=r.type,d=r.pendingProps.children,br(r,a),f=qt(f),d=d(f),r.flags|=1,Nt(t,r,d,a),r.child;case 14:return d=r.type,f=an(d,r.pendingProps),f=an(d.type,f),Zf(t,r,d,f,a);case 15:return em(t,r,r.type,r.pendingProps,a);case 17:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:an(d,f),ia(t,r),r.tag=1,Et(d)?(t=!0,Fo(r)):t=!1,br(r,a),Hf(r,d,f),vc(r,d,f,a),jc(null,r,d,!0,t,a);case 19:return lm(t,r,a);case 22:return tm(t,r,a)}throw Error(s(156,r.tag))};function Am(t,r){return uh(t,r)}function iw(t,r,a,d){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,r,a,d){return new iw(t,r,a,d)}function Uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ow(t){if(typeof t=="function")return Uc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===Le)return 14}return 2}function fs(t,r){var a=t.alternate;return a===null?(a=Qt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function ga(t,r,a,d,f,y){var w=2;if(d=t,typeof t=="function")Uc(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case G:return Fs(a.children,f,y,r);case z:w=8,f|=8;break;case re:return t=Qt(12,a,r,f|2),t.elementType=re,t.lanes=y,t;case Q:return t=Qt(13,a,r,f),t.elementType=Q,t.lanes=y,t;case xe:return t=Qt(19,a,r,f),t.elementType=xe,t.lanes=y,t;case ie:return ya(a,f,y,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:w=10;break e;case Oe:w=9;break e;case M:w=11;break e;case Le:w=14;break e;case ge:w=16,d=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return r=Qt(w,a,r,f),r.elementType=t,r.type=d,r.lanes=y,r}function Fs(t,r,a,d){return t=Qt(7,t,d,r),t.lanes=a,t}function ya(t,r,a,d){return t=Qt(22,t,d,r),t.elementType=ie,t.lanes=a,t.stateNode={isHidden:!1},t}function zc(t,r,a){return t=Qt(6,t,null,r),t.lanes=a,t}function Wc(t,r,a){return r=Qt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function aw(t,r,a,d,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Hc(t,r,a,d,f,y,w,_,E){return t=new aw(t,r,a,_,E),r===1?(r=1,y===!0&&(r|=8)):r=0,y=Qt(3,null,null,r),t.current=y,y.stateNode=t,y.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(y),t}function lw(t,r,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:d==null?null:""+d,children:t,containerInfo:r,implementation:a}}function Om(t){if(!t)return rs;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error(s(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Et(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(t.tag===1){var a=t.type;if(Et(a))return af(t,a,r)}return r}function Im(t,r,a,d,f,y,w,_,E){return t=Hc(a,d,!0,t,f,y,w,_,E),t.context=Om(null),a=t.current,d=_t(),f=ds(a),y=Dn(d,f),y.callback=r??null,as(a,y,f),t.current.lanes=f,ai(t,f,d),Ct(t,d),t}function va(t,r,a,d){var f=r.current,y=_t(),w=ds(f);return a=Om(a),r.context===null?r.context=a:r.pendingContext=a,r=Dn(y,w),r.payload={element:t},d=d===void 0?null:d,d!==null&&(r.callback=d),t=as(f,r,w),t!==null&&(un(t,f,w,y),Yo(t,f,w)),w}function xa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dm(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Gc(t,r){Dm(t,r),(t=t.alternate)&&Dm(t,r)}function cw(){return null}var Lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}wa.prototype.render=Kc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));va(t,r,null,null)},wa.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;$s(function(){va(null,t,null,null)}),r[Cn]=null}};function wa(t){this._internalRoot=t}wa.prototype.unstable_scheduleHydration=function(t){if(t){var r=vh();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Zn.length&&r!==0&&r<Zn[a].priority;a++);Zn.splice(a,0,t),a===0&&bh(t)}};function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ba(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mm(){}function uw(t,r,a,d,f){if(f){if(typeof d=="function"){var y=d;d=function(){var L=xa(w);y.call(L)}}var w=Im(r,d,t,0,null,!1,!1,"",Mm);return t._reactRootContainer=w,t[Cn]=w.current,bi(t.nodeType===8?t.parentNode:t),$s(),w}for(;f=t.lastChild;)t.removeChild(f);if(typeof d=="function"){var _=d;d=function(){var L=xa(E);_.call(L)}}var E=Hc(t,0,!1,null,null,!1,!1,"",Mm);return t._reactRootContainer=E,t[Cn]=E.current,bi(t.nodeType===8?t.parentNode:t),$s(function(){va(r,E,a,d)}),E}function ja(t,r,a,d,f){var y=a._reactRootContainer;if(y){var w=y;if(typeof f=="function"){var _=f;f=function(){var E=xa(w);_.call(E)}}va(r,w,t,f)}else w=uw(a,r,t,f,d);return xa(w)}gh=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=oi(r.pendingLanes);a!==0&&(vl(r,a|1),Ct(r,Ge()),(Ee&6)===0&&(Sr=Ge()+500,is()))}break;case 13:$s(function(){var d=In(t,1);if(d!==null){var f=_t();un(d,t,1,f)}}),Gc(t,1)}},xl=function(t){if(t.tag===13){var r=In(t,134217728);if(r!==null){var a=_t();un(r,t,134217728,a)}Gc(t,134217728)}},yh=function(t){if(t.tag===13){var r=ds(t),a=In(t,r);if(a!==null){var d=_t();un(a,t,r,d)}Gc(t,r)}},vh=function(){return Ce},xh=function(t,r){var a=Ce;try{return Ce=t,r()}finally{Ce=a}},si=function(t,r,a){switch(r){case"input":if(En(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var d=a[r];if(d!==t&&d.form===t.form){var f=Vo(d);if(!f)throw Error(s(90));Sn(d),En(d,f)}}}break;case"textarea":mo(t,a);break;case"select":r=a.value,r!=null&&zn(t,!!a.multiple,r,!1)}},Ze=Vc,ft=$s;var dw={usingClientEntryPoint:!1,Events:[_i,fr,Vo,je,He,Vc]},$i={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hw={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lh(t),t===null?null:t.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Na.isDisabled&&Na.supportsFiber)try{wo=Na.inject(hw),yn=Na}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dw,Rt.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(r))throw Error(s(200));return lw(t,r,null,a)},Rt.createRoot=function(t,r){if(!qc(t))throw Error(s(299));var a=!1,d="",f=Lm;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Hc(t,1,!1,null,null,a,!1,d,f),t[Cn]=r.current,bi(t.nodeType===8?t.parentNode:t),new Kc(r)},Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=lh(r),t=t===null?null:t.stateNode,t},Rt.flushSync=function(t){return $s(t)},Rt.hydrate=function(t,r,a){if(!ba(r))throw Error(s(200));return ja(null,t,r,!0,a)},Rt.hydrateRoot=function(t,r,a){if(!qc(t))throw Error(s(405));var d=a!=null&&a.hydratedSources||null,f=!1,y="",w=Lm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),r=Im(r,null,t,1,a??null,f,!1,y,w),t[Cn]=r.current,bi(t),d)for(t=0;t<d.length;t++)a=d[t],f=a._getVersion,f=f(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,f]:r.mutableSourceEagerHydrationData.push(a,f);return new wa(r)},Rt.render=function(t,r,a){if(!ba(r))throw Error(s(200));return ja(null,t,r,!1,a)},Rt.unmountComponentAtNode=function(t){if(!ba(t))throw Error(s(40));return t._reactRootContainer?($s(function(){ja(null,null,t,!1,function(){t._reactRootContainer=null,t[Cn]=null})}),!0):!1},Rt.unstable_batchedUpdates=Vc,Rt.unstable_renderSubtreeIntoContainer=function(t,r,a,d){if(!ba(a))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return ja(t,r,a,!1,d)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var Hm;function U0(){if(Hm)return Qc.exports;Hm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qc.exports=bw(),Qc.exports}var Gm;function jw(){if(Gm)return _a;Gm=1;var n=U0();return _a.createRoot=n.createRoot,_a.hydrateRoot=n.hydrateRoot,_a}var Nw=jw(),A=ud();const J=cd(A);var _w=U0();const kw=cd(_w);function Sw(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}const Ew=n=>{switch(n){case"success":return Cw;case"info":return Aw;case"warning":return Rw;case"error":return Ow;default:return null}},Tw=Array(12).fill(0),Pw=({visible:n,className:e})=>J.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},J.createElement("div",{className:"sonner-spinner"},Tw.map((s,i)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Cw=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Rw=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Aw=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ow=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Iw=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Dw=()=>{const[n,e]=J.useState(document.hidden);return J.useEffect(()=>{const s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),n};let ku=1;class Lw{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const s=this.subscribers.indexOf(e);this.subscribers.splice(s,1)}),this.publish=e=>{this.subscribers.forEach(s=>s(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var s;const{message:i,...l}=e,c=typeof e?.id=="number"||((s=e.id)==null?void 0:s.length)>0?e.id:ku++,u=this.toasts.find(m=>m.id===c),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(m=>m.id===c?(this.publish({...m,...e,id:c,title:i}),{...m,...e,id:c,dismissible:h,title:i}):m):this.addToast({title:i,...l,dismissible:h,id:c}),c},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:e,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(i=>i({id:s.id,dismiss:!0}))}),e),this.message=(e,s)=>this.create({...s,message:e}),this.error=(e,s)=>this.create({...s,message:e,type:"error"}),this.success=(e,s)=>this.create({...s,type:"success",message:e}),this.info=(e,s)=>this.create({...s,type:"info",message:e}),this.warning=(e,s)=>this.create({...s,type:"warning",message:e}),this.loading=(e,s)=>this.create({...s,type:"loading",message:e}),this.promise=(e,s)=>{if(!s)return;let i;s.loading!==void 0&&(i=this.create({...s,promise:e,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const l=Promise.resolve(e instanceof Function?e():e);let c=i!==void 0,u;const h=l.then(async p=>{if(u=["resolve",p],J.isValidElement(p))c=!1,this.create({id:i,type:"default",message:p});else if($w(p)&&!p.ok){c=!1;const v=typeof s.error=="function"?await s.error(`HTTP error! status: ${p.status}`):s.error,x=typeof s.description=="function"?await s.description(`HTTP error! status: ${p.status}`):s.description,j=typeof v=="object"&&!J.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:x,...j})}else if(p instanceof Error){c=!1;const v=typeof s.error=="function"?await s.error(p):s.error,x=typeof s.description=="function"?await s.description(p):s.description,j=typeof v=="object"&&!J.isValidElement(v)?v:{message:v};this.create({id:i,type:"error",description:x,...j})}else if(s.success!==void 0){c=!1;const v=typeof s.success=="function"?await s.success(p):s.success,x=typeof s.description=="function"?await s.description(p):s.description,j=typeof v=="object"&&!J.isValidElement(v)?v:{message:v};this.create({id:i,type:"success",description:x,...j})}}).catch(async p=>{if(u=["reject",p],s.error!==void 0){c=!1;const g=typeof s.error=="function"?await s.error(p):s.error,v=typeof s.description=="function"?await s.description(p):s.description,b=typeof g=="object"&&!J.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...b})}}).finally(()=>{c&&(this.dismiss(i),i=void 0),s.finally==null||s.finally.call(s)}),m=()=>new Promise((p,g)=>h.then(()=>u[0]==="reject"?g(u[1]):p(u[1])).catch(g));return typeof i!="string"&&typeof i!="number"?{unwrap:m}:Object.assign(i,{unwrap:m})},this.custom=(e,s)=>{const i=s?.id||ku++;return this.create({jsx:e(i),id:i,...s}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const At=new Lw,Mw=(n,e)=>{const s=e?.id||ku++;return At.addToast({title:n,...e,id:s}),s},$w=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Vw=Mw,Bw=()=>At.toasts,Fw=()=>At.getActiveToasts(),X=Object.assign(Vw,{success:At.success,info:At.info,warning:At.warning,error:At.error,custom:At.custom,message:At.message,promise:At.promise,dismiss:At.dismiss,loading:At.loading},{getHistory:Bw,getToasts:Fw});Sw("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ka(n){return n.label!==void 0}const Uw=3,zw="24px",Ww="16px",Km=4e3,Hw=356,Gw=14,Kw=45,qw=200;function jn(...n){return n.filter(Boolean).join(" ")}function Yw(n){const[e,s]=n.split("-"),i=[];return e&&i.push(e),s&&i.push(s),i}const Jw=n=>{var e,s,i,l,c,u,h,m,p;const{invert:g,toast:v,unstyled:x,interacting:b,setHeights:j,visibleToasts:N,heights:k,index:C,toasts:D,expanded:S,removeToast:T,defaultRichColors:$,closeButton:B,style:G,cancelButtonStyle:z,actionButtonStyle:re,className:_e="",descriptionClassName:Oe="",duration:M,position:Q,gap:xe,expandByDefault:Le,classNames:ge,icons:ie,closeButtonAriaLabel:W="Close toast"}=n,[te,Y]=J.useState(null),[R,F]=J.useState(null),[Z,ce]=J.useState(!1),[de,be]=J.useState(!1),[Se,he]=J.useState(!1),[Pe,st]=J.useState(!1),[kn,Sn]=J.useState(!1),[sr,_s]=J.useState(0),[fo,Zr]=J.useState(0),En=J.useRef(v.duration||M||Km),ei=J.useRef(null),It=J.useRef(null),ks=C===0,zn=C+1<=N,lt=v.type,Tn=v.dismissible!==!1,mo=v.className||"",po=v.descriptionClassName||"",Ss=J.useMemo(()=>k.findIndex(je=>je.toastId===v.id)||0,[k,v.id]),ti=J.useMemo(()=>{var je;return(je=v.closeButton)!=null?je:B},[v.closeButton,B]),Es=J.useMemo(()=>v.duration||M||Km,[v.duration,M]),rr=J.useRef(0),zt=J.useRef(0),Wn=J.useRef(0),Hn=J.useRef(null),[go,yo]=Q.split("-"),vo=J.useMemo(()=>k.reduce((je,He,Ze)=>Ze>=Ss?je:je+He.height,0),[k,Ss]),ir=Dw(),ni=v.invert||g,Ts=lt==="loading";zt.current=J.useMemo(()=>Ss*xe+vo,[Ss,vo]),J.useEffect(()=>{En.current=Es},[Es]),J.useEffect(()=>{ce(!0)},[]),J.useEffect(()=>{const je=It.current;if(je){const He=je.getBoundingClientRect().height;return Zr(He),j(Ze=>[{toastId:v.id,height:He,position:v.position},...Ze]),()=>j(Ze=>Ze.filter(ft=>ft.toastId!==v.id))}},[j,v.id]),J.useLayoutEffect(()=>{if(!Z)return;const je=It.current,He=je.style.height;je.style.height="auto";const Ze=je.getBoundingClientRect().height;je.style.height=He,Zr(Ze),j(ft=>ft.find(Ye=>Ye.toastId===v.id)?ft.map(Ye=>Ye.toastId===v.id?{...Ye,height:Ze}:Ye):[{toastId:v.id,height:Ze,position:v.position},...ft])},[Z,v.title,v.description,j,v.id,v.jsx,v.action,v.cancel]);const Wt=J.useCallback(()=>{be(!0),_s(zt.current),j(je=>je.filter(He=>He.toastId!==v.id)),setTimeout(()=>{T(v)},qw)},[v,T,j,zt]);J.useEffect(()=>{if(v.promise&&lt==="loading"||v.duration===1/0||v.type==="loading")return;let je;return S||b||ir?(()=>{if(Wn.current<rr.current){const ft=new Date().getTime()-rr.current;En.current=En.current-ft}Wn.current=new Date().getTime()})():(()=>{En.current!==1/0&&(rr.current=new Date().getTime(),je=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Wt()},En.current))})(),()=>clearTimeout(je)},[S,b,v,lt,ir,Wt]),J.useEffect(()=>{v.delete&&(Wt(),v.onDismiss==null||v.onDismiss.call(v,v))},[Wt,v.delete]);function si(){var je;if(ie?.loading){var He;return J.createElement("div",{className:jn(ge?.loader,v==null||(He=v.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":lt==="loading"},ie.loading)}return J.createElement(Pw,{className:jn(ge?.loader,v==null||(je=v.classNames)==null?void 0:je.loader),visible:lt==="loading"})}const Gn=v.icon||ie?.[lt]||Ew(lt);var Pn,ri;return J.createElement("li",{tabIndex:0,ref:It,className:jn(_e,mo,ge?.toast,v==null||(e=v.classNames)==null?void 0:e.toast,ge?.default,ge?.[lt],v==null||(s=v.classNames)==null?void 0:s[lt]),"data-sonner-toast":"","data-rich-colors":(Pn=v.richColors)!=null?Pn:$,"data-styled":!(v.jsx||v.unstyled||x),"data-mounted":Z,"data-promise":!!v.promise,"data-swiped":kn,"data-removed":de,"data-visible":zn,"data-y-position":go,"data-x-position":yo,"data-index":C,"data-front":ks,"data-swiping":Se,"data-dismissible":Tn,"data-type":lt,"data-invert":ni,"data-swipe-out":Pe,"data-swipe-direction":R,"data-expanded":!!(S||Le&&Z),"data-testid":v.testId,style:{"--index":C,"--toasts-before":C,"--z-index":D.length-C,"--offset":`${de?sr:zt.current}px`,"--initial-height":Le?"auto":`${fo}px`,...G,...v.style},onDragEnd:()=>{he(!1),Y(null),Hn.current=null},onPointerDown:je=>{je.button!==2&&(Ts||!Tn||(ei.current=new Date,_s(zt.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(he(!0),Hn.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,He,Ze;if(Pe||!Tn)return;Hn.current=null;const ft=Number(((je=It.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Kn=Number(((He=It.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ye=new Date().getTime()-((Ze=ei.current)==null?void 0:Ze.getTime()),rt=te==="x"?ft:Kn,qn=Math.abs(rt)/Ye;if(Math.abs(rt)>=Kw||qn>.11){_s(zt.current),v.onDismiss==null||v.onDismiss.call(v,v),F(te==="x"?ft>0?"right":"left":Kn>0?"down":"up"),Wt(),st(!0);return}else{var ct,Dt;(ct=It.current)==null||ct.style.setProperty("--swipe-amount-x","0px"),(Dt=It.current)==null||Dt.style.setProperty("--swipe-amount-y","0px")}Sn(!1),he(!1),Y(null)},onPointerMove:je=>{var He,Ze,ft;if(!Hn.current||!Tn||((He=window.getSelection())==null?void 0:He.toString().length)>0)return;const Ye=je.clientY-Hn.current.y,rt=je.clientX-Hn.current.x;var qn;const ct=(qn=n.swipeDirections)!=null?qn:Yw(Q);!te&&(Math.abs(rt)>1||Math.abs(Ye)>1)&&Y(Math.abs(rt)>Math.abs(Ye)?"x":"y");let Dt={x:0,y:0};const Yn=Ht=>1/(1.5+Math.abs(Ht)/20);if(te==="y"){if(ct.includes("top")||ct.includes("bottom"))if(ct.includes("top")&&Ye<0||ct.includes("bottom")&&Ye>0)Dt.y=Ye;else{const Ht=Ye*Yn(Ye);Dt.y=Math.abs(Ht)<Math.abs(Ye)?Ht:Ye}}else if(te==="x"&&(ct.includes("left")||ct.includes("right")))if(ct.includes("left")&&rt<0||ct.includes("right")&&rt>0)Dt.x=rt;else{const Ht=rt*Yn(rt);Dt.x=Math.abs(Ht)<Math.abs(rt)?Ht:rt}(Math.abs(Dt.x)>0||Math.abs(Dt.y)>0)&&Sn(!0),(Ze=It.current)==null||Ze.style.setProperty("--swipe-amount-x",`${Dt.x}px`),(ft=It.current)==null||ft.style.setProperty("--swipe-amount-y",`${Dt.y}px`)}},ti&&!v.jsx&&lt!=="loading"?J.createElement("button",{"aria-label":W,"data-disabled":Ts,"data-close-button":!0,onClick:Ts||!Tn?()=>{}:()=>{Wt(),v.onDismiss==null||v.onDismiss.call(v,v)},className:jn(ge?.closeButton,v==null||(i=v.classNames)==null?void 0:i.closeButton)},(ri=ie?.close)!=null?ri:Iw):null,(lt||v.icon||v.promise)&&v.icon!==null&&(ie?.[lt]!==null||v.icon)?J.createElement("div",{"data-icon":"",className:jn(ge?.icon,v==null||(l=v.classNames)==null?void 0:l.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||si():null,v.type!=="loading"?Gn:null):null,J.createElement("div",{"data-content":"",className:jn(ge?.content,v==null||(c=v.classNames)==null?void 0:c.content)},J.createElement("div",{"data-title":"",className:jn(ge?.title,v==null||(u=v.classNames)==null?void 0:u.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?J.createElement("div",{"data-description":"",className:jn(Oe,po,ge?.description,v==null||(h=v.classNames)==null?void 0:h.description)},typeof v.description=="function"?v.description():v.description):null),J.isValidElement(v.cancel)?v.cancel:v.cancel&&ka(v.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||z,onClick:je=>{ka(v.cancel)&&Tn&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,je),Wt())},className:jn(ge?.cancelButton,v==null||(m=v.classNames)==null?void 0:m.cancelButton)},v.cancel.label):null,J.isValidElement(v.action)?v.action:v.action&&ka(v.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||re,onClick:je=>{ka(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,je),!je.defaultPrevented&&Wt())},className:jn(ge?.actionButton,v==null||(p=v.classNames)==null?void 0:p.actionButton)},v.action.label):null)};function qm(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Qw(n,e){const s={};return[n,e].forEach((i,l)=>{const c=l===1,u=c?"--mobile-offset":"--offset",h=c?Ww:zw;function m(p){["top","right","bottom","left"].forEach(g=>{s[`${u}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?m(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?s[`${u}-${p}`]=h:s[`${u}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):m(h)}),s}const Ba=J.forwardRef(function(e,s){const{id:i,invert:l,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:m,className:p,offset:g,mobileOffset:v,theme:x="light",richColors:b,duration:j,style:N,visibleToasts:k=Uw,toastOptions:C,dir:D=qm(),gap:S=Gw,icons:T,containerAriaLabel:$="Notifications"}=e,[B,G]=J.useState([]),z=J.useMemo(()=>i?B.filter(Z=>Z.toasterId===i):B.filter(Z=>!Z.toasterId),[B,i]),re=J.useMemo(()=>Array.from(new Set([c].concat(z.filter(Z=>Z.position).map(Z=>Z.position)))),[z,c]),[_e,Oe]=J.useState([]),[M,Q]=J.useState(!1),[xe,Le]=J.useState(!1),[ge,ie]=J.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=J.useRef(null),te=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),Y=J.useRef(null),R=J.useRef(!1),F=J.useCallback(Z=>{G(ce=>{var de;return(de=ce.find(be=>be.id===Z.id))!=null&&de.delete||At.dismiss(Z.id),ce.filter(({id:be})=>be!==Z.id)})},[]);return J.useEffect(()=>At.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{G(ce=>ce.map(de=>de.id===Z.id?{...de,delete:!0}:de))});return}setTimeout(()=>{kw.flushSync(()=>{G(ce=>{const de=ce.findIndex(be=>be.id===Z.id);return de!==-1?[...ce.slice(0,de),{...ce[de],...Z},...ce.slice(de+1)]:[Z,...ce]})})})}),[B]),J.useEffect(()=>{if(x!=="system"){ie(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ce})=>{ie(ce?"dark":"light")})}catch{Z.addListener(({matches:de})=>{try{ie(de?"dark":"light")}catch(be){console.error(be)}})}},[x]),J.useEffect(()=>{B.length<=1&&Q(!1)},[B]),J.useEffect(()=>{const Z=ce=>{var de;if(u.every(he=>ce[he]||ce.code===he)){var Se;Q(!0),(Se=W.current)==null||Se.focus()}ce.code==="Escape"&&(document.activeElement===W.current||(de=W.current)!=null&&de.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[u]),J.useEffect(()=>{if(W.current)return()=>{Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null,R.current=!1)}},[W.current]),J.createElement("section",{ref:s,"aria-label":`${$} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},re.map((Z,ce)=>{var de;const[be,Se]=Z.split("-");return z.length?J.createElement("ol",{key:Z,dir:D==="auto"?qm():D,tabIndex:-1,ref:W,className:p,"data-sonner-toaster":!0,"data-sonner-theme":ge,"data-y-position":be,"data-x-position":Se,style:{"--front-toast-height":`${((de=_e[0])==null?void 0:de.height)||0}px`,"--width":`${Hw}px`,"--gap":`${S}px`,...N,...Qw(g,v)},onBlur:he=>{R.current&&!he.currentTarget.contains(he.relatedTarget)&&(R.current=!1,Y.current&&(Y.current.focus({preventScroll:!0}),Y.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||R.current||(R.current=!0,Y.current=he.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{xe||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||Le(!0)},onPointerUp:()=>Le(!1)},z.filter(he=>!he.position&&ce===0||he.position===Z).map((he,Pe)=>{var st,kn;return J.createElement(Jw,{key:he.id,icons:T,index:Pe,toast:he,defaultRichColors:b,duration:(st=C?.duration)!=null?st:j,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:l,visibleToasts:k,closeButton:(kn=C?.closeButton)!=null?kn:m,interacting:xe,position:Z,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:F,toasts:z.filter(Sn=>Sn.position==he.position),heights:_e.filter(Sn=>Sn.position==he.position),setHeights:Oe,expandByDefault:h,gap:S,expanded:M,swipeDirections:e.swipeDirections})})):null}))}),dd=A.createContext({});function hd(n){const e=A.useRef(null);return e.current===null&&(e.current=n()),e.current}const fd=typeof window<"u",z0=fd?A.useLayoutEffect:A.useEffect,ol=A.createContext(null);function md(n,e){n.indexOf(e)===-1&&n.push(e)}function pd(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const Fn=(n,e,s)=>s>e?e:s<n?n:s;let gd=()=>{};const Un={},W0=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function H0(n){return typeof n=="object"&&n!==null}const G0=n=>/^0[^.\s]+$/u.test(n);function yd(n){let e;return()=>(e===void 0&&(e=n()),e)}const tn=n=>n,Xw=(n,e)=>s=>e(n(s)),ao=(...n)=>n.reduce(Xw),Xi=(n,e,s)=>{const i=e-n;return i===0?1:(s-n)/i};class vd{constructor(){this.subscriptions=[]}add(e){return md(this.subscriptions,e),()=>pd(this.subscriptions,e)}notify(e,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,s,i);else for(let c=0;c<l;c++){const u=this.subscriptions[c];u&&u(e,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nn=n=>n*1e3,en=n=>n/1e3;function K0(n,e){return e?n*(1e3/e):0}const q0=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,Zw=1e-7,eb=12;function tb(n,e,s,i,l){let c,u,h=0;do u=e+(s-e)/2,c=q0(u,i,l)-n,c>0?s=u:e=u;while(Math.abs(c)>Zw&&++h<eb);return u}function lo(n,e,s,i){if(n===e&&s===i)return tn;const l=c=>tb(c,0,1,n,s);return c=>c===0||c===1?c:q0(l(c),e,i)}const Y0=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,J0=n=>e=>1-n(1-e),Q0=lo(.33,1.53,.69,.99),xd=J0(Q0),X0=Y0(xd),Z0=n=>(n*=2)<1?.5*xd(n):.5*(2-Math.pow(2,-10*(n-1))),wd=n=>1-Math.sin(Math.acos(n)),eg=J0(wd),tg=Y0(wd),nb=lo(.42,0,1,1),sb=lo(0,0,.58,1),ng=lo(.42,0,.58,1),rb=n=>Array.isArray(n)&&typeof n[0]!="number",sg=n=>Array.isArray(n)&&typeof n[0]=="number",ib={linear:tn,easeIn:nb,easeInOut:ng,easeOut:sb,circIn:wd,circInOut:tg,circOut:eg,backIn:xd,backInOut:X0,backOut:Q0,anticipate:Z0},ob=n=>typeof n=="string",Ym=n=>{if(sg(n)){gd(n.length===4);const[e,s,i,l]=n;return lo(e,s,i,l)}else if(ob(n))return ib[n];return n},Sa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ab(n,e){let s=new Set,i=new Set,l=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),n()),g(h)}const p={schedule:(g,v=!1,x=!1)=>{const j=x&&l?s:i;return v&&u.add(g),j.has(g)||j.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,l){c=!0;return}l=!0,[s,i]=[i,s],s.forEach(m),s.clear(),l=!1,c&&(c=!1,p.process(g))}};return p}const lb=40;function rg(n,e){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=Sa.reduce((S,T)=>(S[T]=ab(c),S),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:g,update:v,preRender:x,render:b,postRender:j}=u,N=()=>{const S=Un.useManualTiming?l.timestamp:performance.now();s=!1,Un.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(S-l.timestamp,lb),1)),l.timestamp=S,l.isProcessing=!0,h.process(l),m.process(l),p.process(l),g.process(l),v.process(l),x.process(l),b.process(l),j.process(l),l.isProcessing=!1,s&&e&&(i=!1,n(N))},k=()=>{s=!0,i=!0,l.isProcessing||n(N)};return{schedule:Sa.reduce((S,T)=>{const $=u[T];return S[T]=(B,G=!1,z=!1)=>(s||k(),$.schedule(B,G,z)),S},{}),cancel:S=>{for(let T=0;T<Sa.length;T++)u[Sa[T]].cancel(S)},state:l,steps:u}}const{schedule:$e,cancel:ws,state:ht,steps:eu}=rg(typeof requestAnimationFrame<"u"?requestAnimationFrame:tn,!0);let Fa;function cb(){Fa=void 0}const Ot={now:()=>(Fa===void 0&&Ot.set(ht.isProcessing||Un.useManualTiming?ht.timestamp:performance.now()),Fa),set:n=>{Fa=n,queueMicrotask(cb)}},ig=n=>e=>typeof e=="string"&&e.startsWith(n),bd=ig("--"),ub=ig("var(--"),jd=n=>ub(n)?db.test(n.split("/*")[0].trim()):!1,db=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qr={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Zi={...qr,transform:n=>Fn(0,1,n)},Ea={...qr,default:1},Wi=n=>Math.round(n*1e5)/1e5,Nd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hb(n){return n==null}const fb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_d=(n,e)=>s=>!!(typeof s=="string"&&fb.test(s)&&s.startsWith(n)||e&&!hb(s)&&Object.prototype.hasOwnProperty.call(s,e)),og=(n,e,s)=>i=>{if(typeof i!="string")return i;const[l,c,u,h]=i.match(Nd);return{[n]:parseFloat(l),[e]:parseFloat(c),[s]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},mb=n=>Fn(0,255,n),tu={...qr,transform:n=>Math.round(mb(n))},Ys={test:_d("rgb","red"),parse:og("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:i=1})=>"rgba("+tu.transform(n)+", "+tu.transform(e)+", "+tu.transform(s)+", "+Wi(Zi.transform(i))+")"};function pb(n){let e="",s="",i="",l="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),i=n.substring(5,7),l=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),i=n.substring(3,4),l=n.substring(4,5),e+=e,s+=s,i+=i,l+=l),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const Su={test:_d("#"),parse:pb,transform:Ys.transform},co=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),gs=co("deg"),_n=co("%"),ve=co("px"),gb=co("vh"),yb=co("vw"),Jm={..._n,parse:n=>_n.parse(n)/100,transform:n=>_n.transform(n*100)},Dr={test:_d("hsl","hue"),parse:og("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:i=1})=>"hsla("+Math.round(n)+", "+_n.transform(Wi(e))+", "+_n.transform(Wi(s))+", "+Wi(Zi.transform(i))+")"},Xe={test:n=>Ys.test(n)||Su.test(n)||Dr.test(n),parse:n=>Ys.test(n)?Ys.parse(n):Dr.test(n)?Dr.parse(n):Su.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ys.transform(n):Dr.transform(n),getAnimatableNone:n=>{const e=Xe.parse(n);return e.alpha=0,Xe.transform(e)}},vb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xb(n){return isNaN(n)&&typeof n=="string"&&(n.match(Nd)?.length||0)+(n.match(vb)?.length||0)>0}const ag="number",lg="color",wb="var",bb="var(",Qm="${}",jb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eo(n){const e=n.toString(),s=[],i={color:[],number:[],var:[]},l=[];let c=0;const h=e.replace(jb,m=>(Xe.test(m)?(i.color.push(c),l.push(lg),s.push(Xe.parse(m))):m.startsWith(bb)?(i.var.push(c),l.push(wb),s.push(m)):(i.number.push(c),l.push(ag),s.push(parseFloat(m))),++c,Qm)).split(Qm);return{values:s,split:h,indexes:i,types:l}}function cg(n){return eo(n).values}function ug(n){const{split:e,types:s}=eo(n),i=e.length;return l=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],l[u]!==void 0){const h=s[u];h===ag?c+=Wi(l[u]):h===lg?c+=Xe.transform(l[u]):c+=l[u]}return c}}const Nb=n=>typeof n=="number"?0:Xe.test(n)?Xe.getAnimatableNone(n):n;function _b(n){const e=cg(n);return ug(n)(e.map(Nb))}const bs={test:xb,parse:cg,createTransformer:ug,getAnimatableNone:_b};function nu(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function kb({hue:n,saturation:e,lightness:s,alpha:i}){n/=360,e/=100,s/=100;let l=0,c=0,u=0;if(!e)l=c=u=s;else{const h=s<.5?s*(1+e):s+e-s*e,m=2*s-h;l=nu(m,h,n+1/3),c=nu(m,h,n),u=nu(m,h,n-1/3)}return{red:Math.round(l*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function Ga(n,e){return s=>s>0?e:n}const Ue=(n,e,s)=>n+(e-n)*s,su=(n,e,s)=>{const i=n*n,l=s*(e*e-i)+i;return l<0?0:Math.sqrt(l)},Sb=[Su,Ys,Dr],Eb=n=>Sb.find(e=>e.test(n));function Xm(n){const e=Eb(n);if(!e)return!1;let s=e.parse(n);return e===Dr&&(s=kb(s)),s}const Zm=(n,e)=>{const s=Xm(n),i=Xm(e);if(!s||!i)return Ga(n,e);const l={...s};return c=>(l.red=su(s.red,i.red,c),l.green=su(s.green,i.green,c),l.blue=su(s.blue,i.blue,c),l.alpha=Ue(s.alpha,i.alpha,c),Ys.transform(l))},Eu=new Set(["none","hidden"]);function Tb(n,e){return Eu.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function Pb(n,e){return s=>Ue(n,e,s)}function kd(n){return typeof n=="number"?Pb:typeof n=="string"?jd(n)?Ga:Xe.test(n)?Zm:Ab:Array.isArray(n)?dg:typeof n=="object"?Xe.test(n)?Zm:Cb:Ga}function dg(n,e){const s=[...n],i=s.length,l=n.map((c,u)=>kd(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)s[u]=l[u](c);return s}}function Cb(n,e){const s={...n,...e},i={};for(const l in s)n[l]!==void 0&&e[l]!==void 0&&(i[l]=kd(n[l])(n[l],e[l]));return l=>{for(const c in i)s[c]=i[c](l);return s}}function Rb(n,e){const s=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],u=n.indexes[c][i[c]],h=n.values[u]??0;s[l]=h,i[c]++}return s}const Ab=(n,e)=>{const s=bs.createTransformer(e),i=eo(n),l=eo(e);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?Eu.has(n)&&!l.values.length||Eu.has(e)&&!i.values.length?Tb(n,e):ao(dg(Rb(i,l),l.values),s):Ga(n,e)};function hg(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?Ue(n,e,s):kd(n)(n,e)}const Ob=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>$e.update(e,s),stop:()=>ws(e),now:()=>ht.isProcessing?ht.timestamp:Ot.now()}},fg=(n,e,s=10)=>{let i="";const l=Math.max(Math.round(e/s),2);for(let c=0;c<l;c++)i+=Math.round(n(c/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ka=2e4;function Sd(n){let e=0;const s=50;let i=n.next(e);for(;!i.done&&e<Ka;)e+=s,i=n.next(e);return e>=Ka?1/0:e}function Ib(n,e=100,s){const i=s({...n,keyframes:[0,e]}),l=Math.min(Sd(i),Ka);return{type:"keyframes",ease:c=>i.next(l*c).value/e,duration:en(l)}}const Db=5;function mg(n,e,s){const i=Math.max(e-Db,0);return K0(s-n(i),e-i)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ru=.001;function Lb({duration:n=We.duration,bounce:e=We.bounce,velocity:s=We.velocity,mass:i=We.mass}){let l,c,u=1-e;u=Fn(We.minDamping,We.maxDamping,u),n=Fn(We.minDuration,We.maxDuration,en(n)),u<1?(l=p=>{const g=p*u,v=g*n,x=g-s,b=Tu(p,u),j=Math.exp(-v);return ru-x/b*j},c=p=>{const v=p*u*n,x=v*s+s,b=Math.pow(u,2)*Math.pow(p,2)*n,j=Math.exp(-v),N=Tu(Math.pow(p,2),u);return(-l(p)+ru>0?-1:1)*((x-b)*j)/N}):(l=p=>{const g=Math.exp(-p*n),v=(p-s)*n+1;return-ru+g*v},c=p=>{const g=Math.exp(-p*n),v=(s-p)*(n*n);return g*v});const h=5/n,m=$b(l,c,h);if(n=Nn(n),isNaN(m))return{stiffness:We.stiffness,damping:We.damping,duration:n};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const Mb=12;function $b(n,e,s){let i=s;for(let l=1;l<Mb;l++)i=i-n(i)/e(i);return i}function Tu(n,e){return n*Math.sqrt(1-e*e)}const Vb=["duration","bounce"],Bb=["stiffness","damping","mass"];function ep(n,e){return e.some(s=>n[s]!==void 0)}function Fb(n){let e={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...n};if(!ep(n,Bb)&&ep(n,Vb))if(n.visualDuration){const s=n.visualDuration,i=2*Math.PI/(s*1.2),l=i*i,c=2*Fn(.05,1,1-(n.bounce||0))*Math.sqrt(l);e={...e,mass:We.mass,stiffness:l,damping:c}}else{const s=Lb(n);e={...e,...s,mass:We.mass},e.isResolvedFromDuration=!0}return e}function qa(n=We.visualDuration,e=We.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:l}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],h={done:!1,value:c},{stiffness:m,damping:p,mass:g,duration:v,velocity:x,isResolvedFromDuration:b}=Fb({...s,velocity:-en(s.velocity||0)}),j=x||0,N=p/(2*Math.sqrt(m*g)),k=u-c,C=en(Math.sqrt(m/g)),D=Math.abs(k)<5;i||(i=D?We.restSpeed.granular:We.restSpeed.default),l||(l=D?We.restDelta.granular:We.restDelta.default);let S;if(N<1){const $=Tu(C,N);S=B=>{const G=Math.exp(-N*C*B);return u-G*((j+N*C*k)/$*Math.sin($*B)+k*Math.cos($*B))}}else if(N===1)S=$=>u-Math.exp(-C*$)*(k+(j+C*k)*$);else{const $=C*Math.sqrt(N*N-1);S=B=>{const G=Math.exp(-N*C*B),z=Math.min($*B,300);return u-G*((j+N*C*k)*Math.sinh(z)+$*k*Math.cosh(z))/$}}const T={calculatedDuration:b&&v||null,next:$=>{const B=S($);if(b)h.done=$>=v;else{let G=$===0?j:0;N<1&&(G=$===0?Nn(j):mg(S,$,B));const z=Math.abs(G)<=i,re=Math.abs(u-B)<=l;h.done=z&&re}return h.value=h.done?u:B,h},toString:()=>{const $=Math.min(Sd(T),Ka),B=fg(G=>T.next($*G).value,$,30);return $+"ms "+B},toTransition:()=>{}};return T}qa.applyToOptions=n=>{const e=Ib(n,100,qa);return n.ease=e.ease,n.duration=Nn(e.duration),n.type="keyframes",n};function Pu({keyframes:n,velocity:e=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:g}){const v=n[0],x={done:!1,value:v},b=z=>h!==void 0&&z<h||m!==void 0&&z>m,j=z=>h===void 0?m:m===void 0||Math.abs(h-z)<Math.abs(m-z)?h:m;let N=s*e;const k=v+N,C=u===void 0?k:u(k);C!==k&&(N=C-v);const D=z=>-N*Math.exp(-z/i),S=z=>C+D(z),T=z=>{const re=D(z),_e=S(z);x.done=Math.abs(re)<=p,x.value=x.done?C:_e};let $,B;const G=z=>{b(x.value)&&($=z,B=qa({keyframes:[x.value,j(x.value)],velocity:mg(S,z,x.value),damping:l,stiffness:c,restDelta:p,restSpeed:g}))};return G(0),{calculatedDuration:null,next:z=>{let re=!1;return!B&&$===void 0&&(re=!0,T(z),G(z)),$!==void 0&&z>=$?B.next(z-$):(!re&&T(z),x)}}}function Ub(n,e,s){const i=[],l=s||Un.mix||hg,c=n.length-1;for(let u=0;u<c;u++){let h=l(n[u],n[u+1]);if(e){const m=Array.isArray(e)?e[u]||tn:e;h=ao(m,h)}i.push(h)}return i}function zb(n,e,{clamp:s=!0,ease:i,mixer:l}={}){const c=n.length;if(gd(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=Ub(e,i,l),m=h.length,p=g=>{if(u&&g<n[0])return e[0];let v=0;if(m>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const x=Xi(n[v],n[v+1],g);return h[v](x)};return s?g=>p(Fn(n[0],n[c-1],g)):p}function Wb(n,e){const s=n[n.length-1];for(let i=1;i<=e;i++){const l=Xi(0,e,i);n.push(Ue(s,1,l))}}function Hb(n){const e=[0];return Wb(e,n.length-1),e}function Gb(n,e){return n.map(s=>s*e)}function Kb(n,e){return n.map(()=>e||ng).splice(0,n.length-1)}function Hi({duration:n=300,keyframes:e,times:s,ease:i="easeInOut"}){const l=rb(i)?i.map(Ym):Ym(i),c={done:!1,value:e[0]},u=Gb(s&&s.length===e.length?s:Hb(e),n),h=zb(u,e,{ease:Array.isArray(l)?l:Kb(e,l)});return{calculatedDuration:n,next:m=>(c.value=h(m),c.done=m>=n,c)}}const qb=n=>n!==null;function Ed(n,{repeat:e,repeatType:s="loop"},i,l=1){const c=n.filter(qb),h=l<0||e&&s!=="loop"&&e%2===1?0:c.length-1;return!h||i===void 0?c[h]:i}const Yb={decay:Pu,inertia:Pu,tween:Hi,keyframes:Hi,spring:qa};function pg(n){typeof n.type=="string"&&(n.type=Yb[n.type])}class Td{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const Jb=n=>n/100;class Pd extends Td{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Ot.now()&&this.tick(Ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;pg(e);const{type:s=Hi,repeat:i=0,repeatDelay:l=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const m=s||Hi;m!==Hi&&typeof h[0]!="number"&&(this.mixKeyframes=ao(Jb,hg(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Sd(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=p}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:i,totalDuration:l,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:x,repeatDelay:b,type:j,onUpdate:N,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?C<0:C>l;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let S=this.currentTime,T=i;if(v){const z=Math.min(this.currentTime,l)/h;let re=Math.floor(z),_e=z%1;!_e&&z>=1&&(_e=1),_e===1&&re--,re=Math.min(re,v+1),!!(re%2)&&(x==="reverse"?(_e=1-_e,b&&(_e-=b/h)):x==="mirror"&&(T=u)),S=Fn(0,1,_e)*h}const $=D?{done:!1,value:g[0]}:T.next(S);c&&($.value=c($.value));let{done:B}=$;!D&&m!==null&&(B=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return G&&j!==Pu&&($.value=Ed(g,this.options,k,this.speed)),N&&N($.value),G&&this.finish(),$}then(e,s){return this.finished.then(e,s)}get duration(){return en(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+en(e)}get time(){return en(this.currentTime)}set time(e){e=Nn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ot.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=en(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Ob,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Qb(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Js=n=>n*180/Math.PI,Cu=n=>{const e=Js(Math.atan2(n[1],n[0]));return Ru(e)},Xb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Cu,rotateZ:Cu,skewX:n=>Js(Math.atan(n[1])),skewY:n=>Js(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ru=n=>(n=n%360,n<0&&(n+=360),n),tp=Cu,np=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),sp=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Zb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:np,scaleY:sp,scale:n=>(np(n)+sp(n))/2,rotateX:n=>Ru(Js(Math.atan2(n[6],n[5]))),rotateY:n=>Ru(Js(Math.atan2(-n[2],n[0]))),rotateZ:tp,rotate:tp,skewX:n=>Js(Math.atan(n[4])),skewY:n=>Js(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Au(n){return n.includes("scale")?1:0}function Ou(n,e){if(!n||n==="none")return Au(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(s)i=Zb,l=s;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Xb,l=h}if(!l)return Au(e);const c=i[e],u=l[1].split(",").map(t1);return typeof c=="function"?c(u):u[c]}const e1=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return Ou(s,e)};function t1(n){return parseFloat(n.trim())}const Yr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jr=new Set(Yr),rp=n=>n===qr||n===ve,n1=new Set(["x","y","z"]),s1=Yr.filter(n=>!n1.has(n));function r1(n){const e=[];return s1.forEach(s=>{const i=n.getValue(s);i!==void 0&&(e.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),e}const Zs={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Ou(e,"x"),y:(n,{transform:e})=>Ou(e,"y")};Zs.translateX=Zs.x;Zs.translateY=Zs.y;const er=new Set;let Iu=!1,Du=!1,Lu=!1;function gg(){if(Du){const n=Array.from(er).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),s=new Map;e.forEach(i=>{const l=r1(i);l.length&&(s.set(i,l),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([c,u])=>{i.getValue(c)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Du=!1,Iu=!1,er.forEach(n=>n.complete(Lu)),er.clear()}function yg(){er.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Du=!0)})}function i1(){Lu=!0,yg(),gg(),Lu=!1}class Cd{constructor(e,s,i,l,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=i,this.motionValue=l,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(er.add(this),Iu||(Iu=!0,$e.read(yg),$e.resolveKeyframes(gg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:i,motionValue:l}=this;if(e[0]===null){const c=l?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&s){const h=i.readValue(s,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),l&&c===void 0&&l.set(e[0])}Qb(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),er.delete(this)}cancel(){this.state==="scheduled"&&(er.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const o1=n=>n.startsWith("--");function a1(n,e,s){o1(e)?n.style.setProperty(e,s):n.style[e]=s}const l1=yd(()=>window.ScrollTimeline!==void 0),c1={};function u1(n,e){const s=yd(n);return()=>c1[e]??s()}const vg=u1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fi=([n,e,s,i])=>`cubic-bezier(${n}, ${e}, ${s}, ${i})`,ip={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fi([0,.65,.55,1]),circOut:Fi([.55,0,1,.45]),backIn:Fi([.31,.01,.66,-.59]),backOut:Fi([.33,1.53,.69,.99])};function xg(n,e){if(n)return typeof n=="function"?vg()?fg(n,e):"ease-out":sg(n)?Fi(n):Array.isArray(n)?n.map(s=>xg(s,e)||ip.easeOut):ip[n]}function d1(n,e,s,{delay:i=0,duration:l=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:m}={},p=void 0){const g={[e]:s};m&&(g.offset=m);const v=xg(h,l);Array.isArray(v)&&(g.easing=v);const x={delay:i,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(g,x)}function wg(n){return typeof n=="function"&&"applyToOptions"in n}function h1({type:n,...e}){return wg(n)&&vg()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class f1 extends Td{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:i,keyframes:l,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,gd(typeof e.type!="string");const p=h1(e);this.animation=d1(s,i,l,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=Ed(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):a1(s,i,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return en(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+en(e)}get time(){return en(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Nn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&l1()?(this.animation.timeline=e,tn):s(this)}}const bg={anticipate:Z0,backInOut:X0,circInOut:tg};function m1(n){return n in bg}function p1(n){typeof n.ease=="string"&&m1(n.ease)&&(n.ease=bg[n.ease])}const op=10;class g1 extends f1{constructor(e){p1(e),pg(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:i,onComplete:l,element:c,...u}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new Pd({...u,autoplay:!1}),m=Nn(this.finishedTime??this.time);s.setWithVelocity(h.sample(m-op).value,h.sample(m).value,op),h.stop()}}const ap=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(bs.test(n)||n==="0")&&!n.startsWith("url("));function y1(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function v1(n,e,s,i){const l=n[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const c=n[n.length-1],u=ap(l,e),h=ap(c,e);return!u||!h?!1:y1(n)||(s==="spring"||wg(s))&&i}function Mu(n){n.duration=0,n.type="keyframes"}const x1=new Set(["opacity","clipPath","filter","transform"]),w1=yd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function b1(n){const{motionValue:e,name:s,repeatDelay:i,repeatType:l,damping:c,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return w1()&&s&&x1.has(s)&&(s!=="transform"||!p)&&!m&&!i&&l!=="mirror"&&c!==0&&u!=="inertia"}const j1=40;class N1 extends Td{constructor({autoplay:e=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:m,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ot.now();const x={autoplay:e,delay:s,type:i,repeat:l,repeatDelay:c,repeatType:u,name:m,motionValue:p,element:g,...v},b=g?.KeyframeResolver||Cd;this.keyframeResolver=new b(h,(j,N,k)=>this.onKeyframesResolved(j,N,x,!k),m,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,i,l){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:m,isHandoff:p,onUpdate:g}=i;this.resolvedAt=Ot.now(),v1(e,c,u,h)||((Un.instantAnimations||!m)&&g?.(Ed(e,i,s)),e[0]=e[e.length-1],Mu(i),i.repeat=0);const x={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>j1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:e},b=!p&&b1(x)?new g1({...x,element:x.motionValue.owner.current}):new Pd(x);b.finished.then(()=>this.notifyFinished()).catch(tn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),i1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const _1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function k1(n){const e=_1.exec(n);if(!e)return[,];const[,s,i,l]=e;return[`--${s??i}`,l]}function jg(n,e,s=1){const[i,l]=k1(n);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return W0(u)?parseFloat(u):u}return jd(l)?jg(l,e,s+1):l}function Rd(n,e){return n?.[e]??n?.default??n}const Ng=new Set(["width","height","top","left","right","bottom",...Yr]),S1={test:n=>n==="auto",parse:n=>n},_g=n=>e=>e.test(n),kg=[qr,ve,_n,gs,yb,gb,S1],lp=n=>kg.find(_g(n));function E1(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||G0(n):!0}const T1=new Set(["brightness","contrast","saturate","opacity"]);function P1(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=s.match(Nd)||[];if(!i)return n;const l=s.replace(i,"");let c=T1.has(e)?1:0;return i!==s&&(c*=100),e+"("+c+l+")"}const C1=/\b([a-z-]*)\(.*?\)/gu,$u={...bs,getAnimatableNone:n=>{const e=n.match(C1);return e?e.map(P1).join(" "):n}},cp={...qr,transform:Math.round},R1={rotate:gs,rotateX:gs,rotateY:gs,rotateZ:gs,scale:Ea,scaleX:Ea,scaleY:Ea,scaleZ:Ea,skew:gs,skewX:gs,skewY:gs,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:Zi,originX:Jm,originY:Jm,originZ:ve},Ad={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve,...R1,zIndex:cp,fillOpacity:Zi,strokeOpacity:Zi,numOctaves:cp},A1={...Ad,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:$u,WebkitFilter:$u},Sg=n=>A1[n];function Eg(n,e){let s=Sg(n);return s!==$u&&(s=bs),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const O1=new Set(["auto","none","0"]);function I1(n,e,s){let i=0,l;for(;i<n.length&&!l;){const c=n[i];typeof c=="string"&&!O1.has(c)&&eo(c).values.length&&(l=n[i]),i++}if(l&&s)for(const c of e)n[c]=Eg(s,l)}class D1 extends Cd{constructor(e,s,i,l,c){super(e,s,i,l,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),jd(p))){const g=jg(p,s.current);g!==void 0&&(e[m]=g),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Ng.has(i)||e.length!==2)return;const[l,c]=e,u=lp(l),h=lp(c);if(u!==h)if(rp(u)&&rp(h))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Zs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,i=[];for(let l=0;l<e.length;l++)(e[l]===null||E1(e[l]))&&i.push(l);i.length&&I1(e,i,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&e.getValue(i,l).jump(l,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const l=e.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=Zs[s](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function L1(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const l=s?.[n]??i.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}const Tg=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Pg(n){return H0(n)&&"offsetHeight"in n}const up=30,M1=n=>!isNaN(parseFloat(n));class $1{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const l=Ot.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=M1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new vd);const i=this.events[e].add(s);return e==="change"?()=>{i(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>up)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,up);return K0(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zr(n,e){return new $1(n,e)}const{schedule:Od}=rg(queueMicrotask,!1),mn={x:!1,y:!1};function Cg(){return mn.x||mn.y}function V1(n){return n==="x"||n==="y"?mn[n]?null:(mn[n]=!0,()=>{mn[n]=!1}):mn.x||mn.y?null:(mn.x=mn.y=!0,()=>{mn.x=mn.y=!1})}function Rg(n,e){const s=L1(n),i=new AbortController,l={passive:!0,...e,signal:i.signal};return[s,l,()=>i.abort()]}function dp(n){return!(n.pointerType==="touch"||Cg())}function B1(n,e,s={}){const[i,l,c]=Rg(n,s),u=h=>{if(!dp(h))return;const{target:m}=h,p=e(m,h);if(typeof p!="function"||!m)return;const g=v=>{dp(v)&&(p(v),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,l)};return i.forEach(h=>{h.addEventListener("pointerenter",u,l)}),c}const Ag=(n,e)=>e?n===e?!0:Ag(n,e.parentElement):!1,Id=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,F1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function U1(n){return F1.has(n.tagName)||n.tabIndex!==-1}const Ua=new WeakSet;function hp(n){return e=>{e.key==="Enter"&&n(e)}}function iu(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const z1=(n,e)=>{const s=n.currentTarget;if(!s)return;const i=hp(()=>{if(Ua.has(s))return;iu(s,"down");const l=hp(()=>{iu(s,"up")}),c=()=>iu(s,"cancel");s.addEventListener("keyup",l,e),s.addEventListener("blur",c,e)});s.addEventListener("keydown",i,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),e)};function fp(n){return Id(n)&&!Cg()}function W1(n,e,s={}){const[i,l,c]=Rg(n,s),u=h=>{const m=h.currentTarget;if(!fp(h))return;Ua.add(m);const p=e(m,h),g=(b,j)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Ua.has(m)&&Ua.delete(m),fp(b)&&typeof p=="function"&&p(b,{success:j})},v=b=>{g(b,m===window||m===document||s.useGlobalTarget||Ag(m,b.target))},x=b=>{g(b,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",x,l)};return i.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",u,l),Pg(h)&&(h.addEventListener("focus",p=>z1(p,l)),!U1(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Og(n){return H0(n)&&"ownerSVGElement"in n}function H1(n){return Og(n)&&n.tagName==="svg"}const wt=n=>!!(n&&n.getVelocity),G1=[...kg,Xe,bs],K1=n=>G1.find(_g(n)),Dd=A.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function mp(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function q1(...n){return e=>{let s=!1;const i=n.map(l=>{const c=mp(l,e);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let l=0;l<i.length;l++){const c=i[l];typeof c=="function"?c():mp(n[l],null)}}}}function Y1(...n){return A.useCallback(q1(...n),n)}class J1 extends A.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const i=s.offsetParent,l=Pg(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=l-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Q1({children:n,isPresent:e,anchorX:s,root:i}){const l=A.useId(),c=A.useRef(null),u=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=A.useContext(Dd),m=Y1(c,n?.ref);return A.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:x,right:b}=u.current;if(e||!c.current||!p||!g)return;const j=s==="left"?`left: ${x}`:`right: ${b}`;c.current.dataset.motionPopId=l;const N=document.createElement("style");h&&(N.nonce=h);const k=i??document.head;return k.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${j}px !important;
            top: ${v}px !important;
          }
        `),()=>{k.contains(N)&&k.removeChild(N)}},[e]),o.jsx(J1,{isPresent:e,childRef:c,sizeRef:u,children:A.cloneElement(n,{ref:m})})}const X1=({children:n,initial:e,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:c,mode:u,anchorX:h,root:m})=>{const p=hd(Z1),g=A.useId();let v=!0,x=A.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:s,custom:l,onExitComplete:b=>{p.set(b,!0);for(const j of p.values())if(!j)return;i&&i()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[s,p,i]);return c&&v&&(x={...x}),A.useMemo(()=>{p.forEach((b,j)=>p.set(j,!1))},[s]),A.useEffect(()=>{!s&&!p.size&&i&&i()},[s]),u==="popLayout"&&(n=o.jsx(Q1,{isPresent:s,anchorX:h,root:m,children:n})),o.jsx(ol.Provider,{value:x,children:n})};function Z1(){return new Map}function Ig(n=!0){const e=A.useContext(ol);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:l}=e,c=A.useId();A.useEffect(()=>{if(n)return l(c)},[n]);const u=A.useCallback(()=>n&&i&&i(c),[c,i,n]);return!s&&i?[!1,u]:[!0]}const Ta=n=>n.key||"";function pp(n){const e=[];return A.Children.forEach(n,s=>{A.isValidElement(s)&&e.push(s)}),e}const Wr=({children:n,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",root:m})=>{const[p,g]=Ig(u),v=A.useMemo(()=>pp(n),[n]),x=u&&!p?[]:v.map(Ta),b=A.useRef(!0),j=A.useRef(v),N=hd(()=>new Map),[k,C]=A.useState(v),[D,S]=A.useState(v);z0(()=>{b.current=!1,j.current=v;for(let B=0;B<D.length;B++){const G=Ta(D[B]);x.includes(G)?N.delete(G):N.get(G)!==!0&&N.set(G,!1)}},[D,x.length,x.join("-")]);const T=[];if(v!==k){let B=[...v];for(let G=0;G<D.length;G++){const z=D[G],re=Ta(z);x.includes(re)||(B.splice(G,0,z),T.push(z))}return c==="wait"&&T.length&&(B=T),S(pp(B)),C(v),null}const{forceRender:$}=A.useContext(dd);return o.jsx(o.Fragment,{children:D.map(B=>{const G=Ta(B),z=u&&!p?!1:v===D||x.includes(G),re=()=>{if(N.has(G))N.set(G,!0);else return;let _e=!0;N.forEach(Oe=>{Oe||(_e=!1)}),_e&&($?.(),S(j.current),u&&g?.(),i&&i())};return o.jsx(X1,{isPresent:z,initial:!b.current||s?void 0:!1,custom:e,presenceAffectsLayout:l,mode:c,root:m,onExitComplete:z?void 0:re,anchorX:h,children:B},G)})})},Dg=A.createContext({strict:!1}),gp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hr={};for(const n in gp)Hr[n]={isEnabled:e=>gp[n].some(s=>!!e[s])};function ej(n){for(const e in n)Hr[e]={...Hr[e],...n[e]}}const tj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ya(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||tj.has(n)}let Lg=n=>!Ya(n);function nj(n){typeof n=="function"&&(Lg=e=>e.startsWith("on")?!Ya(e):n(e))}try{nj(require("@emotion/is-prop-valid").default)}catch{}function sj(n,e,s){const i={};for(const l in n)l==="values"&&typeof n.values=="object"||(Lg(l)||s===!0&&Ya(l)||!e&&!Ya(l)||n.draggable&&l.startsWith("onDrag"))&&(i[l]=n[l]);return i}const al=A.createContext({});function ll(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function to(n){return typeof n=="string"||Array.isArray(n)}const Ld=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Md=["initial",...Ld];function cl(n){return ll(n.animate)||Md.some(e=>to(n[e]))}function Mg(n){return!!(cl(n)||n.variants)}function rj(n,e){if(cl(n)){const{initial:s,animate:i}=n;return{initial:s===!1||to(s)?s:void 0,animate:to(i)?i:void 0}}return n.inherit!==!1?e:{}}function ij(n){const{initial:e,animate:s}=rj(n,A.useContext(al));return A.useMemo(()=>({initial:e,animate:s}),[yp(e),yp(s)])}function yp(n){return Array.isArray(n)?n.join(" "):n}const no={};function oj(n){for(const e in n)no[e]=n[e],bd(e)&&(no[e].isCSSVariable=!0)}function $g(n,{layout:e,layoutId:s}){return Jr.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!no[n]||n==="opacity")}const aj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lj=Yr.length;function cj(n,e,s){let i="",l=!0;for(let c=0;c<lj;c++){const u=Yr[c],h=n[u];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(u.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||s){const p=Tg(h,Ad[u]);if(!m){l=!1;const g=aj[u]||u;i+=`${g}(${p}) `}s&&(e[u]=p)}}return i=i.trim(),s?i=s(e,l?"":i):l&&(i="none"),i}function $d(n,e,s){const{style:i,vars:l,transformOrigin:c}=n;let u=!1,h=!1;for(const m in e){const p=e[m];if(Jr.has(m)){u=!0;continue}else if(bd(m)){l[m]=p;continue}else{const g=Tg(p,Ad[m]);m.startsWith("origin")?(h=!0,c[m]=g):i[m]=g}}if(e.transform||(u||s?i.transform=cj(e,n.transform,s):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:g=0}=c;i.transformOrigin=`${m} ${p} ${g}`}}const Vd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vg(n,e,s){for(const i in e)!wt(e[i])&&!$g(i,s)&&(n[i]=e[i])}function uj({transformTemplate:n},e){return A.useMemo(()=>{const s=Vd();return $d(s,e,n),Object.assign({},s.vars,s.style)},[e])}function dj(n,e){const s=n.style||{},i={};return Vg(i,s,n),Object.assign(i,uj(n,e)),i}function hj(n,e){const s={},i=dj(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=i,s}const fj={offset:"stroke-dashoffset",array:"stroke-dasharray"},mj={offset:"strokeDashoffset",array:"strokeDasharray"};function pj(n,e,s=1,i=0,l=!0){n.pathLength=1;const c=l?fj:mj;n[c.offset]=ve.transform(-i);const u=ve.transform(e),h=ve.transform(s);n[c.array]=`${u} ${h}`}function Bg(n,{attrX:e,attrY:s,attrScale:i,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...h},m,p,g){if($d(n,h,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:x}=n;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),s!==void 0&&(v.y=s),i!==void 0&&(v.scale=i),l!==void 0&&pj(v,l,c,u,!1)}const Fg=()=>({...Vd(),attrs:{}}),Ug=n=>typeof n=="string"&&n.toLowerCase()==="svg";function gj(n,e,s,i){const l=A.useMemo(()=>{const c=Fg();return Bg(c,e,Ug(i),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[e]);if(n.style){const c={};Vg(c,n.style,n),l.style={...c,...l.style}}return l}const yj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bd(n){return typeof n!="string"||n.includes("-")?!1:!!(yj.indexOf(n)>-1||/[A-Z]/u.test(n))}function vj(n,e,s,{latestValues:i},l,c=!1){const h=(Bd(n)?gj:hj)(e,i,l,n),m=sj(e,typeof n=="string",c),p=n!==A.Fragment?{...m,...h,ref:s}:{},{children:g}=e,v=A.useMemo(()=>wt(g)?g.get():g,[g]);return A.createElement(n,{...p,children:v})}function vp(n){const e=[{},{}];return n?.values.forEach((s,i)=>{e[0][i]=s.get(),e[1][i]=s.getVelocity()}),e}function Fd(n,e,s,i){if(typeof e=="function"){const[l,c]=vp(i);e=e(s!==void 0?s:n.custom,l,c)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[l,c]=vp(i);e=e(s!==void 0?s:n.custom,l,c)}return e}function za(n){return wt(n)?n.get():n}function xj({scrapeMotionValuesFromProps:n,createRenderState:e},s,i,l){return{latestValues:wj(s,i,l,n),renderState:e()}}function wj(n,e,s,i){const l={},c=i(n,{});for(const x in c)l[x]=za(c[x]);let{initial:u,animate:h}=n;const m=cl(n),p=Mg(n);e&&p&&!m&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=s?s.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!ll(v)){const x=Array.isArray(v)?v:[v];for(let b=0;b<x.length;b++){const j=Fd(n,x[b]);if(j){const{transitionEnd:N,transition:k,...C}=j;for(const D in C){let S=C[D];if(Array.isArray(S)){const T=g?S.length-1:0;S=S[T]}S!==null&&(l[D]=S)}for(const D in N)l[D]=N[D]}}}return l}const zg=n=>(e,s)=>{const i=A.useContext(al),l=A.useContext(ol),c=()=>xj(n,e,i,l);return s?c():hd(c)};function Ud(n,e,s){const{style:i}=n,l={};for(const c in i)(wt(i[c])||e.style&&wt(e.style[c])||$g(c,n)||s?.getValue(c)?.liveStyle!==void 0)&&(l[c]=i[c]);return l}const bj=zg({scrapeMotionValuesFromProps:Ud,createRenderState:Vd});function Wg(n,e,s){const i=Ud(n,e,s);for(const l in n)if(wt(n[l])||wt(e[l])){const c=Yr.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[c]=n[l]}return i}const jj=zg({scrapeMotionValuesFromProps:Wg,createRenderState:Fg}),Nj=Symbol.for("motionComponentSymbol");function Lr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function _j(n,e,s){return A.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),s&&(typeof s=="function"?s(i):Lr(s)&&(s.current=i))},[e])}const zd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kj="framerAppearId",Hg="data-"+zd(kj),Gg=A.createContext({});function Sj(n,e,s,i,l){const{visualElement:c}=A.useContext(al),u=A.useContext(Dg),h=A.useContext(ol),m=A.useContext(Dd).reducedMotion,p=A.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:c,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const g=p.current,v=A.useContext(Gg);g&&!g.projection&&l&&(g.type==="html"||g.type==="svg")&&Ej(p.current,s,l,v);const x=A.useRef(!1);A.useInsertionEffect(()=>{g&&x.current&&g.update(s,h)});const b=s[Hg],j=A.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return z0(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),j.current&&g.animationState&&g.animationState.animateChanges())}),A.useEffect(()=>{g&&(!j.current&&g.animationState&&g.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),j.current=!1),g.enteringChildren=void 0)}),g}function Ej(n,e,s,i){const{layoutId:l,layout:c,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:Kg(n.parent)),n.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||h&&Lr(h),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:m,layoutRoot:p})}function Kg(n){if(n)return n.options.allowProjection!==!1?n.projection:Kg(n.parent)}function ou(n,{forwardMotionProps:e=!1}={},s,i){s&&ej(s);const l=Bd(n)?jj:bj;function c(h,m){let p;const g={...A.useContext(Dd),...h,layoutId:Tj(h)},{isStatic:v}=g,x=ij(h),b=l(h,v);if(!v&&fd){Pj();const j=Cj(g);p=j.MeasureLayout,x.visualElement=Sj(n,b,g,i,j.ProjectionNode)}return o.jsxs(al.Provider,{value:x,children:[p&&x.visualElement?o.jsx(p,{visualElement:x.visualElement,...g}):null,vj(n,h,_j(b,x.visualElement,m),b,v,e)]})}c.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=A.forwardRef(c);return u[Nj]=n,u}function Tj({layoutId:n}){const e=A.useContext(dd).id;return e&&n!==void 0?e+"-"+n:n}function Pj(n,e){A.useContext(Dg).strict}function Cj(n){const{drag:e,layout:s}=Hr;if(!e&&!s)return{};const i={...e,...s};return{MeasureLayout:e?.isEnabled(n)||s?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Rj(n,e){if(typeof Proxy>"u")return ou;const s=new Map,i=(c,u)=>ou(c,u,n,e),l=(c,u)=>i(c,u);return new Proxy(l,{get:(c,u)=>u==="create"?i:(s.has(u)||s.set(u,ou(u,void 0,n,e)),s.get(u))})}function qg({top:n,left:e,right:s,bottom:i}){return{x:{min:e,max:s},y:{min:n,max:i}}}function Aj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Oj(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function au(n){return n===void 0||n===1}function Vu({scale:n,scaleX:e,scaleY:s}){return!au(n)||!au(e)||!au(s)}function Hs(n){return Vu(n)||Yg(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Yg(n){return xp(n.x)||xp(n.y)}function xp(n){return n&&n!=="0%"}function Ja(n,e,s){const i=n-s,l=e*i;return s+l}function wp(n,e,s,i,l){return l!==void 0&&(n=Ja(n,l,i)),Ja(n,s,i)+e}function Bu(n,e=0,s=1,i,l){n.min=wp(n.min,e,s,i,l),n.max=wp(n.max,e,s,i,l)}function Jg(n,{x:e,y:s}){Bu(n.x,e.translate,e.scale,e.originPoint),Bu(n.y,s.translate,s.scale,s.originPoint)}const bp=.999999999999,jp=1.0000000000001;function Ij(n,e,s,i=!1){const l=s.length;if(!l)return;e.x=e.y=1;let c,u;for(let h=0;h<l;h++){c=s[h],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&$r(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Jg(n,u)),i&&Hs(c.latestValues)&&$r(n,c.latestValues))}e.x<jp&&e.x>bp&&(e.x=1),e.y<jp&&e.y>bp&&(e.y=1)}function Mr(n,e){n.min=n.min+e,n.max=n.max+e}function Np(n,e,s,i,l=.5){const c=Ue(n.min,n.max,l);Bu(n,e,s,c,i)}function $r(n,e){Np(n.x,e.x,e.scaleX,e.scale,e.originX),Np(n.y,e.y,e.scaleY,e.scale,e.originY)}function Qg(n,e){return qg(Oj(n.getBoundingClientRect(),e))}function Dj(n,e,s){const i=Qg(n,s),{scroll:l}=e;return l&&(Mr(i.x,l.offset.x),Mr(i.y,l.offset.y)),i}const _p=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vr=()=>({x:_p(),y:_p()}),kp=()=>({min:0,max:0}),qe=()=>({x:kp(),y:kp()}),Fu={current:null},Xg={current:!1};function Lj(){if(Xg.current=!0,!!fd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fu.current=n.matches;n.addEventListener("change",e),e()}else Fu.current=!1}const Mj=new WeakMap;function $j(n,e,s){for(const i in e){const l=e[i],c=s[i];if(wt(l))n.addValue(i,l);else if(wt(c))n.addValue(i,zr(l,{owner:n}));else if(c!==l)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(l):u.hasAnimated||u.set(l)}else{const u=n.getStaticValue(i);n.addValue(i,zr(u!==void 0?u:l,{owner:n}))}}for(const i in s)e[i]===void 0&&n.removeValue(i);return e}const Sp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Vj{scrapeMotionValuesFromProps(e,s,i){return{}}constructor({parent:e,props:s,presenceContext:i,reducedMotionConfig:l,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ot.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,$e.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=s,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=cl(s),this.isVariantNode=Mg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const x in v){const b=v[x];m[x]!==void 0&&wt(b)&&b.set(m[x])}}mount(e){this.current=e,Mj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),Xg.current||Lj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fu.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ws(this.notifyUpdate),ws(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Jr.has(e);i&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&$e.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{l(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hr){const s=Hr[e];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[e]&&l&&i(this.props)&&(this.features[e]=new l(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<Sp.length;i++){const l=Sp[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const c="on"+l,u=e[c];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=$j(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const i=this.values.get(e);s!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&s!==void 0&&(i=zr(s===null?void 0:s,{owner:this}),this.addValue(e,i)),i}readValue(e,s){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(W0(i)||G0(i))?i=parseFloat(i):!K1(i)&&bs.test(s)&&(i=Eg(e,s)),this.setBaseTarget(e,wt(i)?i.get():i)),wt(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const c=Fd(this.props,s,this.presenceContext?.custom);c&&(i=c[e])}if(s&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!wt(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new vd),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Od.render(this.render)}}class Zg extends Vj{constructor(){super(...arguments),this.KeyframeResolver=D1}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:i}){delete s[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wt(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function ey(n,{style:e,vars:s},i,l){const c=n.style;let u;for(u in e)c[u]=e[u];l?.applyProjectionStyles(c,i);for(u in s)c.setProperty(u,s[u])}function Bj(n){return window.getComputedStyle(n)}class Fj extends Zg{constructor(){super(...arguments),this.type="html",this.renderInstance=ey}readValueFromInstance(e,s){if(Jr.has(s))return this.projection?.isProjecting?Au(s):e1(e,s);{const i=Bj(e),l=(bd(s)?i.getPropertyValue(s):i[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Qg(e,s)}build(e,s,i){$d(e,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,s,i){return Ud(e,s,i)}}const ty=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uj(n,e,s,i){ey(n,e,void 0,i);for(const l in e.attrs)n.setAttribute(ty.has(l)?l:zd(l),e.attrs[l])}class zj extends Zg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Jr.has(s)){const i=Sg(s);return i&&i.default||0}return s=ty.has(s)?s:zd(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,i){return Wg(e,s,i)}build(e,s,i){Bg(e,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,s,i,l){Uj(e,s,i,l)}mount(e){this.isSVGTag=Ug(e.tagName),super.mount(e)}}const Wj=(n,e)=>Bd(n)?new zj(e):new Fj(e,{allowProjection:n!==A.Fragment});function Fr(n,e,s){const i=n.getProps();return Fd(i,e,s!==void 0?s:i.custom,n)}const Uu=n=>Array.isArray(n);function Hj(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,zr(s))}function Gj(n){return Uu(n)?n[n.length-1]||0:n}function Kj(n,e){const s=Fr(n,e);let{transitionEnd:i={},transition:l={},...c}=s||{};c={...c,...i};for(const u in c){const h=Gj(c[u]);Hj(n,u,h)}}function qj(n){return!!(wt(n)&&n.add)}function zu(n,e){const s=n.getValue("willChange");if(qj(s))return s.add(e);if(!s&&Un.WillChange){const i=new Un.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function ny(n){return n.props[Hg]}const Yj=n=>n!==null;function Jj(n,{repeat:e,repeatType:s="loop"},i){const l=n.filter(Yj),c=e&&s!=="loop"&&e%2===1?0:l.length-1;return l[c]}const Qj={type:"spring",stiffness:500,damping:25,restSpeed:10},Xj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Zj={type:"keyframes",duration:.8},e2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t2=(n,{keyframes:e})=>e.length>2?Zj:Jr.has(n)?n.startsWith("scale")?Xj(e[1]):Qj:e2;function n2({when:n,delay:e,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:c,repeatType:u,repeatDelay:h,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const Wd=(n,e,s,i={},l,c)=>u=>{const h=Rd(i,n)||{},m=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Nn(m);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:c?void 0:l};n2(h)||Object.assign(g,t2(n,g)),g.duration&&(g.duration=Nn(g.duration)),g.repeatDelay&&(g.repeatDelay=Nn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Mu(g),g.delay===0&&(v=!0)),(Un.instantAnimations||Un.skipAnimations)&&(v=!0,Mu(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!c&&e.get()!==void 0){const x=Jj(g.keyframes,h);if(x!==void 0){$e.update(()=>{g.onUpdate(x),g.onComplete()});return}}return h.isSync?new Pd(g):new N1(g)};function s2({protectedKeys:n,needsAnimating:e},s){const i=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,i}function sy(n,e,{delay:s=0,transitionOverride:i,type:l}={}){let{transition:c=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(c=i);const m=[],p=l&&n.animationState&&n.animationState.getState()[l];for(const g in h){const v=n.getValue(g,n.latestValues[g]??null),x=h[g];if(x===void 0||p&&s2(p,g))continue;const b={delay:s,...Rd(c||{},g)},j=v.get();if(j!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===j&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const C=ny(n);if(C){const D=window.MotionHandoffAnimation(C,g,$e);D!==null&&(b.startTime=D,N=!0)}}zu(n,g),v.start(Wd(g,v,x,n.shouldReduceMotion&&Ng.has(g)?{type:!1}:b,n,N));const k=v.animation;k&&m.push(k)}return u&&Promise.all(m).then(()=>{$e.update(()=>{u&&Kj(n,u)})}),m}function ry(n,e,s,i=0,l=1){const c=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*i;return typeof s=="function"?s(c,u):l===1?c*i:h-c*i}function Wu(n,e,s={}){const i=Fr(n,e,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(l=s.transitionOverride);const c=i?()=>Promise.all(sy(n,i,s)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=l;return r2(n,e,m,p,g,v,s)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,p]=h==="beforeChildren"?[c,u]:[u,c];return m().then(()=>p())}else return Promise.all([c(),u(s.delay)])}function r2(n,e,s=0,i=0,l=0,c=1,u){const h=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),h.push(Wu(m,e,{...u,delay:s+(typeof i=="function"?0:i)+ry(n.variantChildren,m,i,l,c)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function i2(n,e,s={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const l=e.map(c=>Wu(n,c,s));i=Promise.all(l)}else if(typeof e=="string")i=Wu(n,e,s);else{const l=typeof e=="function"?Fr(n,e,s.custom):e;i=Promise.all(sy(n,l,s))}return i.then(()=>{n.notify("AnimationComplete",e)})}function iy(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let i=0;i<s;i++)if(e[i]!==n[i])return!1;return!0}const o2=Md.length;function oy(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?oy(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<o2;s++){const i=Md[s],l=n.props[i];(to(l)||l===!1)&&(e[i]=l)}return e}const a2=[...Ld].reverse(),l2=Ld.length;function c2(n){return e=>Promise.all(e.map(({animation:s,options:i})=>i2(n,s,i)))}function u2(n){let e=c2(n),s=Ep(),i=!0;const l=m=>(p,g)=>{const v=Fr(n,g,m==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:b,...j}=v;p={...p,...j,...b}}return p};function c(m){e=m(n)}function u(m){const{props:p}=n,g=oy(n.parent)||{},v=[],x=new Set;let b={},j=1/0;for(let k=0;k<l2;k++){const C=a2[k],D=s[C],S=p[C]!==void 0?p[C]:g[C],T=to(S),$=C===m?D.isActive:null;$===!1&&(j=k);let B=S===g[C]&&S!==p[C]&&T;if(B&&i&&n.manuallyAnimateOnMount&&(B=!1),D.protectedKeys={...b},!D.isActive&&$===null||!S&&!D.prevProp||ll(S)||typeof S=="boolean")continue;const G=d2(D.prevProp,S);let z=G||C===m&&D.isActive&&!B&&T||k>j&&T,re=!1;const _e=Array.isArray(S)?S:[S];let Oe=_e.reduce(l(C),{});$===!1&&(Oe={});const{prevResolvedValues:M={}}=D,Q={...M,...Oe},xe=ie=>{z=!0,x.has(ie)&&(re=!0,x.delete(ie)),D.needsAnimating[ie]=!0;const W=n.getValue(ie);W&&(W.liveStyle=!1)};for(const ie in Q){const W=Oe[ie],te=M[ie];if(b.hasOwnProperty(ie))continue;let Y=!1;Uu(W)&&Uu(te)?Y=!iy(W,te):Y=W!==te,Y?W!=null?xe(ie):x.add(ie):W!==void 0&&x.has(ie)?xe(ie):D.protectedKeys[ie]=!0}D.prevProp=S,D.prevResolvedValues=Oe,D.isActive&&(b={...b,...Oe}),i&&n.blockInitialAnimation&&(z=!1);const Le=B&&G;z&&(!Le||re)&&v.push(..._e.map(ie=>{const W={type:C};if(typeof ie=="string"&&i&&!Le&&n.manuallyAnimateOnMount&&n.parent){const{parent:te}=n,Y=Fr(te,ie);if(te.enteringChildren&&Y){const{delayChildren:R}=Y.transition||{};W.delay=ry(te.enteringChildren,n,R)}}return{animation:ie,options:W}}))}if(x.size){const k={};if(typeof p.initial!="boolean"){const C=Fr(n,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(k.transition=C.transition)}x.forEach(C=>{const D=n.getBaseTarget(C),S=n.getValue(C);S&&(S.liveStyle=!0),k[C]=D??null}),v.push({animation:k})}let N=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(N=!1),i=!1,N?e(v):Promise.resolve()}function h(m,p){if(s[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),s[m].isActive=p;const g=u(m);for(const v in s)s[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Ep()}}}function d2(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!iy(e,n):!1}function Us(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ep(){return{animate:Us(!0),whileInView:Us(),whileHover:Us(),whileTap:Us(),whileDrag:Us(),whileFocus:Us(),exit:Us()}}class js{constructor(e){this.isMounted=!1,this.node=e}update(){}}class h2 extends js{constructor(e){super(e),e.animationState||(e.animationState=u2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ll(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let f2=0;class m2 extends js{constructor(){super(...arguments),this.id=f2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const l=this.node.animationState.setActive("exit",!e);s&&!e&&l.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const p2={animation:{Feature:h2},exit:{Feature:m2}};function so(n,e,s,i={passive:!0}){return n.addEventListener(e,s,i),()=>n.removeEventListener(e,s)}function uo(n){return{point:{x:n.pageX,y:n.pageY}}}const g2=n=>e=>Id(e)&&n(e,uo(e));function Gi(n,e,s,i){return so(n,e,g2(s),i)}const ay=1e-4,y2=1-ay,v2=1+ay,ly=.01,x2=0-ly,w2=0+ly;function kt(n){return n.max-n.min}function b2(n,e,s){return Math.abs(n-e)<=s}function Tp(n,e,s,i=.5){n.origin=i,n.originPoint=Ue(e.min,e.max,n.origin),n.scale=kt(s)/kt(e),n.translate=Ue(s.min,s.max,n.origin)-n.originPoint,(n.scale>=y2&&n.scale<=v2||isNaN(n.scale))&&(n.scale=1),(n.translate>=x2&&n.translate<=w2||isNaN(n.translate))&&(n.translate=0)}function Ki(n,e,s,i){Tp(n.x,e.x,s.x,i?i.originX:void 0),Tp(n.y,e.y,s.y,i?i.originY:void 0)}function Pp(n,e,s){n.min=s.min+e.min,n.max=n.min+kt(e)}function j2(n,e,s){Pp(n.x,e.x,s.x),Pp(n.y,e.y,s.y)}function Cp(n,e,s){n.min=e.min-s.min,n.max=n.min+kt(e)}function qi(n,e,s){Cp(n.x,e.x,s.x),Cp(n.y,e.y,s.y)}function Zt(n){return[n("x"),n("y")]}const cy=({current:n})=>n?n.ownerDocument.defaultView:null,Rp=(n,e)=>Math.abs(n-e);function N2(n,e){const s=Rp(n.x,e.x),i=Rp(n.y,e.y);return Math.sqrt(s**2+i**2)}class uy{constructor(e,s,{transformPagePoint:i,contextWindow:l=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=cu(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,j=N2(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!j)return;const{point:N}=x,{timestamp:k}=ht;this.history.push({...N,timestamp:k});const{onStart:C,onMove:D}=this.handlers;b||(C&&C(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=lu(b,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:j,onSessionEnd:N,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=cu(x.type==="pointercancel"?this.lastMoveEventInfo:lu(b,this.transformPagePoint),this.history);this.startEvent&&j&&j(x,C),N&&N(x,C)},!Id(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=l||window;const h=uo(e),m=lu(h,this.transformPagePoint),{point:p}=m,{timestamp:g}=ht;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=s;v&&v(e,cu(m,this.history)),this.removeListeners=ao(Gi(this.contextWindow,"pointermove",this.handlePointerMove),Gi(this.contextWindow,"pointerup",this.handlePointerUp),Gi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ws(this.updatePoint)}}function lu(n,e){return e?{point:e(n.point)}:n}function Ap(n,e){return{x:n.x-e.x,y:n.y-e.y}}function cu({point:n},e){return{point:n,delta:Ap(n,dy(e)),offset:Ap(n,_2(e)),velocity:k2(e,.1)}}function _2(n){return n[0]}function dy(n){return n[n.length-1]}function k2(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,i=null;const l=dy(n);for(;s>=0&&(i=n[s],!(l.timestamp-i.timestamp>Nn(e)));)s--;if(!i)return{x:0,y:0};const c=en(l.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(l.x-i.x)/c,y:(l.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function S2(n,{min:e,max:s},i){return e!==void 0&&n<e?n=i?Ue(e,n,i.min):Math.max(n,e):s!==void 0&&n>s&&(n=i?Ue(s,n,i.max):Math.min(n,s)),n}function Op(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function E2(n,{top:e,left:s,bottom:i,right:l}){return{x:Op(n.x,s,l),y:Op(n.y,e,i)}}function Ip(n,e){let s=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,i]=[i,s]),{min:s,max:i}}function T2(n,e){return{x:Ip(n.x,e.x),y:Ip(n.y,e.y)}}function P2(n,e){let s=.5;const i=kt(n),l=kt(e);return l>i?s=Xi(e.min,e.max-i,n.min):i>l&&(s=Xi(n.min,n.max-l,e.min)),Fn(0,1,s)}function C2(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const Hu=.35;function R2(n=Hu){return n===!1?n=0:n===!0&&(n=Hu),{x:Dp(n,"left","right"),y:Dp(n,"top","bottom")}}function Dp(n,e,s){return{min:Lp(n,e),max:Lp(n,s)}}function Lp(n,e){return typeof n=="number"?n:n[e]||0}const A2=new WeakMap;class O2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const c=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(uo(v).point)},u=(v,x)=>{const{drag:b,dragPropagation:j,onDragStart:N}=this.getProps();if(b&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=V1(b),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(C=>{let D=this.getAxisMotionValue(C).get()||0;if(_n.test(D)){const{projection:S}=this.visualElement;if(S&&S.layout){const T=S.layout.layoutBox[C];T&&(D=kt(T)*(parseFloat(D)/100))}}this.originPoint[C]=D}),N&&$e.postRender(()=>N(v,x)),zu(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:b,dragDirectionLock:j,onDirectionLock:N,onDrag:k}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=x;if(j&&this.currentDirection===null){this.currentDirection=I2(C),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",x.point,C),this.updateAxis("y",x.point,C),this.visualElement.render(),k&&k(v,x)},m=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Zt(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new uy(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:cy(this.visualElement)})}stop(e,s){const i=e||this.latestPointerEvent,l=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!l||!i)return;const{velocity:u}=l;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&$e.postRender(()=>h(i,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,i){const{drag:l}=this.getProps();if(!i||!Pa(e,l,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=S2(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;e&&Lr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=E2(i.layoutBox,e):this.constraints=!1,this.elastic=R2(s),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Zt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=C2(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Lr(e))return!1;const i=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const c=Dj(i,l.root,this.visualElement.getTransformPagePoint());let u=T2(l.layout.layoutBox,c);if(s){const h=s(Aj(u));this.hasMutatedConstraints=!!h,h&&(u=qg(h))}return u}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=Zt(g=>{if(!Pa(g,s,this.currentDirection))return;let v=m&&m[g]||{};u&&(v={min:0,max:0});const x=l?200:1e6,b=l?40:1e7,j={type:"inertia",velocity:i?e[g]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...v};return this.startAxisValueAnimation(g,j)});return Promise.all(p).then(h)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return zu(this.visualElement,e),i.start(Wd(e,i,0,s,this.visualElement,!1))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Zt(s=>{const{drag:i}=this.getProps();if(!Pa(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,c=this.getAxisMotionValue(s);if(l&&l.layout){const{min:u,max:h}=l.layout.layoutBox[s];c.set(e[s]-Ue(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Lr(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Zt(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();l[u]=P2({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Zt(u=>{if(!Pa(u,e,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(Ue(m,p,l[u]))})}addListeners(){if(!this.visualElement.current)return;A2.set(this.visualElement,this);const e=this.visualElement.current,s=Gi(e,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Lr(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,c=l.addEventListener("measure",i);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),$e.read(i);const u=so(window,"resize",()=>this.scalePositionWithinConstraints()),h=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Zt(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=m[g].translate,v.set(v.get()+m[g].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:c=!1,dragElastic:u=Hu,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function Pa(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function I2(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class D2 extends js{constructor(e){super(e),this.removeGroupControls=tn,this.removeListeners=tn,this.controls=new O2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mp=n=>(e,s)=>{n&&$e.postRender(()=>n(e,s))};class L2 extends js{constructor(){super(...arguments),this.removePointerDownListener=tn}onPointerDown(e){this.session=new uy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:Mp(e),onStart:Mp(s),onMove:i,onEnd:(c,u)=>{delete this.session,l&&$e.postRender(()=>l(c,u))}}}mount(){this.removePointerDownListener=Gi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $p(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Bi={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ve.test(n))n=parseFloat(n);else return n;const s=$p(n,e.target.x),i=$p(n,e.target.y);return`${s}% ${i}%`}},M2={correct:(n,{treeScale:e,projectionDelta:s})=>{const i=n,l=bs.parse(n);if(l.length>5)return i;const c=bs.createTransformer(n),u=typeof l[0]!="number"?1:0,h=s.x.scale*e.x,m=s.y.scale*e.y;l[0+u]/=h,l[1+u]/=m;const p=Ue(h,m,.5);return typeof l[2+u]=="number"&&(l[2+u]/=p),typeof l[3+u]=="number"&&(l[3+u]/=p),c(l)}};let uu=!1;class $2 extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:c}=e;oj(V2),c&&(s.group&&s.group.add(c),i&&i.register&&l&&i.register(c),uu&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Wa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:l,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,uu=!0,l||e.layoutDependency!==s||s===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||$e.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Od.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=e;uu=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hy(n){const[e,s]=Ig(),i=A.useContext(dd);return o.jsx($2,{...n,layoutGroup:i,switchLayoutGroup:A.useContext(Gg),isPresent:e,safeToRemove:s})}const V2={borderRadius:{...Bi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bi,borderTopRightRadius:Bi,borderBottomLeftRadius:Bi,borderBottomRightRadius:Bi,boxShadow:M2};function B2(n,e,s){const i=wt(n)?n:zr(n);return i.start(Wd("",i,e,s)),i.animation}const F2=(n,e)=>n.depth-e.depth;class U2{constructor(){this.children=[],this.isDirty=!1}add(e){md(this.children,e),this.isDirty=!0}remove(e){pd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(F2),this.isDirty=!1,this.children.forEach(e)}}function z2(n,e){const s=Ot.now(),i=({timestamp:l})=>{const c=l-s;c>=e&&(ws(i),n(c-e))};return $e.setup(i,!0),()=>ws(i)}const fy=["TopLeft","TopRight","BottomLeft","BottomRight"],W2=fy.length,Vp=n=>typeof n=="string"?parseFloat(n):n,Bp=n=>typeof n=="number"||ve.test(n);function H2(n,e,s,i,l,c){l?(n.opacity=Ue(0,s.opacity??1,G2(i)),n.opacityExit=Ue(e.opacity??1,0,K2(i))):c&&(n.opacity=Ue(e.opacity??1,s.opacity??1,i));for(let u=0;u<W2;u++){const h=`border${fy[u]}Radius`;let m=Fp(e,h),p=Fp(s,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Bp(m)===Bp(p)?(n[h]=Math.max(Ue(Vp(m),Vp(p),i),0),(_n.test(p)||_n.test(m))&&(n[h]+="%")):n[h]=p}(e.rotate||s.rotate)&&(n.rotate=Ue(e.rotate||0,s.rotate||0,i))}function Fp(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const G2=my(0,.5,eg),K2=my(.5,.95,tn);function my(n,e,s){return i=>i<n?0:i>e?1:s(Xi(n,e,i))}function Up(n,e){n.min=e.min,n.max=e.max}function Xt(n,e){Up(n.x,e.x),Up(n.y,e.y)}function zp(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Wp(n,e,s,i,l){return n-=e,n=Ja(n,1/s,i),l!==void 0&&(n=Ja(n,1/l,i)),n}function q2(n,e=0,s=1,i=.5,l,c=n,u=n){if(_n.test(e)&&(e=parseFloat(e),e=Ue(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Ue(c.min,c.max,i);n===c&&(h-=e),n.min=Wp(n.min,e,s,h,l),n.max=Wp(n.max,e,s,h,l)}function Hp(n,e,[s,i,l],c,u){q2(n,e[s],e[i],e[l],e.scale,c,u)}const Y2=["x","scaleX","originX"],J2=["y","scaleY","originY"];function Gp(n,e,s,i){Hp(n.x,e,Y2,s?s.x:void 0,i?i.x:void 0),Hp(n.y,e,J2,s?s.y:void 0,i?i.y:void 0)}function Kp(n){return n.translate===0&&n.scale===1}function py(n){return Kp(n.x)&&Kp(n.y)}function qp(n,e){return n.min===e.min&&n.max===e.max}function Q2(n,e){return qp(n.x,e.x)&&qp(n.y,e.y)}function Yp(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function gy(n,e){return Yp(n.x,e.x)&&Yp(n.y,e.y)}function Jp(n){return kt(n.x)/kt(n.y)}function Qp(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class X2{constructor(){this.members=[]}add(e){md(this.members,e),e.scheduleRender()}remove(e){if(pd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(l=>e===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const c=this.members[l];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z2(n,e,s){let i="";const l=n.x.translate/e.x,c=n.y.translate/e.y,u=s?.z||0;if((l||c||u)&&(i=`translate3d(${l}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:x,skewX:b,skewY:j}=s;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),b&&(i+=`skewX(${b}deg) `),j&&(i+=`skewY(${j}deg) `)}const h=n.x.scale*e.x,m=n.y.scale*e.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const du=["","X","Y","Z"],eN=1e3;let tN=0;function hu(n,e,s,i){const{latestValues:l}=e;l[n]&&(s[n]=l[n],e.setStaticValue(n,0),i&&(i[n]=0))}function yy(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=ny(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",$e,!(l||c))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&yy(i)}function vy({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(u={},h=e?.()){this.id=tN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rN),this.nodes.forEach(lN),this.nodes.forEach(cN),this.nodes.forEach(iN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new U2)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new vd),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Og(u)&&!H1(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),n){let g,v=0;const x=()=>this.root.updateBlockedByResize=!1;$e.read(()=>{v=window.innerWidth}),n(u,()=>{const b=window.innerWidth;b!==v&&(v=b,this.root.updateBlockedByResize=!0,g&&g(),g=z2(x,250),Wa.hasAnimatedSinceResize&&(Wa.hasAnimatedSinceResize=!1,this.nodes.forEach(e0)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||mN,{onLayoutAnimationStart:N,onLayoutAnimationComplete:k}=p.getProps(),C=!this.targetLayout||!gy(this.targetLayout,b),D=!v&&x;if(this.options.layoutRoot||this.resumeFrom||D||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Rd(j,"layout"),onPlay:N,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(g,D)}else v||e0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uN),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(aN),this.nodes.forEach(nN),this.nodes.forEach(sN)):this.nodes.forEach(Zp),this.clearAllSnapshots();const h=Ot.now();ht.delta=Fn(0,1e3/60,h-ht.timestamp),ht.timestamp=h,ht.isProcessing=!0,eu.update.process(ht),eu.preRender.process(ht),eu.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Od.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oN),this.sharedNodes.forEach(dN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kt(this.snapshot.measuredBox.x)&&!kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!py(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Hs(this.latestValues)||g)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),pN(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return qe();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(gN))){const{scroll:p}=this.root;p&&(Mr(h.x,p.offset.x),Mr(h.y,p.offset.y))}return h}removeElementScroll(u){const h=qe();if(Xt(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Xt(h,u),Mr(h.x,g.offset.x),Mr(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const m=qe();Xt(m,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&$r(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Hs(g.latestValues)&&$r(m,g.latestValues)}return Hs(this.latestValues)&&$r(m,this.latestValues),m}removeTransform(u){const h=qe();Xt(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Hs(p.latestValues))continue;Vu(p.latestValues)&&p.updateSnapshot();const g=qe(),v=p.measurePageBox();Xt(g,v),Gp(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Hs(this.latestValues)&&Gp(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),qi(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),Jg(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),qi(this.relativeTargetOrigin,this.target,x.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vu(this.parent.latestValues)||Yg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Xt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;Ij(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=qe());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zp(this.prevProjectionDelta.x,this.projectionDelta.x),zp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ki(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!Qp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vr(),this.projectionDelta=Vr(),this.projectionDeltaWithTransform=Vr()}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},v=Vr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=qe(),b=m?m.source:void 0,j=this.layout?this.layout.source:void 0,N=b!==j,k=this.getStack(),C=!k||k.members.length<=1,D=!!(N&&!C&&this.options.crossfade===!0&&!this.path.some(fN));this.animationProgress=0;let S;this.mixTargetDelta=T=>{const $=T/1e3;t0(v.x,u.x,$),t0(v.y,u.y,$),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qi(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hN(this.relativeTarget,this.relativeTargetOrigin,x,$),S&&Q2(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=qe()),Xt(S,this.relativeTarget)),N&&(this.animationValues=g,H2(g,p,this.latestValues,$,D,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{Wa.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zr(0)),this.currentAnimation=B2(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:g}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&xy(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||qe();const v=kt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const x=kt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+x}Xt(h,m),$r(h,g),Ki(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new X2),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&hu("z",u,p,this.animationValues);for(let g=0;g<du.length;g++)hu(`rotate${du[g]}`,u,p,this.animationValues),hu(`skew${du[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=za(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=za(h?.pointerEvents)||""),this.hasProjected&&!Hs(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Z2(this.projectionDeltaWithTransform,this.treeScale,g);m&&(v=m(g,v)),u.transform=v;const{x,y:b}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const j in no){if(g[j]===void 0)continue;const{correct:N,applyTo:k,isCSSVariable:C}=no[j],D=v==="none"?g[j]:N(g[j],p);if(k){const S=k.length;for(let T=0;T<S;T++)u[k[T]]=D}else C?this.options.visualElement.renderState.vars[j]=D:u[j]=D}this.options.layoutId&&(u.pointerEvents=p===this?za(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Xp),this.root.sharedNodes.clear()}}}function nN(n){n.updateLayout()}function sN(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=n.layout,{animationType:l}=n.options,c=e.source!==n.layout.source;l==="size"?Zt(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],x=kt(v);v.min=s[g].min,v.max=v.min+x}):xy(l,e.layoutBox,s)&&Zt(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],x=kt(s[g]);v.max=v.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+x)});const u=Vr();Ki(u,s,e.layoutBox);const h=Vr();c?Ki(h,n.applyTransform(i,!0),e.measuredBox):Ki(h,s,e.layoutBox);const m=!py(u);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const b=qe();qi(b,e.layoutBox,v.layoutBox);const j=qe();qi(j,s,x.layoutBox),gy(b,j)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=b,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function rN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function iN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function oN(n){n.clearSnapshot()}function Xp(n){n.clearMeasurements()}function Zp(n){n.isLayoutDirty=!1}function aN(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function e0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function lN(n){n.resolveTargetDelta()}function cN(n){n.calcProjection()}function uN(n){n.resetSkewAndRotation()}function dN(n){n.removeLeadSnapshot()}function t0(n,e,s){n.translate=Ue(e.translate,0,s),n.scale=Ue(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function n0(n,e,s,i){n.min=Ue(e.min,s.min,i),n.max=Ue(e.max,s.max,i)}function hN(n,e,s,i){n0(n.x,e.x,s.x,i),n0(n.y,e.y,s.y,i)}function fN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const mN={duration:.45,ease:[.4,0,.1,1]},s0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),r0=s0("applewebkit/")&&!s0("chrome/")?Math.round:tn;function i0(n){n.min=r0(n.min),n.max=r0(n.max)}function pN(n){i0(n.x),i0(n.y)}function xy(n,e,s){return n==="position"||n==="preserve-aspect"&&!b2(Jp(e),Jp(s),.2)}function gN(n){return n!==n.root&&n.scroll?.wasRoot}const yN=vy({attachResizeListener:(n,e)=>so(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fu={current:void 0},wy=vy({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!fu.current){const n=new yN({});n.mount(window),n.setOptions({layoutScroll:!0}),fu.current=n}return fu.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),vN={pan:{Feature:L2},drag:{Feature:D2,ProjectionNode:wy,MeasureLayout:hy}};function o0(n,e,s){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,c=i[l];c&&$e.postRender(()=>c(e,uo(e)))}class xN extends js{mount(){const{current:e}=this.node;e&&(this.unmount=B1(e,(s,i)=>(o0(this.node,i,"Start"),l=>o0(this.node,l,"End"))))}unmount(){}}class wN extends js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ao(so(this.node.current,"focus",()=>this.onFocus()),so(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a0(n,e,s){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),c=i[l];c&&$e.postRender(()=>c(e,uo(e)))}class bN extends js{mount(){const{current:e}=this.node;e&&(this.unmount=W1(e,(s,i)=>(a0(this.node,i,"Start"),(l,{success:c})=>a0(this.node,l,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gu=new WeakMap,mu=new WeakMap,jN=n=>{const e=Gu.get(n.target);e&&e(n)},NN=n=>{n.forEach(jN)};function _N({root:n,...e}){const s=n||document;mu.has(s)||mu.set(s,{});const i=mu.get(s),l=JSON.stringify(e);return i[l]||(i[l]=new IntersectionObserver(NN,{root:n,...e})),i[l]}function kN(n,e,s){const i=_N(e);return Gu.set(n,s),i.observe(n),()=>{Gu.delete(n),i.unobserve(n)}}const SN={some:0,all:1};class EN extends js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:c}=e,u={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:SN[l]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=p?g:v;x&&x(m)};return kN(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(TN(e,s))&&this.startObserver()}unmount(){}}function TN({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const PN={inView:{Feature:EN},tap:{Feature:bN},focus:{Feature:wN},hover:{Feature:xN}},CN={layout:{ProjectionNode:wy,MeasureLayout:hy}},RN={...p2,...PN,...vN,...CN},V=Rj(RN,Wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ON=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,i)=>i?i.toUpperCase():s.toLowerCase()),l0=n=>{const e=ON(n);return e.charAt(0).toUpperCase()+e.slice(1)},by=(...n)=>n.filter((e,s,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=A.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:u,...h},m)=>A.createElement("svg",{ref:m,...IN,width:e,height:e,stroke:n,strokeWidth:i?Number(s)*24/Number(e):s,className:by("lucide",l),...h},[...u.map(([p,g])=>A.createElement(p,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(n,e)=>{const s=A.forwardRef(({className:i,...l},c)=>A.createElement(DN,{ref:c,iconNode:e,className:by(`lucide-${AN(l0(n))}`,`lucide-${n}`,i),...l}));return s.displayName=l0(n),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nn=fe("arrow-left",LN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jy=fe("arrow-right",MN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],VN=fe("ban",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hd=fe("bell",BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ny=fe("book-open",FN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Ku=fe("bookmark-check",UN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],_y=fe("building-2",zN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],HN=fe("building",WN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vn=fe("calendar",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],qN=fe("camera",KN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],c0=fe("check",YN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QN=fe("chevron-left",JN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],u0=fe("chevron-right",XN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bn=fe("circle-check-big",ZN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Br=fe("circle-x",e_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],tr=fe("clock",t_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],d0=fe("dollar-sign",n_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ky=fe("download",s_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],i_=fe("dumbbell",r_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],qu=fe("eye-off",o_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qa=fe("eye",a_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],c_=fe("graduation-cap",l_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],d_=fe("hash",u_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Xa=fe("heart",h_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],vs=fe("house",f_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],p_=fe("image",m_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Gd=fe("indian-rupee",g_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ul=fe("loader-circle",y_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ha=fe("lock",v_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Kd=fe("log-out",x_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Gr=fe("mail",w_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bt=fe("map-pin",b_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],pu=fe("message-circle",j_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],__=fe("pen",N_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],qd=fe("phone",k_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yu=fe("plus",S_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],T_=fe("refresh-cw",E_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],C_=fe("save",P_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],dl=fe("search",R_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yd=fe("shield",A_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],I_=fe("shirt",O_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],L_=fe("sliders-horizontal",D_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$_=fe("square-pen",M_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ut=fe("star",V_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],F_=fe("thumbs-up",B_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Sy=fe("trash-2",U_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ui=fe("trending-up",z_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],H_=fe("upload",W_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jd=fe("user",G_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Qs=fe("users",K_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Y_=fe("utensils",q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ey=fe("wifi",J_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],X_=fe("wind",Q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Za=fe("x",Z_);function ek({onComplete:n}){const[e,s]=A.useState(0),[i,l]=A.useState(!1),[c,u]=A.useState(!1);A.useEffect(()=>{const m=setInterval(()=>{s(p=>{if(p>=100)return clearInterval(m),100;const g=Math.random()*15+5;return Math.min(p+g,100)})},200);return()=>clearInterval(m)},[]),A.useEffect(()=>{e===100&&setTimeout(()=>{l(!0),u(!0)},800)},[e]);const h=()=>{n()};return o.jsx(Wr,{children:o.jsxs(V.div,{className:"fixed inset-0 bg-gradient-to-br from-stone-900 via-amber-900 to-stone-900 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,y:-50},transition:{duration:.8},children:[o.jsx("div",{className:"absolute inset-0 opacity-30",children:o.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-tr from-amber-500/30 via-transparent to-amber-500/30",animate:{x:["-100%","100%"]},transition:{duration:8,repeat:1/0,ease:"linear"}})}),o.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((m,p)=>o.jsx(V.div,{className:"absolute w-2 h-2 bg-amber-400/20 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],opacity:[.2,.5,.2],scale:[1,1.5,1]},transition:{duration:5+Math.random()*5,repeat:1/0,delay:Math.random()*2,ease:"easeInOut"}},p))}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen px-6",children:[o.jsxs(V.div,{className:"flex flex-col items-center mb-12",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.8,type:"spring",stiffness:100},children:[o.jsxs(V.div,{className:"relative mb-6",animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[o.jsx(V.div,{className:"absolute inset-0 bg-amber-500 rounded-full blur-2xl opacity-50",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),o.jsx("div",{className:"relative bg-gradient-to-br from-amber-400 to-amber-600 rounded-full p-6 shadow-2xl",children:o.jsx(bt,{className:"w-16 h-16 text-white",strokeWidth:2.5})})]}),o.jsx(V.h1,{className:"text-white text-center tracking-wider mb-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:1},children:"PG Locator"}),o.jsx(V.p,{className:"text-amber-200 text-center max-w-md",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},children:"Find your perfect stay near ADTU"})]}),o.jsxs(V.div,{className:"w-full max-w-xs",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.6},children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx("div",{className:"w-full h-1.5 bg-stone-800 rounded-full overflow-hidden",children:o.jsx(V.div,{className:"h-full bg-gradient-to-r from-amber-500 via-amber-400 to-amber-500 rounded-full",initial:{width:"0%"},animate:{width:`${e}%`},transition:{duration:.3,ease:"easeOut"},children:o.jsx(V.div,{className:"h-full w-full bg-gradient-to-r from-transparent via-white to-transparent opacity-50",animate:{x:["-100%","200%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})})}),o.jsxs(V.div,{className:"text-amber-300 text-center mt-3",animate:{opacity:i?0:1},children:[Math.round(e),"%"]})]}),o.jsx(V.p,{className:"text-stone-400 text-center",animate:{opacity:i?0:1},children:"Setting up your neighborhood..."})]}),o.jsx(Wr,{children:c&&o.jsxs(V.button,{className:"mt-12 px-10 py-4 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden group",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:200,damping:15},onClick:h,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Tap to continue to onboarding",children:[o.jsx(V.div,{className:"absolute inset-0 bg-white rounded-full opacity-0 group-hover:opacity-20",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),o.jsx("span",{className:"relative z-10",children:"Tap to Continue"})]})})]}),o.jsx("div",{className:"sr-only",role:"status","aria-live":"polite",children:e<100?`Loading PG Locator, ${Math.round(e)}% complete`:"Loading complete. Tap to continue."})]})})}const tk=[{id:"student",title:"Student",description:"Find and book verified PGs near ADTU campus",icon:c_,color:"from-blue-500 to-blue-600",hoverColor:"hover:from-blue-600 hover:to-blue-700",features:["Browse listings","Read reviews","Book instantly","Connect with owners"]},{id:"owner",title:"Property Owner",description:"List and manage your PG properties",icon:vs,color:"from-amber-500 to-amber-600",hoverColor:"hover:from-amber-600 hover:to-amber-700",features:["List properties","Manage bookings","Track earnings","Verify students"]},{id:"admin",title:"Admin",description:"Oversee and verify PG listings",icon:Yd,color:"from-purple-500 to-purple-600",hoverColor:"hover:from-purple-600 hover:to-purple-700",features:["Verify listings","Manage users","View analytics","Handle disputes"]}];function nk({onRoleSelect:n}){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx(V.div,{className:"absolute top-0 left-1/4 w-96 h-96 bg-amber-200 rounded-full blur-3xl opacity-20",animate:{scale:[1,1.3,1],y:[0,50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),o.jsx(V.div,{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-blue-200 rounded-full blur-3xl opacity-20",animate:{scale:[1.3,1,1.3],y:[0,-50,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]}),o.jsx(V.header,{className:"relative z-20 flex justify-center items-center p-6 md:p-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bt,{className:"w-6 h-6 text-amber-700"}),o.jsx("span",{className:"text-amber-900",children:"PG Locator"})]})}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12",children:[o.jsxs(V.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsx("h1",{className:"text-amber-900 mb-4",children:"Choose Your Role"}),o.jsx("p",{className:"text-stone-600 max-w-2xl mx-auto",children:"Select how you'd like to use PG Locator. You can always change this later in settings."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:tk.map((e,s)=>o.jsxs(V.button,{onClick:()=>n(e.id),className:"group relative bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 text-left overflow-hidden",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.3+s*.1,duration:.5},whileHover:{scale:1.03,y:-5},whileTap:{scale:.98},"aria-label":`Select ${e.title} role`,children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),o.jsx(V.div,{className:`relative inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br ${e.color} mb-6 shadow-md`,whileHover:{rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:o.jsx(e.icon,{className:"w-8 h-8 text-white",strokeWidth:2})}),o.jsx("h3",{className:"text-stone-900 mb-2 group-hover:text-amber-900 transition-colors",children:e.title}),o.jsx("p",{className:"text-stone-600 mb-6",children:e.description}),o.jsx("ul",{className:"space-y-2 mb-6",children:e.features.map((i,l)=>o.jsxs(V.li,{className:"flex items-center gap-2 text-stone-500",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5+l*.05},children:[o.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-gradient-to-br ${e.color}`}),o.jsx("span",{children:i})]},l))}),o.jsxs("div",{className:"flex items-center gap-2 text-amber-700 group-hover:text-amber-800 transition-colors",children:[o.jsx("span",{children:"Select Role"}),o.jsx(jy,{className:"w-4 h-4 group-hover:translate-x-2 transition-transform duration-300"})]}),o.jsx(V.div,{className:`absolute -bottom-12 -right-12 w-32 h-32 rounded-full bg-gradient-to-br ${e.color} opacity-10`,animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:s*.5}}),o.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20",initial:{x:"-100%"},whileHover:{x:"200%",transition:{duration:.8}}})]},e.id))}),o.jsx(V.div,{className:"text-center mt-16 text-stone-500",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:o.jsx("p",{children:"Your data is secure and you can switch roles anytime from your profile settings"})})]}),o.jsx("div",{className:"sr-only",role:"status","aria-live":"polite",children:"Role selection screen. Choose between Student, Property Owner, or Admin roles."})]})}const sk="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function xs(n){const[e,s]=A.useState(!1),i=()=>{s(!0)},{src:l,alt:c,style:u,className:h,...m}=n;return e?o.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:u,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsx("img",{src:sk,alt:"Error loading image",...m,"data-original-url":l})})}):o.jsx("img",{src:l,alt:c,className:h,style:u,...m,onError:i})}const dn=[{id:1,title:"Find Trusted PGs Nearby ADTU",subtitle:"Discover verified paying guest accommodations within walking distance of your campus",image:"https://images.unsplash.com/photo-1668089677938-b52086753f77?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb2Rlcm4lMjBiZWRyb29tJTIwaW50ZXJpb3J8ZW58MXx8fHwxNzYyNDI0MTQzfDA&ixlib=rb-4.1.0&q=80&w=1080",icon:bt},{id:2,title:"Verified Owners & Real Reviews",subtitle:"Browse authentic reviews from fellow students and connect with verified property owners",image:"https://images.unsplash.com/photo-1579632151052-92f741fb9b79?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb3p5JTIwc3R1ZGVudCUyMHJvb218ZW58MXx8fHwxNzYyMzc0OTQ3fDA&ixlib=rb-4.1.0&q=80&w=1080",icon:Ut},{id:3,title:"Manage or List Your Property With Ease",subtitle:"Property owners can list, manage bookings, and connect with students effortlessly",image:"https://images.unsplash.com/photo-1658248709868-3b5ab38c7c8d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9wZXJ0eSUyMG1hbmFnZW1lbnQlMjBkYXNoYm9hcmR8ZW58MXx8fHwxNzYyNDE1ODgyfDA&ixlib=rb-4.1.0&q=80&w=1080",icon:_y}];function rk({onRoleSelect:n,onSkip:e}){const[s,i]=A.useState(0),[l,c]=A.useState(0),[u,h]=A.useState(!1),m=()=>{s<dn.length-1?(c(1),i(s+1)):h(!0)},p=()=>{s>0&&(c(-1),i(s-1))},g=x=>{c(x>s?1:-1),i(x)},v={enter:x=>({x:x>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:x=>({zIndex:0,x:x<0?1e3:-1e3,opacity:0})};return u?o.jsx(nk,{onRoleSelect:n}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx(V.div,{className:"absolute top-20 -right-20 w-64 h-64 bg-amber-200 rounded-full blur-3xl opacity-20",animate:{scale:[1,1.2,1],x:[0,30,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),o.jsx(V.div,{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-stone-300 rounded-full blur-3xl opacity-20",animate:{scale:[1.2,1,1.2],x:[0,-30,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),o.jsxs(V.header,{className:"relative z-20 flex justify-between items-center p-6 md:p-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bt,{className:"w-6 h-6 text-amber-700"}),o.jsx("span",{className:"text-amber-900",children:"PG Locator"})]}),o.jsx("button",{onClick:()=>h(!0),className:"text-stone-600 hover:text-amber-700 transition-colors duration-300 px-4 py-2 rounded-full hover:bg-white/50","aria-label":"Skip onboarding",children:"Skip"})]}),o.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 pb-12",children:o.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex flex-col justify-center",children:[o.jsx("div",{className:"relative overflow-hidden mb-12",children:o.jsx(Wr,{initial:!1,custom:l,mode:"wait",children:o.jsxs(V.div,{custom:l,variants:v,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.3}},className:"grid md:grid-cols-2 gap-8 md:gap-16 items-center",children:[o.jsxs(V.div,{className:"relative order-2 md:order-1",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},children:[o.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl aspect-[4/3]",children:[o.jsx(xs,{src:dn[s].image,alt:dn[s].title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-amber-900/30 to-transparent"}),o.jsx(V.div,{className:"absolute top-6 right-6 bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg",animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:(()=>{const x=dn[s].icon;return x?o.jsx(x,{className:"w-8 h-8 text-amber-700"}):null})()})]}),o.jsx(V.div,{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-amber-400 rounded-full blur-2xl opacity-20 -z-10",animate:{scale:[1,1.3,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),o.jsxs(V.div,{className:"order-1 md:order-2 text-center md:text-left",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:[o.jsx(V.h2,{className:"text-amber-900 mb-6 max-w-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:dn[s].title}),o.jsx(V.p,{className:"text-stone-600 mb-8 max-w-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:dn[s].subtitle}),o.jsxs(V.button,{onClick:m,className:"group inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 relative overflow-hidden",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[o.jsx("span",{children:s===dn.length-1?"Get Started":"Next"}),o.jsx(u0,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),o.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:1}})]})]})]},s)})}),o.jsxs("div",{className:"flex items-center justify-center gap-8",children:[o.jsx("button",{onClick:p,disabled:s===0,className:"p-3 rounded-full bg-white shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed hover:scale-110 active:scale-95","aria-label":"Previous slide",children:o.jsx(QN,{className:"w-6 h-6 text-amber-700"})}),o.jsx("div",{className:"flex gap-3",children:dn.map((x,b)=>o.jsx("button",{onClick:()=>g(b),className:"relative group","aria-label":`Go to slide ${b+1}`,"aria-current":s===b?"true":"false",children:o.jsx(V.div,{className:`w-3 h-3 rounded-full transition-all duration-300 ${s===b?"bg-amber-600 w-12":"bg-stone-300 hover:bg-amber-400"}`,whileHover:{scale:1.2},whileTap:{scale:.9}})},b))}),o.jsx("button",{onClick:m,className:"p-3 rounded-full bg-amber-600 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110 active:scale-95","aria-label":s===dn.length-1?"Get started":"Next slide",children:o.jsx(u0,{className:"w-6 h-6 text-white"})})]})]})}),o.jsxs("div",{className:"sr-only",role:"status","aria-live":"polite","aria-atomic":"true",children:["Slide ",s+1," of ",dn.length,": ",dn[s].title]})]})}function ik({children:n,title:e,subtitle:s}){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-amber-50 to-stone-50 flex",children:[o.jsxs(V.div,{className:"hidden lg:flex lg:w-2/5 xl:w-1/2 bg-gradient-to-br from-amber-900 via-stone-900 to-amber-900 relative overflow-hidden",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[o.jsx("div",{className:"absolute inset-0 opacity-30",children:o.jsx(xs,{src:"https://images.unsplash.com/photo-1724204401208-6349fc373543?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsb2dpbiUyMGF1dGhlbnRpY2F0aW9uJTIwaWxsdXN0cmF0aW9ufGVufDF8fHx8MTc2MjQzMTk5NXww&ixlib=rb-4.1.0&q=80&w=1080",alt:"Authentication background",className:"w-full h-full object-cover"})}),o.jsx(V.div,{className:"absolute inset-0 bg-gradient-to-tr from-amber-600/20 via-transparent to-amber-600/20",animate:{x:["-100%","100%"]},transition:{duration:10,repeat:1/0,ease:"linear"}}),o.jsx("div",{className:"relative z-10 flex flex-col justify-center px-12 xl:px-20",children:o.jsxs(V.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.8},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[o.jsx("div",{className:"bg-amber-500 rounded-full p-3",children:o.jsx(bt,{className:"w-8 h-8 text-white"})}),o.jsx("span",{className:"text-white text-2xl",children:"PG Locator"})]}),o.jsx("h2",{className:"text-white mb-6 leading-tight",children:"Find Your Perfect Stay Near ADTU"}),o.jsx("p",{className:"text-amber-200 text-xl leading-relaxed max-w-md",children:"Trusted by thousands of students. Verified properties, authentic reviews, and seamless booking experience."}),o.jsx("div",{className:"mt-12 space-y-4",children:[" Verified PG accommodations"," Real student reviews"," Near campus locations"," Secure booking process"].map((i,l)=>o.jsxs(V.div,{className:"flex items-center gap-3 text-amber-100",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5+l*.1},children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),o.jsx("span",{children:i})]},l))})]})}),o.jsx(V.div,{className:"absolute bottom-10 right-10 w-64 h-64 rounded-full bg-amber-500 blur-3xl opacity-20",animate:{scale:[1,1.2,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6 md:p-12",children:o.jsxs(V.div,{className:"w-full max-w-md",initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[o.jsxs("div",{className:"lg:hidden flex items-center gap-2 mb-8",children:[o.jsx(bt,{className:"w-6 h-6 text-amber-700"}),o.jsx("span",{className:"text-amber-900",children:"PG Locator"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-stone-900 mb-2",children:e}),o.jsx("p",{className:"text-stone-600",children:s})]}),n,o.jsx(V.div,{className:"mt-8 p-4 bg-amber-50 rounded-xl border border-amber-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:o.jsx("p",{className:"text-stone-600 text-center",children:" Your privacy is our priority. All data is encrypted and secure."})}),o.jsxs(V.div,{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[o.jsx("p",{className:"text-blue-900 mb-2 text-center",children:" Demo Credentials"}),o.jsxs("div",{className:"space-y-2 text-xs text-blue-800",children:[o.jsxs("div",{className:"bg-white rounded p-2",children:[o.jsx("p",{className:"font-medium",children:"Student:"}),o.jsx("p",{children:"teststuff677+test@gmail.com"}),o.jsx("p",{children:"Password: 123456"})]}),o.jsxs("div",{className:"bg-white rounded p-2",children:[o.jsx("p",{className:"font-medium",children:"Owner:"}),o.jsx("p",{children:"teststuff677+test1@gmail.com"}),o.jsx("p",{children:"Password: 123456"})]}),o.jsxs("div",{className:"bg-white rounded p-2",children:[o.jsx("p",{className:"font-medium",children:"Admin:"}),o.jsx("p",{children:"teststuff677@gmail.com"}),o.jsx("p",{children:"Password: akash97"})]})]})]}),o.jsxs("div",{className:"mt-6 flex items-center justify-center gap-6 text-stone-500",children:[o.jsx("a",{href:"#",className:"hover:text-amber-700 transition-colors",children:"Help"}),o.jsx("span",{children:""}),o.jsx("a",{href:"#",className:"hover:text-amber-700 transition-colors",children:"Privacy"}),o.jsx("span",{children:""}),o.jsx("a",{href:"#",className:"hover:text-amber-700 transition-colors",children:"Contact"})]})]})})]})}var Ju=function(n,e){return Ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=i[l])},Ju(n,e)};function Ty(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ju(n,e);function s(){this.constructor=n}n.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var el=function(){return el=Object.assign||function(e){for(var s,i=1,l=arguments.length;i<l;i++){s=arguments[i];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e},el.apply(this,arguments)};function Qr(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(n);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(n,i[l])&&(s[i[l]]=n[i[l]]);return s}function Py(n,e,s,i){var l=arguments.length,c=l<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,s):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,e,s,i);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(c=(l<3?u(c):l>3?u(e,s,c):u(e,s))||c);return l>3&&c&&Object.defineProperty(e,s,c),c}function Cy(n,e){return function(s,i){e(s,i,n)}}function Ry(n,e,s,i,l,c){function u(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var h=i.kind,m=h==="getter"?"get":h==="setter"?"set":"value",p=!e&&n?i.static?n:n.prototype:null,g=e||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),v,x=!1,b=s.length-1;b>=0;b--){var j={};for(var N in i)j[N]=N==="access"?{}:i[N];for(var N in i.access)j.access[N]=i.access[N];j.addInitializer=function(C){if(x)throw new TypeError("Cannot add initializers after decoration has completed");c.push(u(C||null))};var k=(0,s[b])(h==="accessor"?{get:g.get,set:g.set}:g[m],j);if(h==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(v=u(k.get))&&(g.get=v),(v=u(k.set))&&(g.set=v),(v=u(k.init))&&l.unshift(v)}else(v=u(k))&&(h==="field"?l.unshift(v):g[m]=v)}p&&Object.defineProperty(p,i.name,g),x=!0}function Ay(n,e,s){for(var i=arguments.length>2,l=0;l<e.length;l++)s=i?e[l].call(n,s):e[l].call(n);return i?s:void 0}function Oy(n){return typeof n=="symbol"?n:"".concat(n)}function Iy(n,e,s){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}function Dy(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function le(n,e,s,i){function l(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(v){u(v)}}function m(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):l(g.value).then(h,m)}p((i=i.apply(n,e||[])).next())})}function Ly(n,e){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,l,c,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(g){return m([p,g])}}function m(p){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(s=0)),s;)try{if(i=1,l&&(c=p[0]&2?l.return:p[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,p[1])).done)return c;switch(l=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,l=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){s.label=p[1];break}if(p[0]===6&&s.label<c[1]){s.label=c[1],c=p;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(p);break}c[2]&&s.ops.pop(),s.trys.pop();continue}p=e.call(n,s)}catch(g){p=[6,g],l=0}finally{i=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var hl=Object.create?(function(n,e,s,i){i===void 0&&(i=s);var l=Object.getOwnPropertyDescriptor(e,s);(!l||("get"in l?!e.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(n,i,l)}):(function(n,e,s,i){i===void 0&&(i=s),n[i]=e[s]});function My(n,e){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s)&&hl(e,n,s)}function tl(n){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&n[e],i=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qd(n,e){var s=typeof Symbol=="function"&&n[Symbol.iterator];if(!s)return n;var i=s.call(n),l,c=[],u;try{for(;(e===void 0||e-- >0)&&!(l=i.next()).done;)c.push(l.value)}catch(h){u={error:h}}finally{try{l&&!l.done&&(s=i.return)&&s.call(i)}finally{if(u)throw u.error}}return c}function $y(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Qd(arguments[e]));return n}function Vy(){for(var n=0,e=0,s=arguments.length;e<s;e++)n+=arguments[e].length;for(var i=Array(n),l=0,e=0;e<s;e++)for(var c=arguments[e],u=0,h=c.length;u<h;u++,l++)i[l]=c[u];return i}function By(n,e,s){if(s||arguments.length===2)for(var i=0,l=e.length,c;i<l;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return n.concat(c||Array.prototype.slice.call(e))}function Kr(n){return this instanceof Kr?(this.v=n,this):new Kr(n)}function Fy(n,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(n,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(b){return function(j){return Promise.resolve(j).then(b,v)}}function h(b,j){i[b]&&(l[b]=function(N){return new Promise(function(k,C){c.push([b,N,k,C])>1||m(b,N)})},j&&(l[b]=j(l[b])))}function m(b,j){try{p(i[b](j))}catch(N){x(c[0][3],N)}}function p(b){b.value instanceof Kr?Promise.resolve(b.value.v).then(g,v):x(c[0][2],b)}function g(b){m("next",b)}function v(b){m("throw",b)}function x(b,j){b(j),c.shift(),c.length&&m(c[0][0],c[0][1])}}function Uy(n){var e,s;return e={},i("next"),i("throw",function(l){throw l}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(l,c){e[l]=n[l]?function(u){return(s=!s)?{value:Kr(n[l](u)),done:!1}:c?c(u):u}:c}}function zy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],s;return e?e.call(n):(n=typeof tl=="function"?tl(n):n[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(c){s[c]=n[c]&&function(u){return new Promise(function(h,m){u=n[c](u),l(h,m,u.done,u.value)})}}function l(c,u,h,m){Promise.resolve(m).then(function(p){c({value:p,done:h})},u)}}function Wy(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var ok=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},Qu=function(n){return Qu=Object.getOwnPropertyNames||function(e){var s=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[s.length]=i);return s},Qu(n)};function Hy(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var s=Qu(n),i=0;i<s.length;i++)s[i]!=="default"&&hl(e,n,s[i]);return ok(e,n),e}function Gy(n){return n&&n.__esModule?n:{default:n}}function Ky(n,e,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(n):i?i.value:e.get(n)}function qy(n,e,s,i,l){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!l:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?l.call(n,s):l?l.value=s:e.set(n,s),s}function Yy(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Jy(n,e,s){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,l;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],s&&(l=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");l&&(i=function(){try{l.call(this)}catch(c){return Promise.reject(c)}}),n.stack.push({value:e,dispose:i,async:s})}else s&&n.stack.push({async:!0});return e}var ak=typeof SuppressedError=="function"?SuppressedError:function(n,e,s){var i=new Error(s);return i.name="SuppressedError",i.error=n,i.suppressed=e,i};function Qy(n){function e(c){n.error=n.hasError?new ak(c,n.error,"An error was suppressed during disposal."):c,n.hasError=!0}var s,i=0;function l(){for(;s=n.stack.pop();)try{if(!s.async&&i===1)return i=0,n.stack.push(s),Promise.resolve().then(l);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(c).then(l,function(u){return e(u),l()})}else i|=1}catch(u){e(u)}if(i===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return l()}function Xy(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,l,c,u){return i?e?".jsx":".js":l&&(!c||!u)?s:l+c+"."+u.toLowerCase()+"js"}):n}const lk={__extends:Ty,__assign:el,__rest:Qr,__decorate:Py,__param:Cy,__esDecorate:Ry,__runInitializers:Ay,__propKey:Oy,__setFunctionName:Iy,__metadata:Dy,__awaiter:le,__generator:Ly,__createBinding:hl,__exportStar:My,__values:tl,__read:Qd,__spread:$y,__spreadArrays:Vy,__spreadArray:By,__await:Kr,__asyncGenerator:Fy,__asyncDelegator:Uy,__asyncValues:zy,__makeTemplateObject:Wy,__importStar:Hy,__importDefault:Gy,__classPrivateFieldGet:Ky,__classPrivateFieldSet:qy,__classPrivateFieldIn:Yy,__addDisposableResource:Jy,__disposeResources:Qy,__rewriteRelativeImportExtension:Xy},ck=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Jy,get __assign(){return el},__asyncDelegator:Uy,__asyncGenerator:Fy,__asyncValues:zy,__await:Kr,__awaiter:le,__classPrivateFieldGet:Ky,__classPrivateFieldIn:Yy,__classPrivateFieldSet:qy,__createBinding:hl,__decorate:Py,__disposeResources:Qy,__esDecorate:Ry,__exportStar:My,__extends:Ty,__generator:Ly,__importDefault:Gy,__importStar:Hy,__makeTemplateObject:Wy,__metadata:Dy,__param:Cy,__propKey:Oy,__read:Qd,__rest:Qr,__rewriteRelativeImportExtension:Xy,__runInitializers:Ay,__setFunctionName:Iy,__spread:$y,__spreadArray:By,__spreadArrays:Vy,__values:tl,default:lk},Symbol.toStringTag,{value:"Module"})),uk=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Xd extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class h0 extends Xd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class f0 extends Xd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class m0 extends Xd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Xu||(Xu={}));class dk{constructor(e,{headers:s={},customFetch:i,region:l=Xu.Any}={}){this.url=e,this.headers=s,this.region=l,this.fetch=uk(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return le(this,arguments,void 0,function*(s,i={}){var l;try{const{headers:c,method:u,body:h,signal:m}=i;let p={},{region:g}=i;g||(g=this.region);const v=new URL(`${this.url}/${s}`);g&&g!=="any"&&(p["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let x;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",x=h):typeof h=="string"?(p["Content-Type"]="text/plain",x=h):typeof FormData<"u"&&h instanceof FormData?x=h:(p["Content-Type"]="application/json",x=JSON.stringify(h)):x=h;const b=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),c),body:x,signal:m}).catch(C=>{throw C.name==="AbortError"?C:new h0(C)}),j=b.headers.get("x-relay-error");if(j&&j==="true")throw new f0(b);if(!b.ok)throw new m0(b);let N=((l=b.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),k;return N==="application/json"?k=yield b.json():N==="application/octet-stream"||N==="application/pdf"?k=yield b.blob():N==="text/event-stream"?k=b:N==="multipart/form-data"?k=yield b.formData():k=yield b.text(),{data:k,error:null,response:b}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new h0(c)}:{data:null,error:c,response:c instanceof m0||c instanceof f0?c.context:void 0}}})}}var vt={};const Xr=pw(ck);var Ca={},Ra={},Aa={},Oa={},Ia={},Da={},p0;function Zy(){if(p0)return Da;p0=1,Object.defineProperty(Da,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Da.default=n,Da}var g0;function ev(){if(g0)return Ia;g0=1,Object.defineProperty(Ia,"__esModule",{value:!0});const e=Xr.__importDefault(Zy());class s{constructor(l){var c,u;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(u=l.isMaybeSingle)!==null&&u!==void 0?u:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,g,v,x;let b=null,j=null,N=null,k=m.status,C=m.statusText;if(m.ok){if(this.method!=="HEAD"){const $=await m.text();$===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=$:j=JSON.parse($))}const S=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),T=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&T&&T.length>1&&(N=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(b={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,k=406,C="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const S=await m.text();try{b=JSON.parse(S),Array.isArray(b)&&m.status===404&&(j=[],b=null,k=200,C="OK")}catch{m.status===404&&S===""?(k=204,C="No Content"):b={message:S}}if(b&&this.isMaybeSingle&&(!((x=b?.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,k=200,C="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:j,count:N,status:k,statusText:C}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,g,v;return{error:{message:`${(p=m?.name)!==null&&p!==void 0?p:"FetchError"}: ${m?.message}`,details:`${(g=m?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=m?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,c)}returns(){return this}overrideTypes(){return this}}return Ia.default=s,Ia}var y0;function tv(){if(y0)return Oa;y0=1,Object.defineProperty(Oa,"__esModule",{value:!0});const e=Xr.__importDefault(ev());class s extends e.default{select(l){let c=!1;const u=(l??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${l}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,c,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(p,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var g;const v=[l?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Oa.default=s,Oa}var v0;function Zd(){if(v0)return Aa;v0=1,Object.defineProperty(Aa,"__esModule",{value:!0});const e=Xr.__importDefault(tv()),s=new RegExp("[,()]");class i extends e.default{eq(c,u){return this.url.searchParams.append(c,`eq.${u}`),this}neq(c,u){return this.url.searchParams.append(c,`neq.${u}`),this}gt(c,u){return this.url.searchParams.append(c,`gt.${u}`),this}gte(c,u){return this.url.searchParams.append(c,`gte.${u}`),this}lt(c,u){return this.url.searchParams.append(c,`lt.${u}`),this}lte(c,u){return this.url.searchParams.append(c,`lte.${u}`),this}like(c,u){return this.url.searchParams.append(c,`like.${u}`),this}likeAllOf(c,u){return this.url.searchParams.append(c,`like(all).{${u.join(",")}}`),this}likeAnyOf(c,u){return this.url.searchParams.append(c,`like(any).{${u.join(",")}}`),this}ilike(c,u){return this.url.searchParams.append(c,`ilike.${u}`),this}ilikeAllOf(c,u){return this.url.searchParams.append(c,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(c,u){return this.url.searchParams.append(c,`ilike(any).{${u.join(",")}}`),this}is(c,u){return this.url.searchParams.append(c,`is.${u}`),this}in(c,u){const h=Array.from(new Set(u)).map(m=>typeof m=="string"&&s.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cs.{${u.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(u)}`),this}containedBy(c,u){return typeof u=="string"?this.url.searchParams.append(c,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(c,`cd.{${u.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(u)}`),this}rangeGt(c,u){return this.url.searchParams.append(c,`sr.${u}`),this}rangeGte(c,u){return this.url.searchParams.append(c,`nxl.${u}`),this}rangeLt(c,u){return this.url.searchParams.append(c,`sl.${u}`),this}rangeLte(c,u){return this.url.searchParams.append(c,`nxr.${u}`),this}rangeAdjacent(c,u){return this.url.searchParams.append(c,`adj.${u}`),this}overlaps(c,u){return typeof u=="string"?this.url.searchParams.append(c,`ov.${u}`):this.url.searchParams.append(c,`ov.{${u.join(",")}}`),this}textSearch(c,u,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${p}fts${g}.${u}`),this}match(c){return Object.entries(c).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(c,u,h){return this.url.searchParams.append(c,`not.${u}.${h}`),this}or(c,{foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${c})`),this}filter(c,u,h){return this.url.searchParams.append(c,`${u}.${h}`),this}}return Aa.default=i,Aa}var x0;function nv(){if(x0)return Ra;x0=1,Object.defineProperty(Ra,"__esModule",{value:!0});const e=Xr.__importDefault(Zd());class s{constructor(l,{headers:c={},schema:u,fetch:h}){this.url=l,this.headers=new Headers(c),this.schema=u,this.fetch=h}select(l,c){const{head:u=!1,count:h}=c??{},m=u?"HEAD":"GET";let p=!1;const g=(l??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",g),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:u=!0}={}){var h;const m="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const p=l.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:m=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(v.length>0){const x=[...new Set(v)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:c}={}){var u;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:l}={}){var c;const u="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Ra.default=s,Ra}var w0;function hk(){if(w0)return Ca;w0=1,Object.defineProperty(Ca,"__esModule",{value:!0});const n=Xr,e=n.__importDefault(nv()),s=n.__importDefault(Zd());class i{constructor(c,{headers:u={},schema:h,fetch:m}={}){this.url=c,this.headers=new Headers(u),this.schemaName=h,this.fetch=m}from(c){const u=new URL(`${this.url}/${c}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:h=!1,get:m=!1,count:p}={}){var g;let v;const x=new URL(`${this.url}/rpc/${c}`);let b;h||m?(v=h?"HEAD":"GET",Object.entries(u).filter(([N,k])=>k!==void 0).map(([N,k])=>[N,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([N,k])=>{x.searchParams.append(N,k)})):(v="POST",b=u);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new s.default({method:v,url:x,headers:j,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Ca.default=i,Ca}var b0;function fk(){if(b0)return vt;b0=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.PostgrestError=vt.PostgrestBuilder=vt.PostgrestTransformBuilder=vt.PostgrestFilterBuilder=vt.PostgrestQueryBuilder=vt.PostgrestClient=void 0;const n=Xr,e=n.__importDefault(hk());vt.PostgrestClient=e.default;const s=n.__importDefault(nv());vt.PostgrestQueryBuilder=s.default;const i=n.__importDefault(Zd());vt.PostgrestFilterBuilder=i.default;const l=n.__importDefault(tv());vt.PostgrestTransformBuilder=l.default;const c=n.__importDefault(ev());vt.PostgrestBuilder=c.default;const u=n.__importDefault(Zy());return vt.PostgrestError=u.default,vt.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:u.default},vt}var sv=fk();const rv=cd(sv),mk=mw({__proto__:null,default:rv},[sv]),{PostgrestClient:pk,PostgrestQueryBuilder:QE,PostgrestFilterBuilder:XE,PostgrestTransformBuilder:ZE,PostgrestBuilder:eT,PostgrestError:tT}=rv||mk;class gk{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const yk="2.80.0",vk=`realtime-js/${yk}`,xk="1.0.0",Zu=1e4,wk=1e3,bk=100;var Yi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Yi||(Yi={}));var nt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(nt||(nt={}));var gn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(gn||(gn={}));var ed;(function(n){n.websocket="websocket"})(ed||(ed={}));var Ks;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ks||(Ks={}));class jk{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const l=s.getUint8(1),c=s.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+l));u=u+l;const m=i.decode(e.slice(u,u+c));u=u+c;const p=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class iv{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ae||(Ae={}));const j0=(n,e,s={})=>{var i;const l=(i=s.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((c,u)=>(c[u]=Nk(u,n,e,l),c),{}):{}},Nk=(n,e,s,i)=>{const l=e.find(h=>h.name===n),c=l?.type,u=s[n];return c&&!i.includes(c)?ov(c,u):td(u)},ov=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Ek(e,s)}switch(n){case Ae.bool:return _k(e);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return kk(e);case Ae.json:case Ae.jsonb:return Sk(e);case Ae.timestamp:return Tk(e);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return td(e);default:return td(e)}},td=n=>n,_k=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},kk=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Sk=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Ek=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let c;const u=n.slice(1,s);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>ov(e,h))}return n},Tk=n=>typeof n=="string"?n.replace(" ","T"):n,av=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gu{constructor(e,s,i={},l=Zu){this.channel=e,this.event=s,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var N0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(N0||(N0={}));class Ji{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ji.syncState(this.state,l,c,u),this.pendingDiffs.forEach(m=>{this.state=Ji.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},l=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ji.syncDiff(this.state,l,c,u),h())}),this.onJoin((l,c,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:u})}),this.onLeave((l,c,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,l){const c=this.cloneDeep(e),u=this.transformState(s),h={},m={};return this.map(c,(p,g)=>{u[p]||(m[p]=g)}),this.map(u,(p,g)=>{const v=c[p];if(v){const x=g.map(k=>k.presence_ref),b=v.map(k=>k.presence_ref),j=g.filter(k=>b.indexOf(k.presence_ref)<0),N=v.filter(k=>x.indexOf(k.presence_ref)<0);j.length>0&&(h[p]=j),N.length>0&&(m[p]=N)}else h[p]=g}),this.syncDiff(c,{joins:h,leaves:m},i,l)}static syncDiff(e,s,i,l){const{joins:c,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(c,(h,m)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(m),g.length>0){const v=e[h].map(b=>b.presence_ref),x=g.filter(b=>v.indexOf(b.presence_ref)<0);e[h].unshift(...x)}i(h,g,m)}),this.map(u,(h,m)=>{let p=e[h];if(!p)return;const g=m.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),e[h]=p,l(h,p,m),p.length===0&&delete e[h]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const l=e[i];return"metas"in l?s[i]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[i]=l,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(_0||(_0={}));var Qi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Qi||(Qi={}));var $n;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class eh{constructor(e,s={config:{}},i){var l,c;if(this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new gu(this,gn.join,this.params,this.timeout),this.rejoinTimer=new iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Ji(this),this.broadcastEndpointURL=av(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var i,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:u,presence:h,private:m}}=this.params,p=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[Qi.PRESENCE]&&this.bindings[Qi.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,v={},x={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(b=>e?.($n.CHANNEL_ERROR,b)),this._onClose(()=>e?.($n.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket.setAuth(),b===void 0){e?.($n.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,k=(j=N?.length)!==null&&j!==void 0?j:0,C=[];for(let D=0;D<k;D++){const S=N[D],{filter:{event:T,schema:$,table:B,filter:G}}=S,z=b&&b[D];if(z&&z.event===T&&z.schema===$&&z.table===B&&z.filter===G)C.push(Object.assign(Object.assign({},S),{id:z.id}));else{this.unsubscribe(),this.state=nt.errored,e?.($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e($n.SUBSCRIBED);return}}).receive("error",b=>{this.state=nt.errored,e?.($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===nt.joined&&e===Qi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,i)}async httpSend(e,s,i={}){var l;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const p=await h.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(e,s={}){var i,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,m;const p=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=nt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new gu(this,gn.leave,{},e),i.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const l=new AbortController,c=setTimeout(()=>l.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),u}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new gu(this,e,s,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bk){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var l,c;const u=e.toLocaleLowerCase(),{close:h,error:m,leave:p,join:g}=gn;if(i&&[h,m,p,g].indexOf(u)>=0&&i!==this._joinRef())return;let x=this._onMessage(u,s,i);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var j,N,k;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((k=(N=b.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(b=>b.callback(x,i)):(c=this.bindings[u])===null||c===void 0||c.filter(b=>{var j,N,k,C,D,S;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const T=b.id,$=(j=b.filter)===null||j===void 0?void 0:j.event;return T&&((N=s.ids)===null||N===void 0?void 0:N.includes(T))&&($==="*"||$?.toLocaleLowerCase()===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const T=(D=(C=b?.filter)===null||C===void 0?void 0:C.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return T==="*"||T===((S=s?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof x=="object"&&"ids"in x){const j=x.data,{schema:N,table:k,commit_timestamp:C,type:D,errors:S}=j;x=Object.assign(Object.assign({},{schema:N,table:k,commit_timestamp:C,eventType:D,new:{},old:{},errors:S}),this._getPayloadRecords(j))}b.callback(x,i)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const l=e.toLocaleLowerCase(),c={type:l,filter:s,callback:i};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&eh.isEqual(l.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gn.close,{},e)}_onError(e){this._on(gn.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=j0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=j0(e.columns,e.old_record)),s}}const yu=()=>{},La={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Pk=[1e3,2e3,5e3,1e4],Ck=1e4,Rk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ak{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zu,this.transport=null,this.heartbeatIntervalMs=La.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yu,this.ref=0,this.reconnectTimer=null,this.logger=yu,this.conn=null,this.sendBuffer=[],this.serializer=new jk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${ed.websocket}`,this.httpEndpoint=av(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xk}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Yi.connecting:return Ks.Connecting;case Yi.open:return Ks.Open;case Yi.closing:return Ks.Closing;default:return Ks.Closed}}isConnected(){return this.connectionState()===Ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===i);if(l)return l;{const c=new eh(`realtime:${e}`,s,this);return this.channels.push(c),c}}push(e){const{topic:s,event:i,payload:l,ref:c}=e,u=()=>{this.encode(e,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${s} ${i} (${c})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wk,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},La.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:c,ref:u}=s,h=u?`(${u})`:"",m=c.status||"";this.log("receive",`${m} ${i} ${l} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,c,u)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gn.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${e}${i}${l}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([Rk],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const l={access_token:s,version:vk};s&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(gn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new iv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},La.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,l,c,u,h,m,p,g;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Zu,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:La.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:yu,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(v=>Pk[v-1]||Ck),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((v,x)=>x(JSON.stringify(v))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class th extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Fe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Ok extends th{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nd extends th{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}const nh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Ik=()=>Response,sd=n=>{if(Array.isArray(n))return n.map(s=>sd(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,i])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=sd(i)}),e},Dk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},vu=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Lk=(n,e,s)=>le(void 0,void 0,void 0,function*(){const i=yield Ik();n instanceof i&&!s?.noResolveJson?n.json().then(l=>{const c=n.status||500,u=l?.statusCode||c+"";e(new Ok(vu(l),c,u))}).catch(l=>{e(new nd(vu(l),l))}):e(new nd(vu(n),n))}),Mk=(n,e,s,i)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"||!i?l:(Dk(i)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(i)):l.body=i,e?.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),s))};function ho(n,e,s,i,l,c){return le(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(s,Mk(e,i,l,c)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>Lk(m,h,i))})})}function ro(n,e,s,i){return le(this,void 0,void 0,function*(){return ho(n,"GET",e,s,i)})}function pn(n,e,s,i,l){return le(this,void 0,void 0,function*(){return ho(n,"POST",e,i,l,s)})}function rd(n,e,s,i,l){return le(this,void 0,void 0,function*(){return ho(n,"PUT",e,i,l,s)})}function $k(n,e,s,i){return le(this,void 0,void 0,function*(){return ho(n,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function sh(n,e,s,i,l){return le(this,void 0,void 0,function*(){return ho(n,"DELETE",e,i,l,s)})}class Vk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Fe(e))return{data:null,error:e};throw e}})}}var lv;class Bk{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[lv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Vk(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Fe(e))return{data:null,error:e};throw e}})}}lv=Symbol.toStringTag;const Fk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Uk{constructor(e,s={},i,l){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=i,this.fetch=nh(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,i,l){return le(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},k0),l);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),m&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(m))):(c=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),l?.headers&&(h=Object.assign(Object.assign({},h),l.headers));const p=this._removeEmptyFolders(s),g=this._getFinalPath(p),v=yield(e=="PUT"?rd:pn)(this.fetch,`${this.url}/object/${g}`,c,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Fe(c))return{data:null,error:c};throw c}})}upload(e,s,i){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,l){return le(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",s);try{let m;const p=Object.assign({upsert:k0.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",p.cacheControl)):(m=i,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const v=yield rd(this.fetch,h.toString(),m,{headers:g});return{data:{path:c,fullPath:v.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Fe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,s){return le(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const l=Object.assign({},this.headers);s?.upsert&&(l["x-upsert"]="true");const c=yield pn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new th("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}update(e,s,i){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return le(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}copy(e,s,i){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrl(e,s,i){return le(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),c=yield pn(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createSignedUrls(e,s,i){return le(this,void 0,void 0,function*(){try{const l=yield pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}download(e,s){const l=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),u=c?`?${c}`:"",h=this._getFinalPath(e),m=()=>ro(this.fetch,`${this.url}/${l}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new Bk(m,this.shouldThrowOnError)}info(e){return le(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield ro(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:sd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}exists(e){return le(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield $k(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i)&&i instanceof nd){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),l=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const h=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&l.push(m);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}list(e,s,i){return le(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Fk),s),{prefix:e||""});return{data:yield pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}listV2(e,s){return le(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield pn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const cv="2.80.0",uv={"X-Client-Info":`storage-js/${cv}`};class zk{constructor(e,s={},i,l){this.shouldThrowOnError=!1;const c=new URL(e);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uv),s),this.fetch=nh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return le(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(e);return{data:yield ro(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield ro(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}createBucket(e){return le(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}updateBucket(e,s){return le(this,void 0,void 0,function*(){try{return{data:yield rd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}emptyBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(e){const s={};return e&&("limit"in e&&(s.limit=String(e.limit)),"offset"in e&&(s.offset=String(e.offset)),e.search&&(s.search=e.search),e.sortColumn&&(s.sortColumn=e.sortColumn),e.sortOrder&&(s.sortOrder=e.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class Wk{constructor(e,s={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uv),s),this.fetch=nh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}listBuckets(e){return le(this,void 0,void 0,function*(){try{const s=new URLSearchParams;e?.limit!==void 0&&s.set("limit",e.limit.toString()),e?.offset!==void 0&&s.set("offset",e.offset.toString()),e?.sortColumn&&s.set("sortColumn",e.sortColumn),e?.sortOrder&&s.set("sortOrder",e.sortOrder),e?.search&&s.set("search",e.search);const i=s.toString(),l=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield ro(this.fetch,l,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fe(s))return{data:null,error:s};throw s}})}}const rh={"X-Client-Info":`storage-js/${cv}`,"Content-Type":"application/json"};class dv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Bt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class xu extends dv{constructor(e,s,i){super(e),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hk extends dv{constructor(e,s){super(e),this.name="StorageVectorsUnknownError",this.originalError=s}}var S0;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(S0||(S0={}));const ih=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Gk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},E0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Kk=(n,e,s)=>le(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!s?.noResolveJson){const l=n.status||500,c=n;if(typeof c.json=="function")c.json().then(u=>{const h=u?.statusCode||u?.code||l+"";e(new xu(E0(u),l,h))}).catch(()=>{const u=l+"",h=c.statusText||`HTTP ${l} error`;e(new xu(h,l,u))});else{const u=l+"",h=c.statusText||`HTTP ${l} error`;e(new xu(h,l,u))}}else e(new Hk(E0(n),n))}),qk=(n,e,s,i)=>{const l={method:n,headers:e?.headers||{}};return i?(Gk(i)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(i)):l.body=i,Object.assign(Object.assign({},l),s)):l};function Yk(n,e,s,i,l,c){return le(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(s,qk(e,i,l,c)).then(m=>{if(!m.ok)throw m;if(i?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>u(m)).catch(m=>Kk(m,h,i))})})}function Ft(n,e,s,i,l){return le(this,void 0,void 0,function*(){return Yk(n,"POST",e,i,l,s)})}class Jk{constructor(e,s={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rh),s),this.fetch=ih(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return le(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}getIndex(e,s){return le(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}listIndexes(e){return le(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}deleteIndex(e,s){return le(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}})}}class Qk{constructor(e,s={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rh),s),this.fetch=ih(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ft(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}getVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}listVectors(e){return le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ft(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}queryVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}deleteVectors(e){return le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ft(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}}class Xk{constructor(e,s={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rh),s),this.fetch=ih(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}listBuckets(){return le(this,arguments,void 0,function*(e={}){try{return{data:yield Ft(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}})}}class Zk extends Xk{constructor(e,s={}){super(e,s.headers||{},s.fetch)}from(e){return new eS(this.url,this.headers,e,this.fetch)}}class eS extends Jk{constructor(e,s,i,l){super(e,s,l),this.vectorBucketName=i}createIndex(e){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(s={}){return e.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new tS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class tS extends Qk{constructor(e,s,i,l,c){super(e,s,c),this.vectorBucketName=i,this.indexName=l}putVectors(e){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(s={}){return e.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class nS extends zk{constructor(e,s={},i,l){super(e,s,i,l)}from(e){return new Uk(this.url,this.headers,e,this.fetch)}get vectors(){return new Zk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Wk(this.url+"/iceberg",this.headers,this.fetch)}}const sS="2.80.0";let zi="";typeof Deno<"u"?zi="deno":typeof document<"u"?zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zi="react-native":zi="node";const rS={"X-Client-Info":`supabase-js-${zi}/${sS}`},iS={headers:rS},oS={schema:"public"},aS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lS={},cS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),uS=()=>Headers,dS=(n,e,s)=>{const i=cS(s),l=uS();return async(c,u)=>{var h;const m=(h=await e())!==null&&h!==void 0?h:n;let p=new l(u?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(c,Object.assign(Object.assign({},u),{headers:p}))}};function hS(n){return n.endsWith("/")?n:n+"/"}function fS(n,e){var s,i;const{db:l,auth:c,realtime:u,global:h}=n,{db:m,auth:p,realtime:g,global:v}=e,x={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(s=v?.headers)!==null&&s!==void 0?s:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function mS(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hv="2.80.0",Or=30*1e3,id=3,wu=id*Or,pS="http://localhost:9999",gS="supabase.auth.token",yS={"X-Client-Info":`gotrue-js/${hv}`},od="X-Supabase-Api-Version",fv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xS=600*1e3;class io extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ue(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class wS extends io{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function bS(n){return ue(n)&&n.name==="AuthApiError"}class qs extends io{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ns extends io{constructor(e,s,i,l){super(e,i,l),this.name=s,this.status=i}}class hn extends Ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jS(n){return ue(n)&&n.name==="AuthSessionMissingError"}class Tr extends Ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ma extends Ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $a extends Ns{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NS(n){return ue(n)&&n.name==="AuthImplicitGrantRedirectError"}class T0 extends Ns{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ad extends Ns{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function bu(n){return ue(n)&&n.name==="AuthRetryableFetchError"}class P0 extends Ns{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class ld extends Ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C0=` 	
\r=`.split(""),_S=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<C0.length;e+=1)n[C0[e].charCodeAt(0)]=-2;for(let e=0;e<nl.length;e+=1)n[nl[e].charCodeAt(0)]=e;return n})();function R0(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(nl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(nl[i]),e.queuedBits-=6}}function mv(n,e,s){const i=_S[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function A0(n){const e=[],s=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=u=>{ES(u,i,s)};for(let u=0;u<n.length;u+=1)mv(n.charCodeAt(u),l,c);return e.join("")}function kS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function SS(n,e){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}kS(i,e)}}function ES(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ur(n){const e=[],s={queue:0,queuedBits:0},i=l=>{e.push(l)};for(let l=0;l<n.length;l+=1)mv(n.charCodeAt(l),s,i);return new Uint8Array(e)}function TS(n){const e=[];return SS(n,s=>e.push(s)),new Uint8Array(e)}function Xs(n){const e=[],s={queue:0,queuedBits:0},i=l=>{e.push(l)};return n.forEach(l=>R0(l,s,i)),R0(null,s,i),e.join("")}function PS(n){return Math.round(Date.now()/1e3)+n}function CS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",zs={tested:!1,writable:!1},pv=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zs.tested)return zs.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),zs.tested=!0,zs.writable=!0}catch{zs.tested=!0,zs.writable=!1}return zs.writable};function RS(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return s.searchParams.forEach((i,l)=>{e[l]=i}),e}const gv=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),AS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ir=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},Ws=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ps=async(n,e)=>{await n.removeItem(e)};class fl{constructor(){this.promise=new fl.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}fl.promiseConstructor=Promise;function ju(n){const e=n.split(".");if(e.length!==3)throw new ld("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!vS.test(e[i]))throw new ld("JWT not in base64url format");return{header:JSON.parse(A0(e[0])),payload:JSON.parse(A0(e[1])),signature:Ur(e[2]),raw:{header:e[0],payload:e[1]}}}async function OS(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function IS(n,e){return new Promise((i,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!e(c,null,u)){i(u);return}}catch(u){if(!e(c,u)){l(u);return}}})()})}function DS(n){return("0"+n.toString(16)).substr(-2)}function LS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(e),Array.from(e,DS).join("")}async function MS(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(i);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function $S(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await MS(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(n,e,s=!1){const i=LS();let l=i;s&&(l+="/PASSWORD_RECOVERY"),await Ir(n,`${e}-code-verifier`,l);const c=await $S(i);return[c,i===c?"plain":"s256"]}const VS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BS(n){const e=n.headers.get(od);if(!e||!e.match(VS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function FS(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function US(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(n){if(!zS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nu(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WS(n,e){return new Proxy(n,{get:(s,i,l)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,l)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,i,l)}})}function O0(n){return JSON.parse(JSON.stringify(n))}const Gs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),HS=[502,503,504];async function I0(n){var e;if(!AS(n))throw new ad(Gs(n),0);if(HS.includes(n.status))throw new ad(Gs(n),n.status);let s;try{s=await n.json()}catch(c){throw new qs(Gs(c),c)}let i;const l=BS(n);if(l&&l.getTime()>=fv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new P0(Gs(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new hn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new P0(Gs(s),n.status,s.weak_password.reasons);throw new wS(Gs(s),n.status||500,i)}const GS=(n,e,s,i)=>{const l={method:n,headers:e?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),s))};async function ye(n,e,s,i){var l;const c=Object.assign({},i?.headers);c[od]||(c[od]=fv["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await KS(n,e,s+h,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function KS(n,e,s,i,l,c){const u=GS(e,i,l,c);let h;try{h=await n(s,Object.assign({},u))}catch(m){throw console.error(m),new ad(Gs(m),0)}if(h.ok||await I0(h),i?.noResolveJson)return h;try{return await h.json()}catch(m){await I0(m)}}function fn(n){var e;let s=null;JS(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=PS(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:i},error:null}}function D0(n){const e=fn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ys(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function qS(n){return{data:n,error:null}}function YS(n){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c}=n,u=Qr(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c},m=Object.assign({},u);return{data:{properties:h,user:m},error:null}}function L0(n){return n}function JS(n){return n.access_token&&n.refresh_token&&n.expires_in}const _u=["global","local","others"];class QS{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=gv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=_u[0]){if(_u.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_u.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ys})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=Qr(e,["options"]),l=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:YS,redirectTo:s?.redirectTo})}catch(s){if(ue(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ys})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,l,c,u,h,m;try{const p={nextPage:null,lastPage:0,total:0},g=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:L0});if(g.error)throw g.error;const v=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(m=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);p[`${k}Page`]=N}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ue(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Cr(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ys})}catch(s){if(ue(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Cr(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ys})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){Cr(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ys})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Cr(e.userId);try{const{data:s,error:i}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:i}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Cr(e.userId),Cr(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,i,l,c,u,h,m;try{const p={nextPage:null,lastPage:0,total:0},g=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:L0});if(g.error)throw g.error;const v=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(m=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(j.split(";")[1].split("=")[1]);p[`${k}Page`]=N}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ue(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ue(s))return{data:null,error:s};throw s}}}function M0(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const Rr={debug:!!(globalThis&&pv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class XS extends yv{}async function ZS(n,e,s){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await s()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(e===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new XS(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Rr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function eE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function tE(n){return parseInt(n,16)}function nE(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function sE(n){var e;const{chainId:s,domain:i,expirationTime:l,issuedAt:c=new Date,nonce:u,notBefore:h,requestId:m,resources:p,scheme:g,uri:v,version:x}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=vv(n.address),j=g?`${g}://${i}`:i,N=n.statement?`${n.statement}
`:"",k=`${j} wants you to sign in with your Ethereum account:
${b}

${N}`;let C=`URI: ${v}
Version: ${x}
Chain ID: ${s}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(l&&(C+=`
Expiration Time: ${l.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),m&&(C+=`
Request ID: ${m}`),p){let D=`
Resources:`;for(const S of p){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);D+=`
- ${S}`}C+=D}return`${k}
${C}`}class Qe extends Error{constructor({message:e,code:s,cause:i,name:l}){var c;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=l??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class sl extends Qe{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function rE({error:n,options:e}){var s,i,l;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Qe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(xv(u)){if(c.rp.id!==u)return new Qe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function iE({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Qe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(xv(i)){if(s.rpId!==i)return new Qe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class oE{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const aE=new oE;function lE(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:i}=n,l=Qr(n,["challenge","user","excludeCredentials"]),c=Ur(e).buffer,u=Object.assign(Object.assign({},s),{id:Ur(s.id).buffer}),h=Object.assign(Object.assign({},l),{challenge:c,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const p=i[m];h.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Ur(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function cE(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,i=Qr(n,["challenge","allowCredentials"]),l=Ur(e).buffer,c=Object.assign(Object.assign({},i),{challenge:l});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const h=s[u];c.allowCredentials[u]=Object.assign(Object.assign({},h),{id:Ur(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function uE(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:Xs(new Uint8Array(n.response.attestationObject)),clientDataJSON:Xs(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dE(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,i=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Xs(new Uint8Array(l.authenticatorData)),clientDataJSON:Xs(new Uint8Array(l.clientDataJSON)),signature:Xs(new Uint8Array(l.signature)),userHandle:l.userHandle?Xs(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function $0(){var n,e;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hE(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sl("Browser returned unexpected credential type",e)}:{data:null,error:new sl("Empty credential response",e)}}catch(e){return{data:null,error:rE({error:e,options:n})}}}async function fE(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sl("Browser returned unexpected credential type",e)}:{data:null,error:new sl("Empty credential response",e)}}catch(e){return{data:null,error:iE({error:e,options:n})}}}const mE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},pE={userVerification:"preferred",hints:["security-key"]};function rl(...n){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),i={};for(const l of n)if(l)for(const c in l){const u=l[c];if(u!==void 0)if(Array.isArray(u))i[c]=u;else if(s(u))i[c]=u;else if(e(u)){const h=i[c];e(h)?i[c]=rl(h,u):i[c]=rl(u)}else i[c]=u}return i}function gE(n,e){return rl(mE,n,e||{})}function yE(n,e){return rl(pE,n,e||{})}class vE{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:i,signal:l},c){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!u)return{data:null,error:h};const m=l??aE.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=gE(u.webauthn.credential_options.publicKey,c?.create),{data:g,error:v}=await hE({publicKey:p,signal:m});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=yE(u.webauthn.credential_options.publicKey,c?.request),{data:g,error:v}=await fE(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:m}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new qs("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}},c){if(!s)return{data:null,error:new io("rpId is required for WebAuthn authentication")};try{if(!$0())return{data:null,error:new qs("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:i},signal:l},{request:c});if(!u)return{data:null,error:h};const{webauthn:m}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:i,credential_response:m.credential_response}})}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new qs("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l},c){if(!s)return{data:null,error:new io("rpId is required for WebAuthn registration")};try{if(!$0())return{data:null,error:new qs("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:m,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:l},{create:c});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ue(u)?{data:null,error:u}:{data:null,error:new qs("Unexpected error in register",u)}}}}eE();const xE={url:pS,storageKey:gS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function V0(n,e,s){return await s()}const Ar={};class oo{get jwks(){var e,s;return(s=(e=Ar[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ar[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{cachedAt:e})}constructor(e){var s,i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},xE),e);if(this.storageKey=c.storageKey,this.instanceID=(s=oo.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,oo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&xt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new QS({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=gv(c.fetch),this.lock=c.lock||V0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:xt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=ZS:this.lock=V0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:pv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=M0(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},i="none";if(xt()&&(s=RS(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),xt()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),NS(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ue(s)?this._returnResult({error:s}):this._returnResult({error:new qs("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,l;try{const c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:fn}),{data:u,error:h}=c;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var s,i,l;try{let c;if("email"in e){const{email:g,password:v,options:x}=e;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await Pr(this.storage,this.storageKey)),c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:g,password:v,data:(s=x?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:b,code_challenge_method:j},xform:fn})}else if("phone"in e){const{phone:g,password:v,options:x}=e;c=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(l=x?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:fn})}else throw new Ma("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let s;if("email"in e){const{email:c,password:u,options:h}=e;s=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:D0})}else if("phone"in e){const{phone:c,password:u,options:h}=e;s=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:D0})}else throw new Ma("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const c=new Tr;return this._returnResult({data:{user:null,session:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,i,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,i,l,c,u,h,m,p,g,v,x;let b,j;if("message"in e)b=e.message,j=e.signature;else{const{chain:N,wallet:k,statement:C,options:D}=e;let S;if(xt())if(typeof k=="object")S=k;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")S=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=k}const T=new URL((s=D?.url)!==null&&s!==void 0?s:window.location.href),$=await S.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=vv($[0]);let G=(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!G){const re=await S.request({method:"eth_chainId"});G=tE(re)}const z={domain:T.host,address:B,statement:C,uri:T.href,version:"1",chainId:G,nonce:(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=D?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=sE(z),j=await S.request({method:"personal_sign",params:[nE(b),B]})}try{const{data:N,error:k}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:j},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:fn});if(k)throw k;if(!N||!N.session||!N.user){const C=new Tr;return this._returnResult({data:{user:null,session:null},error:C})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:k})}catch(N){if(ue(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var s,i,l,c,u,h,m,p,g,v,x,b;let j,N;if("message"in e)j=e.message,N=e.signature;else{const{chain:k,wallet:C,statement:D,options:S}=e;let T;if(xt())if(typeof C=="object")T=C;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))T=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=C}const $=new URL((s=S?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in T&&T.signIn){const B=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),D?{statement:D}:null));let G;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")G=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)G=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)j=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),N=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${$.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(l=(i=S?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=S?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((u=S?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((h=S?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((m=S?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((p=S?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((v=(g=S?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...S.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const B=await T.signMessage(new TextEncoder().encode(j),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=B}}try{const{data:k,error:C}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Xs(N)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:fn});if(C)throw C;if(!k||!k.session||!k.user){const D=new Tr;return this._returnResult({data:{user:null,session:null},error:D})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(ue(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const s=await Ws(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(s??"").split("/");try{const{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:fn});if(await ps(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const h=new Tr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:u})}catch(c){if(ue(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:s,provider:i,token:l,access_token:c,nonce:u}=e,h=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:fn}),{data:m,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const g=new Tr;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,i,l,c,u;try{if("email"in e){const{email:h,options:m}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Pr(this.storage,this.storageKey));const{error:v}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:h,options:m}=e,{data:p,error:g}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(u=m?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Ma("You must provide either an email or phone number.")}catch(h){if(ue(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var s,i;try{let l,c;"options"in e&&(l=(s=e.options)===null||s===void 0?void 0:s.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:fn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,p=u.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var s,i,l;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Pr(this.storage,this.storageKey));const h=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:qS});return this._returnResult(h)}catch(c){if(ue(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new hn;const{error:l}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:l,options:c}=e,{error:u}=await ye(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:l,options:c}=e,{data:u,error:h}=await ye(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Ma("You must provide either an email or phone number and a type")}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<wu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Ws(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Nu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=WS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ys}):await this._useSession(async s=>{var i,l,c;const{data:u,error:h}=s;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hn}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:ys})})}catch(s){if(ue(s))return jS(s)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:l,error:c}=i;if(c)throw c;if(!l.session)throw new hn;const u=l.session;let h=null,m=null;this.flowType==="pkce"&&e.email!=null&&([h,m]=await Pr(this.storage,this.storageKey));const{data:p,error:g}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:m}),jwt:u.access_token,xform:ys});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(ue(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hn;const s=Date.now()/1e3;let i=s,l=!0,c=null;const{payload:u}=ju(e.access_token);if(u.exp&&(i=u.exp,l=i<=s),l){const{data:h,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(e.access_token);if(m)throw m;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(ue(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:u,error:h}=s;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new hn;const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!xt())throw new $a("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $a(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new T0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $a("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new T0("No code detected.");const{data:D,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:c,refresh_token:u,expires_in:h,expires_at:m,token_type:p}=e;if(!c||!h||!u||!p)throw new $a("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(h);let x=g+v;m&&(x=parseInt(m));const b=x-g;b*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const j=x-v;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,x,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,x,g);const{data:N,error:k}=await this._getUser(c);if(k)throw k;const C={provider_token:i,provider_refresh_token:l,access_token:c,expires_in:v,expires_at:x,refresh_token:u,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(i){if(ue(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Ws(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return this._returnResult({error:c});const u=(i=l.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(bS(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=CS(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,l;try{const{data:{session:c},error:u}=s;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,s={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Pr(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(ue(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:i,error:l}=await this._useSession(async c=>{var u,h,m,p,g;const{data:v,error:x}=c;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return xt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ue(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var i;try{const{error:l,data:{session:c}}=s;if(l)throw l;const{options:u,provider:h,token:m,access_token:p,nonce:g}=e,v=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:m,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:fn}),{data:x,error:b}=v;return b?this._returnResult({data:{user:null,session:null},error:b}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Tr}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:b}))}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,l;const{data:c,error:u}=s;if(u)throw u;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await IS(async l=>(l>0&&await OS(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fn})),(l,c)=>{const u=200*Math.pow(2,l);return c&&bu(c)&&Date.now()+u-i<Or})}catch(i){if(this._debug(s,"error",i),ue(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),xt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Ws(this.storage,this.storageKey);if(l&&this.userStorage){let u=await Ws(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await Ir(this.userStorage,this.storageKey+"-user",u)),l.user=(e=u?.user)!==null&&e!==void 0?e:Nu()}else if(l&&!l.user&&!l.user){const u=await Ws(this.storage,this.storageKey+"-user");u&&u?.user?(l.user=u.user,await ps(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,l)):l.user=Nu()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<wu;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${wu}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),bu(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(l.access_token);!h&&u?.user?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new fl;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new hn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(l,"error",c),ue(c)){const u={data:null,error:c};return bu(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,s,i=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,s)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=O0(l);await Ir(this.storage,this.storageKey,c)}else{const l=O0(s);await Ir(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await ps(this.storage,this.storageKey+"-code-verifier"),await ps(this.storage,this.storageKey+"-user"),this.userStorage&&await ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-e)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Or}ms, refresh threshold is ${id} ticks`),l<=id&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const l=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await Pr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(h.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);l.push(c.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;return c?this._returnResult({data:null,error:c}):await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,l;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:p}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?uE(e.webauthn.credential_response):dE(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:m}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const u=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:lE(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:cE(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=s?.factors)!==null&&e!==void 0?e:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:i},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ju(i.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((s=(e=i.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;return l?this._returnResult({data:null,error:l}):i?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new hn})})}catch(s){if(ue(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new hn});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&xt()&&!s?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,s){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new hn});const u=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&xt()&&!s?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(h=>h.kid===e);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+xS>l)return i;const{data:c,error:u}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,i=c.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:b,error:j}=await this.getSession();if(j||!b.session)return this._returnResult({data:null,error:j});i=b.session.access_token}const{header:l,payload:c,signature:u,raw:{header:h,payload:m}}=ju(i);s?.allowExpired||FS(c.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:c,header:l,signature:u},error:null}}const g=US(l.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,TS(`${h}.${m}`)))throw new ld("Invalid JWT signature");return{data:{claims:c,header:l,signature:u},error:null}}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}}oo.nextInstanceID={};const wE=oo;class bE extends wE{constructor(e){super(e)}}class jE{constructor(e,s,i){var l,c,u;this.supabaseUrl=e,this.supabaseKey=s;const h=mS(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:oS,realtime:lS,auth:Object.assign(Object.assign({},aS),{storageKey:m}),global:iS},g=fS(i??{},p);this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=dS(s,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new pk(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new nS(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new dk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,s;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:u,flowType:h,lock:m,debug:p,throwOnError:g},v,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bE({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),v),storageKey:u,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:c,flowType:h,lock:m,debug:p,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ak(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i?.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NE=(n,e,s)=>new jE(n,e,s);function _E(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_E()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ke="odxrugzhcfeksxvnfmyn",il="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9keHJ1Z3poY2Zla3N4dm5mbXluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI0Mjg3NDQsImV4cCI6MjA3ODAwNDc0NH0.yAjBHEQRN7yUBUVWoeL0h4V6Osg-N9YlQI1w_7syKvE";let Va=null;function nr(){if(Va)return Va;const n=`https://${ke}.supabase.co`;return Va=NE(n,il,{auth:{persistSession:!0,autoRefreshToken:!0}}),Va}const B0=n=>{let e;const s=new Set,i=(p,g)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const x=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),s.forEach(b=>b(e,x))}},l=()=>e,h={setState:i,getState:l,getInitialState:()=>m,subscribe:p=>(s.add(p),()=>s.delete(p))},m=e=n(i,l,h);return h},kE=(n=>n?B0(n):B0),SE=n=>n;function EE(n,e=SE){const s=J.useSyncExternalStore(n.subscribe,J.useCallback(()=>e(n.getState()),[n,e]),J.useCallback(()=>e(n.getInitialState()),[n,e]));return J.useDebugValue(s),s}const F0=n=>{const e=kE(n),s=i=>EE(e,i);return Object.assign(s,e),s},TE=(n=>n?F0(n):F0),jt=TE(n=>({user:null,accessToken:null,isLoading:!0,setUser:e=>n({user:e}),setAccessToken:e=>n({accessToken:e}),setIsLoading:e=>n({isLoading:e}),logout:async()=>{await nr().auth.signOut(),n({user:null,accessToken:null}),localStorage.removeItem("userRole")}}));function PE({role:n,onSwitchToSignup:e,onForgotPassword:s,onSuccess:i}){const[l,c]=A.useState(""),[u,h]=A.useState(""),[m,p]=A.useState(!1),[g,v]=A.useState(!1),[x,b]=A.useState({}),{setUser:j,setAccessToken:N}=jt(),k=async()=>{const $={student:{email:"teststuff677+test@gmail.com",password:"123456"},owner:{email:"teststuff677+test1@gmail.com",password:"123456"},admin:{email:"teststuff677@gmail.com",password:"akash97"}}[n];c($.email),h($.password);try{const B=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/init-demo-users`,{method:"POST",headers:{Authorization:`Bearer ${il}`}});if(B.ok){const G=await B.json();if(console.log("Demo users initialization:",G),n==="admin"){const z=G.results?.find(re=>re.email==="teststuff677@gmail.com");z?(console.log("Admin user status:",z),z.status==="error"?X.warning(`Admin user initialization had issues: ${z.error||"Unknown error"}`):X.success("Demo credentials filled! Admin user is ready.")):X.info("Demo credentials filled! Admin user may need initialization.")}else X.success("Demo credentials filled! Users are ready.")}else{const G=await B.text();console.error("Failed to initialize demo users:",G),X.info("Demo credentials filled! If login fails, wait a moment and try again.")}}catch(B){console.error("Error initializing demo users:",B),X.info("Demo credentials filled!")}},C=()=>{const T={};return l?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)||(T.email="Invalid email format"):T.email="Email is required",u?u.length<6&&(T.password="Password must be at least 6 characters"):T.password="Password is required",b(T),Object.keys(T).length===0},D=async T=>{if(T.preventDefault(),!!C()){v(!0);try{const $=nr(),{data:B,error:G}=await $.auth.signInWithPassword({email:l,password:u});if(G){let z=G.message;G.message.includes("Invalid login credentials")||G.message.includes("Invalid credentials")?n==="admin"?(z='Invalid email or password. For admin: Ensure the account exists and password is "akash97". Try clicking "Quick Fill Demo" again to reinitialize.',console.error("Admin login failed:",{email:l,role:n,error:G.message,suggestion:"Check if admin user exists in Supabase Auth"})):z="Invalid email or password. If using demo credentials, please wait a few seconds for initialization to complete.":G.message.includes("Email not confirmed")&&(z="Please check your email to confirm your account."),X.error("Login failed: "+z),v(!1);return}if(B.session){N(B.session.access_token);const z=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/user/profile`,{headers:{Authorization:`Bearer ${B.session.access_token}`}});if(z.ok){const re=await z.json();if(console.log("Login successful - Profile fetched:",re),re.role!==n){const _e=`This account is registered as ${re.role}, not ${n}. Please select the correct role.`;console.error("Role mismatch:",{expected:n,actual:re.role,profile:re}),X.error(_e),await $.auth.signOut(),v(!1);return}n==="admin"&&console.log("Admin login successful:",{userId:re.id,email:re.email,role:re.role,name:re.name}),j(re),localStorage.setItem("userRole",re.role),console.log("User set in store, calling onSuccess..."),X.success(`Welcome back, ${re.name}!`),v(!1),i()}else{const re=await z.text();console.error("Failed to fetch user profile:",z.status,re),X.error("Failed to fetch user profile. Please try again."),v(!1)}}}catch($){console.error("Login error:",$),X.error("An unexpected error occurred"),v(!1)}}},S=async()=>{try{const T=nr(),{error:$}=await T.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});$&&X.error("Google login failed: "+$.message)}catch(T){console.error("Google login error:",T),X.error("Failed to initiate Google login")}};return o.jsxs(V.form,{onSubmit:D,className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-stone-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"email",type:"email",value:l,onChange:T=>c(T.target.value),onBlur:C,className:`w-full pl-12 pr-4 py-3 bg-white border ${x.email?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all`,placeholder:"you@example.com"})]}),x.email&&o.jsx(V.p,{className:"mt-1 text-red-600",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:x.email})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-stone-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ha,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"password",type:m?"text":"password",value:u,onChange:T=>h(T.target.value),onBlur:C,className:`w-full pl-12 pr-12 py-3 bg-white border ${x.password?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all`,placeholder:""}),o.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600 transition-colors",children:m?o.jsx(qu,{className:"w-5 h-5"}):o.jsx(Qa,{className:"w-5 h-5"})})]}),x.password&&o.jsx(V.p,{className:"mt-1 text-red-600",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:x.password})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{type:"button",onClick:k,className:"text-blue-600 hover:text-blue-700 transition-colors flex items-center gap-1",children:" Quick Fill Demo"}),o.jsx("button",{type:"button",onClick:s,className:"text-amber-700 hover:text-amber-800 transition-colors",children:"Forgot Password?"})]}),o.jsxs(V.button,{type:"submit",disabled:g,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden group",whileHover:{scale:g?1:1.02},whileTap:{scale:g?1:.98},children:[g?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(ul,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Logging in..."})]}):"Login",o.jsx(V.div,{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10",initial:!1})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-stone-300"})}),o.jsx("div",{className:"relative flex justify-center",children:o.jsx("span",{className:"px-4 bg-stone-50 text-stone-500",children:"Or continue with"})})]}),o.jsxs("button",{type:"button",onClick:S,className:"w-full py-3 bg-white border border-stone-300 rounded-xl hover:bg-stone-50 transition-all duration-300 flex items-center justify-center gap-3 group",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{className:"text-stone-700",children:"Continue with Google"})]}),o.jsxs("div",{className:"text-center text-stone-600",children:["Don't have an account?"," ",o.jsx("button",{type:"button",onClick:e,className:"text-amber-700 hover:text-amber-800 transition-colors",children:"Sign up"})]})]})}function CE({role:n,onSwitchToLogin:e,onSuccess:s}){const[i,l]=A.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",course:"",rollNo:"",gender:"",businessName:"",adminCode:""}),[c,u]=A.useState(!1),[h,m]=A.useState(!1),[p,g]=A.useState(!1),[v,x]=A.useState({}),b=()=>{const k={};return i.name||(k.name="Name is required"),i.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(k.email="Invalid email format"):k.email="Email is required",i.password?i.password.length<6&&(k.password="Password must be at least 6 characters"):k.password="Password is required",i.password!==i.confirmPassword&&(k.confirmPassword="Passwords do not match"),n==="student"&&(i.course||(k.course="Course is required"),i.rollNo||(k.rollNo="Roll number is required"),i.gender||(k.gender="Gender is required")),n==="owner"&&(i.phone||(k.phone="Phone number is required")),n==="admin"&&(i.adminCode?i.adminCode!=="ADTU-ADMIN-2024"&&(k.adminCode="Invalid admin invitation code. Please contact your administrator."):k.adminCode="Admin invitation code is required"),x(k),Object.keys(k).length===0},j=k=>{l({...i,[k.target.name]:k.target.value})},N=async k=>{if(k.preventDefault(),!!b()){g(!0);try{const C=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.email,password:i.password,name:i.name,role:n,phone:i.phone,course:i.course,rollNo:i.rollNo,gender:i.gender,businessName:i.businessName,adminCode:i.adminCode})});if(!C.ok){const D=await C.text();X.error("Signup failed: "+D),g(!1);return}X.success("Account created successfully! Please login."),s()}catch(C){console.error("Signup error:",C),X.error("An unexpected error occurred"),g(!1)}}};return o.jsxs(V.form,{onSubmit:N,className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-stone-700 mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Jd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"name",name:"name",type:"text",value:i.name,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${v.name?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"John Doe"})]}),v.name&&o.jsx("p",{className:"mt-1 text-red-600",children:v.name})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-stone-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"email",name:"email",type:"email",value:i.email,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${v.email?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"you@example.com"})]}),v.email&&o.jsx("p",{className:"mt-1 text-red-600",children:v.email})]}),n==="student"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"course",className:"block text-stone-700 mb-2",children:"Course"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ny,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"course",name:"course",type:"text",value:i.course,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${v.course?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"B.Tech CSE"})]}),v.course&&o.jsx("p",{className:"mt-1 text-red-600",children:v.course})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"rollNo",className:"block text-stone-700 mb-2",children:"Roll No"}),o.jsxs("div",{className:"relative",children:[o.jsx(d_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"rollNo",name:"rollNo",type:"text",value:i.rollNo,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${v.rollNo?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"2024001"})]}),v.rollNo&&o.jsx("p",{className:"mt-1 text-red-600",children:v.rollNo})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gender",className:"block text-stone-700 mb-2",children:"Gender"}),o.jsxs("select",{id:"gender",name:"gender",value:i.gender,onChange:j,className:`w-full px-4 py-3 bg-white border ${v.gender?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,children:[o.jsx("option",{value:"",children:"Select gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]}),v.gender&&o.jsx("p",{className:"mt-1 text-red-600",children:v.gender})]})]}),n==="owner"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-stone-700 mb-2",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(qd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"phone",name:"phone",type:"tel",value:i.phone,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${v.phone?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"+91 98765 43210"})]}),v.phone&&o.jsx("p",{className:"mt-1 text-red-600",children:v.phone})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"businessName",className:"block text-stone-700 mb-2",children:"Business Name (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(_y,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"businessName",name:"businessName",type:"text",value:i.businessName,onChange:j,className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all",placeholder:"PG Properties Ltd."})]})]})]}),n==="admin"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"adminCode",className:"block text-stone-700 mb-2",children:"Admin Invitation Code"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ha,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"adminCode",name:"adminCode",type:"text",value:i.adminCode,onChange:j,className:`w-full pl-12 pr-4 py-3 bg-white border ${v.adminCode?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:"Enter admin invitation code"})]}),v.adminCode&&o.jsx("p",{className:"mt-1 text-red-600 text-sm",children:v.adminCode}),o.jsx("p",{className:"mt-1 text-stone-500 text-sm",children:" Contact your system administrator or university to obtain the admin invitation code."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-stone-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ha,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"password",name:"password",type:c?"text":"password",value:i.password,onChange:j,className:`w-full pl-12 pr-12 py-3 bg-white border ${v.password?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:""}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600",children:c?o.jsx(qu,{className:"w-5 h-5"}):o.jsx(Qa,{className:"w-5 h-5"})})]}),v.password&&o.jsx("p",{className:"mt-1 text-red-600",children:v.password})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-stone-700 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ha,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",value:i.confirmPassword,onChange:j,className:`w-full pl-12 pr-12 py-3 bg-white border ${v.confirmPassword?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all`,placeholder:""}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-400 hover:text-stone-600",children:h?o.jsx(qu,{className:"w-5 h-5"}):o.jsx(Qa,{className:"w-5 h-5"})})]}),v.confirmPassword&&o.jsx("p",{className:"mt-1 text-red-600",children:v.confirmPassword})]}),o.jsx(V.button,{type:"submit",disabled:p,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:p?1:1.02},whileTap:{scale:p?1:.98},children:p?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(ul,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Creating account..."})]}):"Create Account"}),o.jsxs("div",{className:"text-center text-stone-600",children:["Already have an account?"," ",o.jsx("button",{type:"button",onClick:e,className:"text-amber-700 hover:text-amber-800 transition-colors",children:"Login"})]})]})}function RE({onBack:n}){const[e,s]=A.useState(""),[i,l]=A.useState(!1),[c,u]=A.useState(!1),[h,m]=A.useState(""),p=async g=>{if(g.preventDefault(),!e){m("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){m("Invalid email format");return}m(""),l(!0);try{const v=nr(),{error:x}=await v.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin});if(x){let b=x.message;x.message.includes("rate limit")?b="Too many requests. Please wait a few minutes and try again.":x.message.includes("email")&&(b="Unable to send email. Please check your email address or contact support."),X.error("Failed to send reset email: "+b),l(!1);return}u(!0),X.success("Password reset email sent! Check your inbox and spam folder.")}catch(v){console.error("Password reset error:",v),X.error("An unexpected error occurred"),l(!1)}};return c?o.jsxs(V.div,{className:"space-y-6 text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Gr,{className:"w-10 h-10 text-green-600"})}),o.jsx("h3",{className:"text-stone-900",children:"Check Your Email"}),o.jsxs("p",{className:"text-stone-600 max-w-md mx-auto",children:["We've sent a password reset link to ",o.jsx("strong",{children:e}),". Click the link in the email to reset your password."]}),o.jsx("p",{className:"text-stone-500 text-sm max-w-md mx-auto mt-2",children:" Don't see the email? Check your spam folder. If email is not configured, contact your administrator."}),o.jsx("button",{onClick:n,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300",children:"Back to Login"})]}):o.jsxs(V.form,{onSubmit:p,className:"space-y-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"reset-email",className:"block text-stone-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"reset-email",type:"email",value:e,onChange:g=>s(g.target.value),className:`w-full pl-12 pr-4 py-3 bg-white border ${h?"border-red-400":"border-stone-300"} rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all`,placeholder:"you@example.com"})]}),h&&o.jsx(V.p,{className:"mt-1 text-red-600",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:h})]}),o.jsx("p",{className:"text-stone-600",children:"Enter your email address and we'll send you a link to reset your password."}),o.jsx(V.button,{type:"submit",disabled:i,className:"w-full py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:i?1:1.02},whileTap:{scale:i?1:.98},children:i?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(ul,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Sending..."})]}):"Send Reset Link"}),o.jsx("div",{className:"text-center",children:o.jsxs("button",{type:"button",onClick:n,className:"text-amber-700 hover:text-amber-800 transition-colors inline-flex items-center gap-2",children:[o.jsx(nn,{className:"w-4 h-4"}),"Back to Login"]})})]})}function AE({initialRole:n,onSuccess:e}){const[s,i]=A.useState("login"),[l,c]=A.useState(n),u={login:"Welcome Back",signup:"Create Account",reset:"Reset Password"},h={login:`Login to your ${l} account`,signup:`Sign up as a ${l}`,reset:"Enter your email to reset your password"};return o.jsxs(o.Fragment,{children:[o.jsxs(ik,{title:u[s],subtitle:h[s],children:[o.jsx("div",{className:"flex gap-2 p-1 bg-stone-100 rounded-xl mb-6",children:["student","owner","admin"].map(m=>o.jsx("button",{onClick:()=>c(m),className:`flex-1 py-2 px-4 rounded-lg transition-all duration-300 capitalize ${l===m?"bg-white shadow-md text-amber-700":"text-stone-600 hover:text-stone-900"}`,children:m},m))}),o.jsxs(Wr,{mode:"wait",children:[s==="login"&&o.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:o.jsx(PE,{role:l,onSwitchToSignup:()=>i("signup"),onForgotPassword:()=>i("reset"),onSuccess:e})},"login"),s==="signup"&&o.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:o.jsx(CE,{role:l,onSwitchToLogin:()=>i("login"),onSuccess:()=>i("login")})},"signup"),s==="reset"&&o.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:o.jsx(RE,{onBack:()=>i("login")})},"reset")]})]}),o.jsx(Ba,{position:"bottom-right",richColors:!0})]})}const OE={WiFi:Ey,AC:X_,Meals:Y_,Laundry:I_,Security:Yd,"Study Room":Ny,Gym:i_,Parking:bt};function wv({pg:n,onClose:e}){const[s,i]=A.useState(0),[l,c]=A.useState([]),[u,h]=A.useState(!1),[m,p]=A.useState({roomType:"single",checkIn:"",checkOut:""}),{accessToken:g}=jt();A.useEffect(()=>{v()},[]);const v=async()=>{try{const b=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/pgs/${n.id}/reviews`,{headers:{Authorization:`Bearer ${g}`}});if(b.ok){const j=await b.json();c(j)}}catch(b){console.error("Error fetching reviews:",b)}},x=async()=>{if(!g){X.error("Please login to book");return}if(!m.checkIn||!m.checkOut){X.error("Please select check-in and check-out dates");return}const b=new Date(m.checkIn),j=new Date(m.checkOut),N=Math.abs(j.getTime()-b.getTime()),k=Math.ceil(N/(1e3*60*60*24)),C=Math.ceil(k/30);if(C<=0){X.error("Check-out date must be after check-in date");return}const D=n.price*C;try{const S=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/bookings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({pgId:n.id,roomType:m.roomType,checkIn:m.checkIn,duration:C,totalAmount:D})});if(S.ok){const T=await S.json();X.success("Booking request sent successfully!"),h(!1),e()}else{const T=await S.text();console.error("Booking failed:",T),X.error("Failed to create booking")}}catch(S){console.error("Booking error:",S),X.error("An error occurred while booking")}};return o.jsx(Wr,{children:o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:o.jsxs(V.div,{className:"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},children:[o.jsx("button",{onClick:e,className:"sticky top-4 left-full ml-4 p-2 bg-white rounded-full shadow-lg hover:bg-stone-100 transition-colors z-10",children:o.jsx(Za,{className:"w-6 h-6"})}),o.jsxs("div",{className:"relative h-96 overflow-hidden rounded-t-3xl",children:[o.jsx(xs,{src:n.images[s],alt:n.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),n.images.length>1&&o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:n.images.map((b,j)=>o.jsx("button",{onClick:()=>i(j),className:`w-2 h-2 rounded-full transition-all ${j===s?"bg-white w-8":"bg-white/50"}`},j))}),n.verified&&o.jsx("div",{className:"absolute top-4 left-4 px-4 py-2 bg-green-500 text-white rounded-full",children:" Verified Property"})]}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-stone-900 mb-2",children:n.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[o.jsx(bt,{className:"w-4 h-4"}),o.jsx("span",{children:n.location}),o.jsx("span",{children:""}),o.jsxs("span",{children:[n.distance," km from ADTU"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-amber-700 mb-1",children:["",n.price]}),o.jsx("div",{className:"text-stone-500",children:"/month"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ut,{className:"w-5 h-5 fill-amber-500 text-amber-500"}),o.jsx("span",{className:"text-stone-900",children:n.rating}),o.jsxs("span",{className:"text-stone-500",children:["(",n.reviews," reviews)"]})]}),o.jsx("div",{className:"px-3 py-1 bg-stone-100 rounded-full text-stone-700 capitalize",children:n.gender})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-stone-900 mb-2",children:"About this PG"}),o.jsx("p",{className:"text-stone-600 leading-relaxed",children:n.description})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-stone-900 mb-4",children:"Amenities"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.amenities.map(b=>{const j=OE[b]||Ey;return o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-xl",children:[o.jsx(j,{className:"w-5 h-5 text-amber-700"}),o.jsx("span",{className:"text-stone-700",children:b})]},b)})})]}),o.jsxs("div",{className:"mb-6 p-4 bg-stone-50 rounded-xl",children:[o.jsx("h3",{className:"text-stone-900 mb-3",children:"Contact Owner"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3 text-stone-600",children:[o.jsx(qd,{className:"w-4 h-4"}),o.jsx("span",{children:n.ownerName})]}),o.jsxs("div",{className:"flex items-center gap-3 text-stone-600",children:[o.jsx(Gr,{className:"w-4 h-4"}),o.jsx("span",{children:n.ownerPhone})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-stone-900 mb-4",children:["Reviews (",l.length,")"]}),l.length>0?o.jsx("div",{className:"space-y-4",children:l.slice(0,3).map(b=>o.jsxs("div",{className:"p-4 bg-stone-50 rounded-xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-stone-900",children:b.userName}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ut,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),o.jsx("span",{children:b.rating})]})]}),o.jsx("p",{className:"text-stone-600",children:b.comment}),o.jsx("p",{className:"text-stone-400 mt-2",children:new Date(b.createdAt).toLocaleDateString()})]},b.id))}):o.jsx("p",{className:"text-stone-500",children:"No reviews yet"})]}),u?o.jsxs(V.div,{className:"p-6 bg-stone-50 rounded-xl",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[o.jsx("h3",{className:"text-stone-900 mb-4",children:"Booking Details"}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Room Type"}),o.jsxs("select",{value:m.roomType,onChange:b=>p({...m,roomType:b.target.value}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",children:[o.jsx("option",{value:"single",children:"Single Room"}),o.jsx("option",{value:"double",children:"Double Sharing"}),o.jsx("option",{value:"triple",children:"Triple Sharing"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Check-in Date"}),o.jsxs("div",{className:"relative",children:[o.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"date",value:m.checkIn,onChange:b=>p({...m,checkIn:b.target.value}),className:"w-full pl-10 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Check-out Date"}),o.jsxs("div",{className:"relative",children:[o.jsx(Vn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"date",value:m.checkOut,onChange:b=>p({...m,checkOut:b.target.value}),className:"w-full pl-10 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-3 bg-stone-200 text-stone-700 rounded-xl hover:bg-stone-300 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:x,className:"flex-1 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Confirm Booking"})]})]}):o.jsx("button",{onClick:()=>h(!0),className:"w-full py-4 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all duration-300",children:"Book Now"})]})]})})})}function IE({onBack:n}){const{accessToken:e}=jt(),[s,i]=A.useState([]),[l,c]=A.useState(!0),[u,h]=A.useState(null);A.useEffect(()=>{m()},[]);const m=async()=>{if(e)try{const g=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/user/favorites`,{headers:{Authorization:`Bearer ${e}`}});if(g.ok){const v=await g.json();i(v)}}catch(g){console.error("Error fetching favorites:",g),X.error("Failed to load favorites")}finally{c(!1)}},p=async(g,v)=>{v.stopPropagation();try{(await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/user/favorites/${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok&&(i(s.filter(b=>b.id!==g)),X.success("Removed from favorites"))}catch(x){console.error("Error removing favorite:",x),X.error("Failed to remove favorite")}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx(V.header,{className:"bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm",initial:{y:-100},animate:{y:0},children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors","aria-label":"Go back",children:o.jsx(nn,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xa,{className:"w-6 h-6 text-red-500 fill-red-500"}),o.jsx("h2",{className:"text-stone-900",children:"My Favorites"})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:l?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading favorites..."})]}):s.length===0?o.jsxs(V.div,{className:"text-center py-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsx(Xa,{className:"w-24 h-24 text-stone-300 mx-auto mb-6"}),o.jsx("h3",{className:"text-stone-900 mb-4",children:"No favorites yet"}),o.jsx("p",{className:"text-stone-600 mb-8 max-w-md mx-auto",children:"Start exploring PGs near ADTU and add your favorites to compare and book later!"}),o.jsx("button",{onClick:n,className:"px-8 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Browse PGs"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6 text-stone-600",children:[s.length," favorite",s.length!==1?"s":""]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((g,v)=>o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer group",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:v*.1},onClick:()=>h(g),whileHover:{y:-5},children:[o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[o.jsx(xs,{src:g.images[0],alt:g.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),o.jsx("button",{onClick:x=>p(g.id,x),className:"absolute top-3 right-3 p-2 bg-white/90 backdrop-blur-sm rounded-full hover:bg-red-50 hover:scale-110 transition-all group/btn","aria-label":"Remove from favorites",children:o.jsx(Sy,{className:"w-5 h-5 text-stone-600 group-hover/btn:text-red-600"})}),g.verified&&o.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-green-500 text-white rounded-full flex items-center gap-1",children:o.jsx("span",{className:"text-xs",children:" Verified"})}),o.jsxs("div",{className:"absolute bottom-3 left-3 px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full flex items-center gap-1",children:[o.jsx(bt,{className:"w-3 h-3 text-amber-600"}),o.jsxs("span",{className:"text-xs",children:[g.distance," km"]})]})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"text-stone-900 mb-2 line-clamp-1",children:g.name}),o.jsx("p",{className:"text-stone-600 mb-3 line-clamp-2",children:g.description}),o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Ut,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),o.jsx("span",{className:"text-stone-900",children:g.rating}),o.jsxs("span",{className:"text-stone-500",children:["(",g.reviews," reviews)"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-amber-700",children:["",g.price]}),o.jsx("span",{className:"text-stone-500",children:"/month"})]}),o.jsx("div",{className:"px-3 py-1 bg-stone-100 rounded-full text-stone-700 capitalize",children:g.gender})]})]})]},g.id))})]})}),u&&o.jsx(wv,{pg:u,onClose:()=>h(null)})]})}function DE({onBack:n}){const{accessToken:e,user:s}=jt(),[i,l]=A.useState([]),[c,u]=A.useState(!0),[h,m]=A.useState(!1),[p,g]=A.useState(null),[v,x]=A.useState({rating:5,comment:""}),b=nr();A.useEffect(()=>{if(j(),!s?.id)return;const T=b.channel("my_bookings_channel").on("postgres_changes",{event:"*",schema:"public",table:`kv_store_${ke}`},$=>{console.log("Realtime payload (student):",$);const B=$.new,G=$.old,z=B||G;z&&z.key.startsWith("booking:")&&z.value.userId===s.id&&(console.log("Relevant booking change for student, refetching bookings."),j())}).subscribe();return()=>{b.removeChannel(T)}},[s?.id]);const j=async()=>{if(e)try{const T=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/user/bookings`,{headers:{Authorization:`Bearer ${e}`}});if(T.ok){const $=await T.json();l($)}}catch(T){console.error("Error fetching bookings:",T),X.error("Failed to load bookings")}finally{u(!1)}},N=T=>{const $=`
PG LOCATOR - BOOKING INVOICE
============================

Booking ID: ${T.id}
Date: ${new Date(T.createdAt).toLocaleDateString()}

PG Details:
-----------
Name: ${T.pg.name}
Location: ${T.pg.location}
Room Type: ${T.roomType}

Booking Details:
---------------
Check-in: ${new Date(T.checkIn).toLocaleDateString()}
Duration: ${T.duration} months
Total Amount: ${T.totalAmount}
Status: ${T.status}

Owner Contact:
--------------
Name: ${T.pg.ownerName}
Phone: ${T.pg.ownerPhone}

============================
Thank you for using PG Locator!
    `,B=new Blob([$],{type:"text/plain"}),G=URL.createObjectURL(B),z=document.createElement("a");z.href=G,z.download=`invoice-${T.id}.txt`,z.click(),URL.revokeObjectURL(G),X.success("Invoice downloaded!")},k=async()=>{if(!(!p||!e)){if(!v.comment.trim()){X.error("Please write a review comment");return}try{(await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/reviews`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({pgId:p.pgId,rating:v.rating,comment:v.comment})})).ok?(X.success("Review submitted successfully!"),m(!1),x({rating:5,comment:""}),g(null)):X.error("Failed to submit review")}catch(T){console.error("Error submitting review:",T),X.error("Failed to submit review")}}},C=i.filter(T=>T.status==="pending"),D=i.filter(T=>T.status==="approved"),S=i.filter(T=>T.status==="declined"||T.status==="completed");return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx(V.header,{className:"bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm",initial:{y:-100},animate:{y:0},children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors","aria-label":"Go back",children:o.jsx(nn,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ku,{className:"w-6 h-6 text-amber-600"}),o.jsx("h2",{className:"text-stone-900",children:"My Bookings"})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:c?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading bookings..."})]}):i.length===0?o.jsxs(V.div,{className:"text-center py-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsx(Ku,{className:"w-24 h-24 text-stone-300 mx-auto mb-6"}),o.jsx("h3",{className:"text-stone-900 mb-4",children:"No bookings yet"}),o.jsx("p",{className:"text-stone-600 mb-8 max-w-md mx-auto",children:"Find your perfect PG and make your first booking!"}),o.jsx("button",{onClick:n,className:"px-8 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Browse PGs"})]}):o.jsxs("div",{className:"space-y-8",children:[C.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-stone-900 mb-4",children:["Pending Bookings (",C.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:C.map((T,$)=>o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.1},children:[o.jsxs("div",{className:"relative h-40",children:[o.jsx(xs,{src:T.pg.images[0],alt:T.pg.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 bg-amber-100 text-amber-700 rounded-full",children:"Pending"})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h4",{className:"text-stone-900 mb-2",children:T.pg.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-4",children:[o.jsx(bt,{className:"w-4 h-4"}),o.jsx("span",{children:T.pg.location})]}),o.jsxs("div",{className:"space-y-2 mb-4 text-stone-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),o.jsxs("span",{children:["Check-in: ",new Date(T.checkIn).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(d0,{className:"w-4 h-4"}),o.jsxs("span",{children:["",T.totalAmount," (",T.duration," months)"]})]})]})]})]},T.id))})]}),D.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-stone-900 mb-4",children:["Active Bookings (",D.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:D.map((T,$)=>o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.1},children:[o.jsxs("div",{className:"relative h-40",children:[o.jsx(xs,{src:T.pg.images[0],alt:T.pg.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 bg-green-500 text-white rounded-full",children:"Approved"})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h4",{className:"text-stone-900 mb-2",children:T.pg.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-4",children:[o.jsx(bt,{className:"w-4 h-4"}),o.jsx("span",{children:T.pg.location})]}),o.jsxs("div",{className:"space-y-2 mb-4 text-stone-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),o.jsxs("span",{children:["Check-in: ",new Date(T.checkIn).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(d0,{className:"w-4 h-4"}),o.jsxs("span",{children:["",T.totalAmount," (",T.duration," months)"]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>N(T),className:"flex-1 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition-colors flex items-center justify-center gap-2",children:[o.jsx(ky,{className:"w-4 h-4"}),"Invoice"]}),o.jsxs("button",{onClick:()=>{g(T),m(!0)},className:"flex-1 py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 transition-colors flex items-center justify-center gap-2",children:[o.jsx(Ut,{className:"w-4 h-4"}),"Review"]})]})]})]},T.id))})]}),S.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-stone-900 mb-4",children:["Past Bookings (",S.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:S.map((T,$)=>o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg opacity-70",initial:{opacity:0,y:20},animate:{opacity:.7,y:0},transition:{delay:$*.1},children:[o.jsxs("div",{className:"relative h-40",children:[o.jsx(xs,{src:T.pg.images[0],alt:T.pg.name,className:"w-full h-full object-cover grayscale"}),o.jsx("div",{className:`absolute top-3 right-3 px-3 py-1 ${T.status==="declined"?"bg-red-500":"bg-stone-500"} text-white rounded-full`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h4",{className:"text-stone-900 mb-2",children:T.pg.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-4",children:[o.jsx(bt,{className:"w-4 h-4"}),o.jsx("span",{children:T.pg.location})]}),o.jsxs("div",{className:"text-stone-500",children:[T.status==="declined"?"Declined":"Completed"," on ",new Date(T.createdAt).toLocaleDateString()]})]})]},T.id))})]})]})}),h&&p&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(V.div,{className:"bg-white rounded-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[o.jsx("h3",{className:"text-stone-900 mb-4",children:"Write a Review"}),o.jsx("p",{className:"text-stone-600 mb-6",children:p.pg.name}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Rating"}),o.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(T=>o.jsx("button",{onClick:()=>x({...v,rating:T}),className:"transition-transform hover:scale-110",children:o.jsx(Ut,{className:`w-8 h-8 ${T<=v.rating?"fill-amber-500 text-amber-500":"text-stone-300"}`})},T))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Your Review"}),o.jsx("textarea",{value:v.comment,onChange:T=>x({...v,comment:T.target.value}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none",rows:4,placeholder:"Share your experience..."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{m(!1),x({rating:5,comment:""}),g(null)},className:"flex-1 py-3 bg-stone-100 text-stone-700 rounded-xl hover:bg-stone-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:k,className:"flex-1 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Submit Review"})]})]})})]})}function LE(){const{user:n,accessToken:e,logout:s}=jt(),[i,l]=A.useState([]),[c,u]=A.useState([]),[h,m]=A.useState(!0),[p,g]=A.useState(""),[v,x]=A.useState(!1),[b,j]=A.useState(null),[N,k]=A.useState(new Set),[C,D]=A.useState("home"),[S,T]=A.useState(!1),[$,B]=A.useState({minPrice:0,maxPrice:2e4,gender:"",amenities:[]});A.useEffect(()=>{G(),z();const M=setInterval(()=>{G(),z()},3e4);return()=>clearInterval(M)},[]),A.useEffect(()=>{re()},[i,p,$]);const G=async()=>{try{const M=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/pgs`,{headers:{Authorization:`Bearer ${e}`}});if(M.ok){const Q=await M.json();l(Q)}else X.error("Failed to load PG listings.")}catch(M){console.error("Error fetching PGs:",M),X.error("Failed to load PG listings")}finally{m(!1)}},z=async()=>{if(e)try{const M=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/user/favorites`,{headers:{Authorization:`Bearer ${e}`}});if(M.ok){const Q=await M.json();k(new Set(Q.map(xe=>xe.id)))}}catch(M){console.error("Error fetching favorites:",M)}},re=()=>{let M=i;p&&(M=M.filter(Q=>Q.name.toLowerCase().includes(p.toLowerCase())||Q.location.toLowerCase().includes(p.toLowerCase()))),M=M.filter(Q=>Q.price>=$.minPrice&&Q.price<=$.maxPrice),$.gender&&(M=M.filter(Q=>Q.gender===$.gender||Q.gender==="both")),$.amenities.length>0&&(M=M.filter(Q=>$.amenities.every(xe=>Q.amenities?.includes(xe)))),u(M)},_e=async(M,Q)=>{if(Q.stopPropagation(),!e){X.error("Please login to add favorites");return}const xe=N.has(M),Le=`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/user/favorites/${M}`;try{(await fetch(Le,{method:xe?"DELETE":"POST",headers:{Authorization:`Bearer ${e}`}})).ok&&k(ie=>{const W=new Set(ie);return xe?(W.delete(M),X.success("Removed from favorites")):(W.add(M),X.success("Added to favorites")),W})}catch(ge){console.error("Error toggling favorite:",ge),X.error("Failed to update favorites")}},Oe=async()=>{await s(),window.location.href="/"};return C==="favorites"?o.jsx(IE,{onBack:()=>D("home")}):C==="bookings"?o.jsx(DE,{onBack:()=>D("home")}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx(V.header,{className:"bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm",initial:{y:-100},animate:{y:0},transition:{duration:.5},children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-amber-600 rounded-full p-2",children:o.jsx(bt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-stone-900",children:"PG Locator"}),o.jsxs("p",{className:"text-stone-500",children:["Welcome, ",n?.name]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>T(!0),className:"p-2 hover:bg-stone-100 rounded-lg transition-colors relative","aria-label":"Notifications",children:o.jsx(Hd,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("button",{onClick:()=>D("favorites"),className:"p-2 hover:bg-stone-100 rounded-lg transition-colors relative","aria-label":"Favorites",children:[o.jsx(Xa,{className:"w-5 h-5 text-stone-600"}),N.size>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs",children:N.size})]}),o.jsx("button",{onClick:()=>D("bookings"),className:"p-2 hover:bg-stone-100 rounded-lg transition-colors","aria-label":"My bookings",children:o.jsx(Ku,{className:"w-5 h-5 text-stone-600"})}),o.jsx("button",{onClick:Oe,className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600","aria-label":"Logout",children:o.jsx(Kd,{className:"w-5 h-5"})})]})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs(V.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(dl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:p,onChange:M=>g(M.target.value),placeholder:"Search by name or location...",className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),o.jsxs("button",{onClick:()=>{m(!0),G(),z(),X.info("Refreshing listings...")},disabled:h,className:"px-6 py-3 bg-white border border-stone-300 rounded-xl hover:bg-stone-50 transition-colors flex items-center gap-2 disabled:opacity-50",title:"Refresh to see newly verified listings",children:[o.jsx(T_,{className:`w-5 h-5 ${h?"animate-spin":""}`}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>x(!v),className:"px-6 py-3 bg-white border border-stone-300 rounded-xl hover:bg-stone-50 transition-colors flex items-center gap-2",children:[o.jsx(L_,{className:"w-5 h-5"}),o.jsx("span",{children:"Filters"})]})]}),v&&o.jsx(V.div,{className:"bg-white border border-stone-200 rounded-xl p-6",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Price Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",value:$.minPrice,onChange:M=>B({...$,minPrice:parseInt(M.target.value)||0}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg",placeholder:"Min"}),o.jsx("span",{children:"-"}),o.jsx("input",{type:"number",value:$.maxPrice,onChange:M=>B({...$,maxPrice:parseInt(M.target.value)||2e4}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg",placeholder:"Max"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Gender"}),o.jsxs("select",{value:$.gender,onChange:M=>B({...$,gender:M.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"both",children:"Both"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Amenities"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["WiFi","AC","Meals","Laundry","Security"].map(M=>o.jsx("button",{onClick:()=>{B(Q=>({...Q,amenities:Q.amenities.includes(M)?Q.amenities.filter(xe=>xe!==M):[...Q.amenities,M]}))},className:`px-3 py-1 rounded-full text-sm transition-colors ${$.amenities.includes(M)?"bg-amber-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:M},M))})]})]})})]}),o.jsx("div",{className:"mb-4 text-stone-600",children:h?"Loading...":`${c.length} PG${c.length!==1?"s":""} found`}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((M,Q)=>o.jsxs(V.div,{className:"bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer group",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:Q*.1},onClick:()=>j(M),whileHover:{y:-5},children:[o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[o.jsx(xs,{src:M.images[0],alt:M.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),o.jsx("button",{onClick:xe=>_e(M.id,xe),className:"absolute top-3 right-3 p-2 bg-white/90 backdrop-blur-sm rounded-full hover:scale-110 transition-transform",children:o.jsx(Xa,{className:`w-5 h-5 ${N.has(M.id)?"fill-red-500 text-red-500":"text-stone-600"}`})}),M.verified&&o.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-green-500 text-white rounded-full flex items-center gap-1",children:o.jsx("span",{className:"text-xs",children:" Verified"})}),o.jsxs("div",{className:"absolute bottom-3 left-3 px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full flex items-center gap-1",children:[o.jsx(bt,{className:"w-3 h-3 text-amber-600"}),o.jsxs("span",{className:"text-xs",children:[M.distance," km"]})]})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h3",{className:"text-stone-900 mb-2 line-clamp-1",children:M.name}),o.jsx("p",{className:"text-stone-600 mb-3 line-clamp-2",children:M.description}),o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Ut,{className:"w-4 h-4 fill-amber-500 text-amber-500"}),o.jsx("span",{className:"text-stone-900",children:M.rating}),o.jsxs("span",{className:"text-stone-500",children:["(",M.reviews," reviews)"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-amber-700",children:["",M.price]}),o.jsx("span",{className:"text-stone-500",children:"/month"})]}),o.jsx("div",{className:"px-3 py-1 bg-stone-100 rounded-full text-stone-700 capitalize",children:M.gender})]})]})]},M.id))}),!h&&c.length===0&&o.jsxs("div",{className:"text-center py-20",children:[o.jsx("p",{className:"text-stone-500 mb-4",children:"No PGs found matching your criteria"}),o.jsx("button",{onClick:()=>{g(""),B({minPrice:0,maxPrice:2e4,gender:"",amenities:[]})},className:"px-6 py-3 bg-amber-600 text-white rounded-xl hover:bg-amber-700 transition-colors",children:"Clear Filters"})]})]}),b&&o.jsx(wv,{pg:b,onClose:()=>j(null)})]})}const ME=["WiFi","AC","Meals","Laundry","Security","Parking","Gym","Study Room","TV","Refrigerator","Water Purifier","Power Backup"];function $E({onBack:n,onSuccess:e}){const[s,i]=A.useState(1),[l,c]=A.useState(!1),[u,h]=A.useState(!1),{user:m,accessToken:p}=jt(),[g,v]=A.useState({name:"",description:"",location:"",distance:0,gender:"both",images:[],amenities:[],roomTypes:[],ownerPhone:m?.phone||""}),x=M=>{v(Q=>({...Q,...M}))},b=()=>{s<5&&i(s+1)},j=()=>{s>1&&i(s-1)},N=async()=>{c(!0);try{const M=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/owner/pgs`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({...g,price:g.roomTypes[0]?.price||0,ownerName:m?.name,verified:!1,rating:0,reviews:0})});if(M.ok)X.success("PG listed successfully! Awaiting admin verification."),e();else{const Q=await M.text();X.error("Failed to list PG: "+Q)}}catch(M){console.error("Error submitting PG:",M),X.error("Failed to submit PG listing")}finally{c(!1)}},k=()=>{x({roomTypes:[...g.roomTypes,{type:"",price:0,available:0}]})},C=(M,Q)=>{const xe=[...g.roomTypes];xe[M]={...xe[M],...Q},x({roomTypes:xe})},D=M=>{x({roomTypes:g.roomTypes.filter((Q,xe)=>xe!==M)})},S=M=>{g.amenities.includes(M)?x({amenities:g.amenities.filter(Q=>Q!==M)}):x({amenities:[...g.amenities,M]})},T=async M=>{const Q=M.target.files;if(!Q||Q.length===0)return;if(g.images.length+Q.length>5){X.error("You can upload a maximum of 5 images.");return}h(!0);const xe=nr(),Le=[];for(const ge of Q){const ie=`public/${m?.id}/${Date.now()}-${ge.name}`;try{const{data:W,error:te}=await xe.storage.from("pg_images").upload(ie,ge);if(te)throw te;const{data:Y}=xe.storage.from("pg_images").getPublicUrl(W.path);Le.push(Y.publicUrl)}catch(W){console.error("Error uploading image:",W),X.error("Failed to upload an image. Please try again."),h(!1);return}}x({images:[...g.images,...Le]}),h(!1)},$=M=>{x({images:g.images.filter((Q,xe)=>xe!==M)})},B=()=>o.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"PG Name *"}),o.jsx("input",{type:"text",value:g.name,onChange:M=>x({name:M.target.value}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., ADTU Comfort Stay"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Description *"}),o.jsx("textarea",{value:g.description,onChange:M=>x({description:M.target.value}),rows:4,className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Describe your PG facilities, rules, and highlights..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Address *"}),o.jsxs("div",{className:"relative",children:[o.jsx(bt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:g.location,onChange:M=>x({location:M.target.value}),className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Full address"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Distance from ADTU (km) *"}),o.jsx("input",{type:"number",step:"0.1",value:g.distance,onChange:M=>x({distance:parseFloat(M.target.value)}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"e.g., 0.5"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Gender Preference *"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:["male","female","both"].map(M=>o.jsx("button",{onClick:()=>x({gender:M}),className:`py-3 px-4 rounded-xl border-2 transition-all capitalize ${g.gender===M?"border-amber-600 bg-amber-50 text-amber-700":"border-stone-300 text-stone-600 hover:border-stone-400"}`,children:M},M))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Contact Phone *"}),o.jsx("input",{type:"tel",value:g.ownerPhone,onChange:M=>x({ownerPhone:M.target.value}),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"+91 98765 43210"})]})]}),G=()=>o.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Property Images"}),o.jsx("p",{className:"text-stone-600 text-sm mb-4",children:"Upload up to 5 images of your property."}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[g.images.map((M,Q)=>o.jsxs("div",{className:"relative aspect-video bg-stone-100 rounded-xl overflow-hidden group",children:[o.jsx("img",{src:M,alt:`Preview ${Q+1}`,className:"w-full h-full object-cover"}),o.jsx("button",{onClick:()=>$(Q),className:"absolute top-2 right-2 p-1.5 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Za,{className:"w-4 h-4"})})]},Q)),g.images.length<5&&o.jsxs("label",{className:"aspect-video flex flex-col items-center justify-center border-2 border-dashed border-stone-300 rounded-xl text-stone-600 hover:border-amber-500 hover:text-amber-600 transition-all cursor-pointer",children:[o.jsx(H_,{className:"w-8 h-8 mb-2"}),o.jsx("span",{className:"text-sm text-center",children:"Click to upload"}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:T,className:"hidden",disabled:u})]})]}),u&&o.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[o.jsx(ul,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Uploading images..."})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:o.jsx("p",{className:"text-blue-900 text-sm",children:" Tip: Use high-quality images that showcase your rooms, common areas, and facilities."})})]}),z=()=>o.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Select Amenities"}),o.jsx("p",{className:"text-stone-600 text-sm mb-4",children:"Choose all that apply"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:ME.map(M=>o.jsx("button",{onClick:()=>S(M),className:`py-3 px-4 rounded-xl border-2 transition-all ${g.amenities.includes(M)?"border-amber-600 bg-amber-50 text-amber-700":"border-stone-300 text-stone-600 hover:border-stone-400"}`,children:M},M))})]}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:o.jsxs("p",{className:"text-green-900 text-sm",children:[" ",g.amenities.length," amenities selected"]})})]}),re=()=>o.jsx(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-700 mb-2",children:"Room Types & Pricing *"}),o.jsx("p",{className:"text-stone-600 text-sm mb-4",children:"Add different room configurations you offer"}),o.jsxs("div",{className:"space-y-4",children:[g.roomTypes.map((M,Q)=>o.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 border border-stone-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-stone-700",children:["Room Type ",Q+1]}),o.jsx("button",{onClick:()=>D(Q),className:"text-red-600 hover:text-red-700 transition-colors",children:o.jsx(Za,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-600 text-sm mb-2",children:"Type"}),o.jsxs("select",{value:M.type,onChange:xe=>C(Q,{type:xe.target.value}),className:"w-full px-4 py-2 bg-white border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[o.jsx("option",{value:"",children:"Select..."}),o.jsx("option",{value:"Single",children:"Single"}),o.jsx("option",{value:"Double",children:"Double"}),o.jsx("option",{value:"Triple",children:"Triple"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-600 text-sm mb-2",children:"Price (/month)"}),o.jsx("input",{type:"number",value:M.price,onChange:xe=>C(Q,{price:parseInt(xe.target.value)}),className:"w-full px-4 py-2 bg-white border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"8500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-stone-600 text-sm mb-2",children:"Available"}),o.jsx("input",{type:"number",value:M.available,onChange:xe=>C(Q,{available:parseInt(xe.target.value)}),className:"w-full px-4 py-2 bg-white border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"2"})]})]})]},Q)),o.jsxs("button",{onClick:k,className:"w-full py-3 px-4 border-2 border-dashed border-stone-300 rounded-xl text-stone-600 hover:border-amber-500 hover:text-amber-600 transition-all flex items-center justify-center gap-2",children:[o.jsx(Yu,{className:"w-5 h-5"}),"Add Room Type"]})]})]})}),_e=()=>o.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(c0,{className:"w-8 h-8 text-amber-600"})}),o.jsx("h2",{className:"text-stone-800 mb-2",children:"Review Your Listing"}),o.jsx("p",{className:"text-stone-600",children:"Please verify all details before submitting"})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-stone-200 space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"PG Name"}),o.jsx("p",{className:"text-stone-800",children:g.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Location"}),o.jsx("p",{className:"text-stone-800",children:g.location}),o.jsxs("p",{className:"text-stone-600 text-sm",children:[g.distance," km from ADTU"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Gender Preference"}),o.jsx("p",{className:"text-stone-800 capitalize",children:g.gender})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Images"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:g.images.map((M,Q)=>o.jsx("img",{src:M,alt:`PG image ${Q+1}`,className:"w-20 h-20 rounded-lg object-cover"},Q))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Amenities"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:g.amenities.map(M=>o.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-sm",children:M},M))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-sm",children:"Room Types"}),o.jsx("div",{className:"space-y-2 mt-2",children:g.roomTypes.map((M,Q)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-stone-50 rounded-lg",children:[o.jsx("span",{className:"text-stone-800",children:M.type}),o.jsxs("span",{className:"text-amber-700",children:["",M.price,"/month"]}),o.jsxs("span",{className:"text-stone-600 text-sm",children:[M.available," available"]})]},Q))})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:o.jsx("p",{className:"text-blue-900 text-sm",children:" Your listing will be reviewed by our admin team before being published to students. This usually takes 24-48 hours."})})]}),Oe=()=>{switch(s){case 1:return g.name&&g.description&&g.location&&g.distance&&g.ownerPhone;case 2:return g.images.length>0;case 3:return g.amenities.length>0;case 4:return g.roomTypes.length>0&&g.roomTypes.every(M=>M.type&&M.price&&M.available);case 5:return!0;default:return!1}};return o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("button",{onClick:n,className:"p-2 text-stone-600 hover:text-stone-900 transition-colors",children:o.jsx(nn,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Add New PG"}),o.jsxs("p",{className:"text-stone-600",children:["Step ",s," of 5"]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex justify-between mb-2",children:[1,2,3,4,5].map(M=>o.jsx("div",{className:`flex-1 h-2 rounded-full mx-1 transition-all ${M<=s?"bg-amber-600":"bg-stone-200"}`},M))}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:s>=1?"text-amber-600":"text-stone-400",children:"Basic Info"}),o.jsx("span",{className:s>=2?"text-amber-600":"text-stone-400",children:"Photos"}),o.jsx("span",{className:s>=3?"text-amber-600":"text-stone-400",children:"Amenities"}),o.jsx("span",{className:s>=4?"text-amber-600":"text-stone-400",children:"Pricing"}),o.jsx("span",{className:s>=5?"text-amber-600":"text-stone-400",children:"Review"})]})]}),o.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-stone-200 mb-8",children:o.jsxs(Wr,{mode:"wait",children:[s===1&&B(),s===2&&G(),s===3&&z(),s===4&&re(),s===5&&_e()]})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("button",{onClick:j,disabled:s===1,className:"px-6 py-3 text-stone-600 hover:text-stone-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[o.jsx(nn,{className:"w-5 h-5"}),"Previous"]}),s<5?o.jsxs("button",{onClick:b,disabled:!Oe(),className:"px-6 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["Next",o.jsx(jy,{className:"w-5 h-5"})]}):o.jsx("button",{onClick:N,disabled:l||!Oe(),className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(c0,{className:"w-5 h-5"}),"Submit Listing"]})})]})]})}function VE({onBack:n}){const[e,s]=A.useState([]),[i,l]=A.useState(!0),[c,u]=A.useState(""),[h,m]=A.useState("all"),{accessToken:p}=jt();A.useEffect(()=>{g()},[]);const g=async()=>{try{const j=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/owner/pgs`,{headers:{Authorization:`Bearer ${p}`}});if(j.ok){const N=await j.json();s(N)}}catch(j){console.error("Error fetching PGs:",j),X.error("Failed to load your listings")}finally{l(!1)}},v=async j=>{if(confirm("Are you sure you want to delete this PG listing?"))try{(await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/owner/pgs/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${p}`}})).ok?(X.success("PG deleted successfully"),g()):X.error("Failed to delete PG")}catch(N){console.error("Error deleting PG:",N),X.error("Failed to delete PG")}},x=e.filter(j=>{const N=j.name.toLowerCase().includes(c.toLowerCase())||j.location.toLowerCase().includes(c.toLowerCase()),k=h==="all"||h==="verified"&&j.verified||h==="pending"&&!j.verified;return N&&k}),b=j=>j.roomTypes.reduce((N,k)=>N+k.available,0);return i?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("button",{onClick:n,className:"p-2 text-stone-600 hover:text-stone-900 transition-colors",children:o.jsx(nn,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Manage PGs"}),o.jsxs("p",{className:"text-stone-600",children:[e.length," total listings"]})]})]}),o.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 mb-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(dl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:c,onChange:j=>u(j.target.value),placeholder:"Search by name or location...",className:"w-full pl-12 pr-4 py-3 bg-stone-50 border border-stone-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>m("all"),className:`px-4 py-3 rounded-xl transition-all ${h==="all"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"All"}),o.jsx("button",{onClick:()=>m("verified"),className:`px-4 py-3 rounded-xl transition-all ${h==="verified"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Verified"}),o.jsx("button",{onClick:()=>m("pending"),className:`px-4 py-3 rounded-xl transition-all ${h==="pending"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Pending"})]})]})}),x.length===0?o.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 mb-4",children:"No PGs found"}),o.jsx("p",{className:"text-stone-500 text-sm",children:c||h!=="all"?"Try adjusting your search or filters":"Start by adding your first PG listing"})]}):o.jsx("div",{className:"space-y-4",children:x.map((j,N)=>o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 hover:shadow-md transition-all",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsx("div",{className:"w-full md:w-48 h-32 bg-stone-100 rounded-xl overflow-hidden flex-shrink-0",children:o.jsx("img",{src:j.images[0]||"",alt:j.name,className:"w-full h-full object-cover",onError:k=>{k.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'}})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-stone-800 mb-1",children:j.name}),o.jsx("p",{className:"text-stone-600 text-sm",children:j.location})]}),o.jsx("div",{className:"flex items-center gap-2",children:j.verified?o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"Verified"}):o.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-xs",children:"Pending Verification"})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Starting Price"}),o.jsxs("p",{className:"text-amber-700",children:["",j.price.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Room Types"}),o.jsx("p",{className:"text-stone-800",children:j.roomTypes.length})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Total Occupancy"}),o.jsx("p",{className:"text-stone-800",children:b(j)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Status"}),o.jsx("p",{className:j.verified?"text-green-600":"text-amber-600",children:j.verified?"Active":"Pending"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{className:"px-4 py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 transition-colors flex items-center gap-2 text-sm",children:[o.jsx(Qa,{className:"w-4 h-4"}),"View"]}),o.jsxs("button",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center gap-2 text-sm",children:[o.jsx($_,{className:"w-4 h-4"}),"Edit"]}),o.jsxs("button",{onClick:()=>v(j.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center gap-2 text-sm",children:[o.jsx(Sy,{className:"w-4 h-4"}),"Delete"]})]})]})]})},j.id))})]})}function BE({onBack:n}){const[e,s]=A.useState({pending:[],approved:[],declined:[]}),[i,l]=A.useState("pending"),[c,u]=A.useState(!0),{accessToken:h}=jt();A.useEffect(()=>{m()},[]);const m=async()=>{u(!0);try{const b=["pending","approved","declined"].map(N=>fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/owner/bookings?status=${N}`,{headers:{Authorization:`Bearer ${h}`}}).then(k=>k.json())),j=await Promise.all(b);s({pending:j[0]||[],approved:j[1]||[],declined:j[2]||[]})}catch(x){console.error("Error fetching bookings:",x),X.error("Failed to load bookings")}finally{u(!1)}},p=async x=>{try{(await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/owner/bookings/${x}/approve`,{method:"POST",headers:{Authorization:`Bearer ${h}`}})).ok?(X.success("Booking approved successfully"),m()):X.error("Failed to approve booking")}catch(b){console.error("Error approving booking:",b),X.error("Failed to approve booking")}},g=async x=>{const b=prompt("Please provide a reason for declining (optional):");try{(await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/owner/bookings/${x}/decline`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({reason:b})})).ok?(X.success("Booking declined"),m()):X.error("Failed to decline booking")}catch(j){console.error("Error declining booking:",j),X.error("Failed to decline booking")}},v=e[i]||[];return c?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("button",{onClick:n,className:"p-2 text-stone-600 hover:text-stone-900 transition-colors",children:o.jsx(nn,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Booking Requests"}),o.jsx("p",{className:"text-stone-600",children:"Manage student booking requests"})]})]}),o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsx("button",{onClick:()=>l("pending"),className:`px-6 py-3 rounded-xl transition-all ${i==="pending"?"bg-amber-600 text-white shadow-lg":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tr,{className:"w-5 h-5"}),"Pending (",bookings.filter(x=>x.status==="pending").length,")"]})}),o.jsx("button",{onClick:()=>l("approved"),className:`px-6 py-3 rounded-xl transition-all ${i==="approved"?"bg-amber-600 text-white shadow-lg":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bn,{className:"w-5 h-5"}),"Approved (",bookings.filter(x=>x.status==="approved").length,")"]})}),o.jsx("button",{onClick:()=>l("declined"),className:`px-6 py-3 rounded-xl transition-all ${i==="declined"?"bg-amber-600 text-white shadow-lg":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Br,{className:"w-5 h-5"}),"Declined (",bookings.filter(x=>x.status==="declined").length,")"]})})]}),v.length===0?o.jsxs("div",{className:"bg-white rounded-2xl p-12 text-center border border-stone-200",children:[o.jsx("div",{className:"w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Vn,{className:"w-8 h-8 text-stone-400"})}),o.jsxs("p",{className:"text-stone-600 mb-2",children:["No ",i," bookings"]}),o.jsx("p",{className:"text-stone-500 text-sm",children:i==="pending"?"New booking requests will appear here":`No bookings have been ${i} yet`})]}):o.jsx("div",{className:"space-y-4",children:v.map((x,b)=>o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.05},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-stone-800 mb-1",children:x.pg.name}),o.jsx("p",{className:"text-stone-600 text-sm",children:x.pg.location})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${x.status==="pending"?"bg-amber-100 text-amber-700":x.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Room Type"}),o.jsx("p",{className:"text-stone-800",children:x.roomType})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Check-in"}),o.jsx("p",{className:"text-stone-800",children:new Date(x.checkIn).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Duration"}),o.jsxs("p",{className:"text-stone-800",children:[x.duration," months"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-500 text-xs mb-1",children:"Amount"}),o.jsxs("p",{className:"text-amber-700",children:["",x.totalAmount.toLocaleString()]})]})]}),o.jsxs("div",{className:"bg-stone-50 rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:o.jsx(Jd,{className:"w-5 h-5 text-amber-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-800",children:x.user.name}),o.jsx("p",{className:"text-stone-600 text-sm",children:x.user.email})]})]}),x.user.phone&&o.jsxs("p",{className:"text-stone-600 text-sm ml-13",children:[" ",x.user.phone]})]})]}),x.status==="pending"&&o.jsxs("div",{className:"flex lg:flex-col gap-3 lg:w-48",children:[o.jsxs("button",{onClick:()=>p(x.id),className:"flex-1 lg:flex-none px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[o.jsx(Bn,{className:"w-5 h-5"}),"Approve"]}),o.jsxs("button",{onClick:()=>g(x.id),className:"flex-1 lg:flex-none px-6 py-3 bg-red-100 text-red-700 rounded-xl hover:bg-red-200 transition-all flex items-center justify-center gap-2",children:[o.jsx(Br,{className:"w-5 h-5"}),"Decline"]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-stone-200",children:o.jsxs("p",{className:"text-stone-500 text-xs",children:["Requested on ",new Date(x.createdAt).toLocaleDateString()," at"," ",new Date(x.createdAt).toLocaleTimeString()]})})]},x.id))})]})}function FE({onBack:n}){const[e,s]=A.useState([]),[i,l]=A.useState(!0),[c,u]=A.useState(null),[h,m]=A.useState(""),{accessToken:p}=jt();A.useEffect(()=>{g()},[]);const g=async()=>{try{const N=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/owner/reviews`,{headers:{Authorization:`Bearer ${p}`}});if(N.ok){const k=await N.json();s(k)}else X.error("Failed to fetch reviews")}catch(N){console.error("Error fetching reviews:",N),X.error("Failed to fetch reviews")}finally{l(!1)}},v=async N=>{X.info("Reply feature coming soon!")},x=e.filter(N=>!(c&&N.rating!==c||h&&!N.pgName.toLowerCase().includes(h.toLowerCase())&&!N.comment.toLowerCase().includes(h.toLowerCase()))),b=N=>o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(k=>o.jsx(Ut,{className:`w-4 h-4 ${k<=N?"fill-amber-500 text-amber-500":"text-stone-300"}`},k))}),j=e.length>0?(e.reduce((N,k)=>N+k.rating,0)/e.length).toFixed(1):"0.0";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(nn,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-stone-800",children:"Reviews & Ratings"}),o.jsx("p",{className:"text-stone-600",children:"Manage feedback from students"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-6 border border-amber-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center",children:o.jsx(Ut,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-amber-900",children:j}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Average Rating"})]})]})}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:o.jsx(pu,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-900",children:e.length}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Reviews"})]})]})}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200",children:o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(F_,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-green-900",children:e.filter(N=>N.rating>=4).length}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Positive Reviews"})]})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(dl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:h,onChange:N=>m(N.target.value),placeholder:"Search reviews...",className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>u(null),className:`px-4 py-2 rounded-lg transition-colors ${c===null?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"All"}),[5,4,3,2,1].map(N=>o.jsxs("button",{onClick:()=>u(N),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-1 ${c===N?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[N,o.jsx(Ut,{className:"w-4 h-4"})]},N))]})]}),o.jsx("div",{className:"space-y-4",children:i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading reviews..."})]}):x.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-stone-200",children:[o.jsx(pu,{className:"w-16 h-16 text-stone-300 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:h||c?"No reviews match your filters":"No reviews yet"})]}):x.map((N,k)=>o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-700 rounded-full flex items-center justify-center text-white",children:N.userName.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-800",children:N.userName}),o.jsx("p",{className:"text-stone-500 text-sm",children:new Date(N.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),o.jsx("p",{className:"text-stone-700 mb-2",children:N.pgName}),b(N.rating)]})}),N.comment&&o.jsxs("p",{className:"text-stone-600 mb-4 bg-stone-50 rounded-lg p-4",children:['"',N.comment,'"']}),o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:()=>v(N.id),className:"flex items-center gap-2 px-4 py-2 text-amber-700 hover:bg-amber-50 rounded-lg transition-colors",children:[o.jsx(pu,{className:"w-4 h-4"}),o.jsx("span",{children:"Reply"})]})})]},N.id))})]})}function UE({onBack:n}){const{user:e,accessToken:s,setUser:i}=jt(),[l,c]=A.useState(!1),[u,h]=A.useState(!1),[m,p]=A.useState({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",businessName:e?.businessName||""}),g=b=>{p({...m,[b.target.name]:b.target.value})},v=async()=>{h(!0);try{const b=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/user/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(m)});if(b.ok){const j=await b.json();i(j),c(!1),X.success("Profile updated successfully!")}else X.error("Failed to update profile")}catch(b){console.error("Error updating profile:",b),X.error("Failed to update profile")}finally{h(!1)}},x=()=>{p({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",businessName:e?.businessName||""}),c(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(nn,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Profile Settings"}),o.jsx("p",{className:"text-stone-600",children:"Manage your account information"})]})]}),l?o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-6 py-3 bg-stone-200 text-stone-700 rounded-xl hover:bg-stone-300 transition-all",children:[o.jsx(Za,{className:"w-4 h-4"}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:v,disabled:u,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50",children:[o.jsx(C_,{className:"w-4 h-4"}),o.jsx("span",{children:u?"Saving...":"Save Changes"})]})]}):o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-xl hover:shadow-lg transition-all",children:[o.jsx(__,{className:"w-4 h-4"}),o.jsx("span",{children:"Edit Profile"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 h-fit",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative inline-block mb-4",children:[o.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-amber-600 to-amber-700 rounded-full flex items-center justify-center text-white mx-auto",children:o.jsx("span",{className:"text-5xl",children:e?.name?.charAt(0).toUpperCase()})}),o.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-stone-50 transition-colors border-2 border-stone-200",children:o.jsx(qN,{className:"w-5 h-5 text-stone-600"})})]}),o.jsx("h2",{className:"text-stone-800 mb-1",children:e?.name}),o.jsx("p",{className:"text-stone-600 mb-4",children:"Property Owner"}),o.jsxs("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-200",children:[o.jsx("p",{className:"text-amber-900 text-sm",children:"Account Status"}),o.jsx("p",{className:"text-amber-700",children:" Verified"})]})]})}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Personal Information"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-stone-700 mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Jd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"name",name:"name",type:"text",value:m.name,onChange:g,disabled:!l,className:`w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all ${l?"":"bg-stone-50 cursor-not-allowed"}`})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-stone-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"email",name:"email",type:"email",value:m.email,onChange:g,disabled:!0,className:"w-full pl-12 pr-4 py-3 bg-stone-50 border border-stone-300 rounded-xl cursor-not-allowed"})]}),o.jsx("p",{className:"text-stone-500 text-sm mt-1",children:"Email cannot be changed"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-stone-700 mb-2",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(qd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"phone",name:"phone",type:"tel",value:m.phone,onChange:g,disabled:!l,className:`w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all ${l?"":"bg-stone-50 cursor-not-allowed"}`,placeholder:"+91 98765 43210"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"businessName",className:"block text-stone-700 mb-2",children:"Business Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(HN,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{id:"businessName",name:"businessName",type:"text",value:m.businessName,onChange:g,disabled:!l,className:`w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all ${l?"":"bg-stone-50 cursor-not-allowed"}`,placeholder:"Your Business Name"})]})]})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-stone-200",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"Account Statistics"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Member Since"}),o.jsx("p",{className:"text-stone-800",children:e?.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"N/A"})]}),o.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Listings"}),o.jsx("p",{className:"text-stone-800",children:"0"})]}),o.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Bookings"}),o.jsx("p",{className:"text-stone-800",children:"0"})]}),o.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[o.jsx("p",{className:"text-stone-600 text-sm",children:"Avg. Rating"}),o.jsx("p",{className:"text-stone-800",children:"0.0 "})]})]})]})]})]})]})}function zE(){const[n,e]=A.useState("dashboard"),[s,i]=A.useState({totalPGs:0,totalBookings:0,pendingBookings:0,monthlyEarnings:0,totalEarnings:0,averageRating:0}),[l,c]=A.useState(!0),{user:u,logout:h,accessToken:m}=jt();A.useEffect(()=>{p()},[]);const p=async()=>{try{const b=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/owner/stats`,{headers:{Authorization:`Bearer ${m}`}});if(b.ok){const j=await b.json();i(j)}}catch(b){console.error("Error fetching stats:",b)}finally{c(!1)}},g=async()=>{await h(),window.location.href="/"},v=()=>{switch(n){case"add-pg":return o.jsx($E,{onBack:()=>e("dashboard"),onSuccess:()=>{e("manage-pgs"),p()}});case"manage-pgs":return o.jsx(VE,{onBack:()=>e("dashboard")});case"bookings":return o.jsx(BE,{onBack:()=>e("dashboard")});case"reviews":return o.jsx(FE,{onBack:()=>e("dashboard")});case"profile":return o.jsx(UE,{onBack:()=>e("dashboard")});default:return x()}},x=()=>o.jsxs("div",{className:"space-y-8",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsxs("h1",{className:"text-stone-800 mb-2",children:["Welcome back, ",u?.name,"! "]}),o.jsx("p",{className:"text-stone-600",children:"Manage your properties and grow your business"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-6 border border-amber-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center",children:o.jsx(vs,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-amber-700 bg-amber-200 px-3 py-1 rounded-full text-xs",children:"Total"})]}),o.jsx("p",{className:"text-amber-900 mb-1",children:s.totalPGs}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Active Listings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:o.jsx(Vn,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:"text-blue-700 bg-blue-200 px-3 py-1 rounded-full text-xs",children:[s.pendingBookings," pending"]})]}),o.jsx("p",{className:"text-blue-900 mb-1",children:s.totalBookings}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Bookings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(Gd,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-green-700 bg-green-200 px-3 py-1 rounded-full text-xs",children:"This Month"})]}),o.jsxs("p",{className:"text-green-900 mb-1",children:["",s.monthlyEarnings.toLocaleString()]}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Monthly Earnings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 border border-purple-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center",children:o.jsx(Ut,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-purple-700 bg-purple-200 px-3 py-1 rounded-full text-xs",children:"Average"})]}),o.jsx("p",{className:"text-purple-900 mb-1",children:s.averageRating.toFixed(1)}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Rating"})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("button",{onClick:()=>e("add-pg"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl hover:shadow-md transition-all group border border-amber-200",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Yu,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Add New PG"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"List a new property"})]})]}),o.jsxs("button",{onClick:()=>e("manage-pgs"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl hover:shadow-md transition-all group border border-blue-200",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(vs,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Manage PGs"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"Edit your listings"})]})]}),o.jsxs("button",{onClick:()=>e("bookings"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl hover:shadow-md transition-all group border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Vn,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"View Bookings"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"Manage requests"})]})]})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Recent Activity"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Bn,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"New booking confirmed"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Campus View Residency - Double Room"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"2h ago"})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:o.jsx(tr,{className:"w-5 h-5 text-amber-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"Booking request pending"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"ADTU Comfort Stay - Single Room"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"5h ago"})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(Ut,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"New review received"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"5 stars on Elite Student Housing"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"1d ago"})]})]})]})]});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx("nav",{className:"bg-white border-b border-stone-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-700 rounded-lg flex items-center justify-center",children:o.jsx(vs,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"PG Locator"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"Owner Portal"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{className:"relative p-2 text-stone-600 hover:text-stone-900 transition-colors",children:[o.jsx(Hd,{className:"w-5 h-5"}),o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 text-stone-600 hover:text-stone-900 transition-colors",children:[o.jsx(Kd,{className:"w-4 h-4"}),o.jsx("span",{children:"Logout"})]})]})]})})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"hidden lg:block w-64 bg-white border-r border-stone-200 min-h-[calc(100vh-4rem)]",children:o.jsxs("nav",{className:"p-4 space-y-2",children:[o.jsxs("button",{onClick:()=>e("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="dashboard"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Ui,{className:"w-5 h-5"}),o.jsx("span",{children:"Dashboard"})]}),o.jsxs("button",{onClick:()=>e("add-pg"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="add-pg"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Yu,{className:"w-5 h-5"}),o.jsx("span",{children:"Add PG"})]}),o.jsxs("button",{onClick:()=>e("manage-pgs"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="manage-pgs"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(vs,{className:"w-5 h-5"}),o.jsx("span",{children:"Manage PGs"})]}),o.jsxs("button",{onClick:()=>e("bookings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="bookings"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Vn,{className:"w-5 h-5"}),o.jsx("span",{children:"Bookings"})]}),o.jsxs("button",{onClick:()=>e("reviews"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="reviews"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Ut,{className:"w-5 h-5"}),o.jsx("span",{children:"Reviews"})]}),o.jsxs("button",{onClick:()=>e("profile"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="profile"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Qs,{className:"w-5 h-5"}),o.jsx("span",{children:"Profile"})]})]})}),o.jsx("main",{className:"flex-1 p-4 lg:p-8 max-w-7xl mx-auto w-full",children:v()})]})]})}function WE({onBack:n,onUpdate:e}){const[s,i]=A.useState([]),[l,c]=A.useState(null),[u,h]=A.useState(!0),[m,p]=A.useState("pending"),[g,v]=A.useState(""),[x,b]=A.useState(!1),{accessToken:j}=jt();A.useEffect(()=>{N()},[]);const N=async()=>{try{const S=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/admin/pgs`,{headers:{Authorization:`Bearer ${j}`}});if(S.ok){const T=await S.json();i(T)}else X.error("Failed to fetch PG listings")}catch(S){console.error("Error fetching PGs:",S),X.error("Failed to fetch PG listings")}finally{h(!1)}},k=async S=>{try{(await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/admin/pgs/${S}/verify`,{method:"POST",headers:{Authorization:`Bearer ${j}`}})).ok?(X.success("PG listing verified successfully!"),N(),e(),c(null)):X.error("Failed to verify PG listing")}catch(T){console.error("Error verifying PG:",T),X.error("Failed to verify PG listing")}},C=async()=>{if(!l||!g){X.error("Please provide a reason for rejection");return}try{(await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/admin/pgs/${l.id}/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({reason:g})})).ok?(X.success("PG listing rejected"),N(),e(),c(null),b(!1),v("")):X.error("Failed to reject PG listing")}catch(S){console.error("Error rejecting PG:",S),X.error("Failed to reject PG listing")}},D=s.filter(S=>m==="all"?!0:m==="pending"?!S.verified&&S.verificationStatus!=="rejected":m==="verified"?S.verified:m==="rejected"?S.verificationStatus==="rejected":!0);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(nn,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"PG Verification"}),o.jsx("p",{className:"text-stone-600",children:"Review and verify new listings"})]})]})}),o.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[o.jsxs("button",{onClick:()=>p("pending"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${m==="pending"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[o.jsx(tr,{className:"w-4 h-4"}),"Pending (",s.filter(S=>!S.verified&&S.verificationStatus!=="rejected").length,")"]}),o.jsxs("button",{onClick:()=>p("verified"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${m==="verified"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[o.jsx(Bn,{className:"w-4 h-4"}),"Verified (",s.filter(S=>S.verified).length,")"]}),o.jsxs("button",{onClick:()=>p("rejected"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${m==="rejected"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:[o.jsx(Br,{className:"w-4 h-4"}),"Rejected (",s.filter(S=>S.verificationStatus==="rejected").length,")"]}),o.jsxs("button",{onClick:()=>p("all"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${m==="all"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:["All (",s.length,")"]})]}),u?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading listings..."})]}):D.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl border border-stone-200",children:[o.jsx(vs,{className:"w-16 h-16 text-stone-300 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"No listings found"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:D.map((S,T)=>o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},className:"bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(S),children:[o.jsxs("div",{className:"relative h-48 bg-stone-200",children:[S.images&&S.images[0]?o.jsx("img",{src:S.images[0],alt:S.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(p_,{className:"w-12 h-12 text-stone-400"})}),o.jsx("div",{className:"absolute top-3 right-3",children:S.verified?o.jsxs("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[o.jsx(Bn,{className:"w-3 h-3"}),"Verified"]}):S.verificationStatus==="rejected"?o.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[o.jsx(Br,{className:"w-3 h-3"}),"Rejected"]}):o.jsxs("span",{className:"bg-amber-500 text-white px-3 py-1 rounded-full text-xs flex items-center gap-1",children:[o.jsx(tr,{className:"w-3 h-3"}),"Pending"]})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-stone-800 mb-2",children:S.name}),o.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-2",children:[o.jsx(bt,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:S.location})]}),o.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-4",children:[o.jsx(Gd,{className:"w-4 h-4"}),o.jsxs("span",{children:["",S.price,"/month"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.amenities?.slice(0,3).map($=>o.jsx("span",{className:"px-3 py-1 bg-stone-100 text-stone-600 rounded-full text-xs",children:$},$)),S.amenities?.length>3&&o.jsxs("span",{className:"px-3 py-1 bg-stone-100 text-stone-600 rounded-full text-xs",children:["+",S.amenities.length-3," more"]})]})]})]},S.id))}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>c(null),children:o.jsx(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-stone-800",children:l.name}),o.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(Br,{className:"w-6 h-6 text-stone-600"})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:l.images?.map((S,T)=>o.jsx("img",{src:S,alt:`${l.name} ${T+1}`,className:"w-full h-48 object-cover rounded-xl"},T))}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Description"}),o.jsx("p",{className:"text-stone-600",children:l.description})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Location"}),o.jsx("p",{className:"text-stone-600",children:l.location})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Distance from ADTU"}),o.jsxs("p",{className:"text-stone-600",children:[l.distance," km"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Gender"}),o.jsx("p",{className:"text-stone-600 capitalize",children:l.gender})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-1",children:"Price"}),o.jsxs("p",{className:"text-stone-600",children:["",l.price,"/month"]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-2",children:"Owner Details"}),o.jsxs("p",{className:"text-stone-600",children:["Name: ",l.ownerName]}),o.jsxs("p",{className:"text-stone-600",children:["Phone: ",l.ownerPhone]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-700 mb-2",children:"Amenities"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:l.amenities?.map(S=>o.jsx("span",{className:"px-3 py-1 bg-amber-50 text-amber-700 rounded-full text-sm",children:S},S))})]})]}),!l.verified&&l.verificationStatus!=="rejected"&&o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>k(l.id),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:shadow-lg transition-all",children:[o.jsx(Bn,{className:"w-5 h-5"}),"Verify & Approve"]}),o.jsxs("button",{onClick:()=>b(!0),className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:shadow-lg transition-all",children:[o.jsx(Br,{className:"w-5 h-5"}),"Reject"]})]})]})})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:o.jsxs(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-3xl max-w-md w-full p-6",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"Reject Listing"}),o.jsx("p",{className:"text-stone-600 mb-4",children:"Please provide a reason for rejecting this listing:"}),o.jsx("textarea",{value:g,onChange:S=>v(S.target.value),className:"w-full px-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 resize-none",rows:4,placeholder:"Enter rejection reason..."}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>{b(!1),v("")},className:"flex-1 py-3 bg-stone-200 text-stone-700 rounded-xl hover:bg-stone-300 transition-all",children:"Cancel"}),o.jsx("button",{onClick:C,className:"flex-1 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:shadow-lg transition-all",children:"Confirm Reject"})]})]})})]})}function HE({onBack:n}){const[e,s]=A.useState([]),[i,l]=A.useState(!0),[c,u]=A.useState(""),[h,m]=A.useState("all"),{accessToken:p}=jt();A.useEffect(()=>{g()},[]);const g=async()=>{try{const j=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/admin/users`,{headers:{Authorization:`Bearer ${p}`}});if(j.ok){const N=await j.json();s(N)}else X.error("Failed to fetch users")}catch(j){console.error("Error fetching users:",j),X.error("Failed to fetch users")}finally{l(!1)}},v=async(j,N)=>{try{(await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/admin/users/${j}/toggle-status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({isActive:!N})})).ok?(X.success(`User ${N?"deactivated":"activated"} successfully`),g()):X.error("Failed to update user status")}catch(k){console.error("Error toggling user status:",k),X.error("Failed to update user status")}},x=e.filter(j=>!(h!=="all"&&j.role!==h||c&&!j.name.toLowerCase().includes(c.toLowerCase())&&!j.email.toLowerCase().includes(c.toLowerCase()))),b=j=>{switch(j){case"student":return"bg-blue-100 text-blue-700";case"owner":return"bg-green-100 text-green-700";case"admin":return"bg-purple-100 text-purple-700";default:return"bg-stone-100 text-stone-700"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(nn,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-stone-800",children:"User Management"}),o.jsx("p",{className:"text-stone-600",children:"Manage all platform users"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 text-sm mb-1",children:"Total Users"}),o.jsx("p",{className:"text-stone-800",children:e.length})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 text-sm mb-1",children:"Students"}),o.jsx("p",{className:"text-stone-800",children:e.filter(j=>j.role==="student").length})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 text-sm mb-1",children:"Owners"}),o.jsx("p",{className:"text-stone-800",children:e.filter(j=>j.role==="owner").length})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 border border-stone-200",children:[o.jsx("p",{className:"text-stone-600 text-sm mb-1",children:"Active Users"}),o.jsx("p",{className:"text-stone-800",children:e.filter(j=>j.isActive!==!1).length})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(dl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-stone-400"}),o.jsx("input",{type:"text",value:c,onChange:j=>u(j.target.value),placeholder:"Search users by name or email...",className:"w-full pl-12 pr-4 py-3 bg-white border border-stone-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>m("all"),className:`px-4 py-2 rounded-lg transition-colors ${h==="all"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"All"}),o.jsx("button",{onClick:()=>m("student"),className:`px-4 py-2 rounded-lg transition-colors ${h==="student"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Students"}),o.jsx("button",{onClick:()=>m("owner"),className:`px-4 py-2 rounded-lg transition-colors ${h==="owner"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Owners"}),o.jsx("button",{onClick:()=>m("admin"),className:`px-4 py-2 rounded-lg transition-colors ${h==="admin"?"bg-amber-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:"Admins"})]})]}),o.jsx("div",{className:"bg-white rounded-2xl border border-stone-200 overflow-hidden",children:i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading users..."})]}):x.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Qs,{className:"w-16 h-16 text-stone-300 mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:c||h!=="all"?"No users match your filters":"No users found"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-stone-50 border-b border-stone-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"User"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Role"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Joined"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-stone-700",children:"Actions"})]})}),o.jsx("tbody",{children:x.map((j,N)=>o.jsxs(V.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:"border-b border-stone-100 hover:bg-stone-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-700 rounded-full flex items-center justify-center text-white",children:j.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"text-stone-800",children:j.name}),j.role==="student"&&j.rollNo&&o.jsx("p",{className:"text-stone-500 text-xs",children:j.rollNo}),j.role==="owner"&&j.businessName&&o.jsx("p",{className:"text-stone-500 text-xs",children:j.businessName})]})]})}),o.jsx("td",{className:"px-6 py-4 text-stone-600",children:j.email}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs capitalize ${b(j.role)}`,children:j.role})}),o.jsx("td",{className:"px-6 py-4 text-stone-600",children:new Date(j.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),o.jsx("td",{className:"px-6 py-4",children:j.isActive!==!1?o.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs flex items-center gap-1 w-fit",children:[o.jsx(Bn,{className:"w-3 h-3"}),"Active"]}):o.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs flex items-center gap-1 w-fit",children:[o.jsx(VN,{className:"w-3 h-3"}),"Inactive"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>v(j.id,j.isActive!==!1),className:`px-4 py-2 rounded-lg text-sm transition-colors ${j.isActive!==!1?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:j.isActive!==!1?"Deactivate":"Activate"})})]},j.id))})]})})})]})}function GE({onBack:n}){const[e,s]=A.useState(null),[i,l]=A.useState(!0),[c,u]=A.useState("month"),{accessToken:h}=jt();A.useEffect(()=>{m()},[c]);const m=async()=>{try{const g=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/admin/analytics?range=${c}`,{headers:{Authorization:`Bearer ${h}`}});if(g.ok){const v=await g.json();s(v)}else X.error("Failed to fetch analytics")}catch(g){console.error("Error fetching analytics:",g),X.error("Failed to fetch analytics")}finally{l(!1)}},p=()=>{X.info("Export feature coming soon!")};return i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading analytics..."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:o.jsx(nn,{className:"w-5 h-5 text-stone-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"Reports & Analytics"}),o.jsx("p",{className:"text-stone-600",children:"Platform insights and statistics"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("select",{value:c,onChange:g=>u(g.target.value),className:"px-4 py-2 bg-white border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[o.jsx("option",{value:"week",children:"Last 7 Days"}),o.jsx("option",{value:"month",children:"Last 30 Days"}),o.jsx("option",{value:"year",children:"Last Year"})]}),o.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-lg hover:shadow-lg transition-all",children:[o.jsx(ky,{className:"w-4 h-4"}),"Export"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(Gd,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs ${(e?.revenueGrowth||0)>=0?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}`,children:[(e?.revenueGrowth||0)>=0?"":""," ",Math.abs(e?.revenueGrowth||0),"%"]})]}),o.jsxs("p",{className:"text-green-900 mb-1",children:["",(e?.totalRevenue||0).toLocaleString()]}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Revenue"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:o.jsx(Vn,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs ${(e?.bookingsGrowth||0)>=0?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}`,children:[(e?.bookingsGrowth||0)>=0?"":""," ",Math.abs(e?.bookingsGrowth||0),"%"]})]}),o.jsx("p",{className:"text-blue-900 mb-1",children:e?.totalBookings||0}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Bookings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 border border-purple-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center",children:o.jsx(Qs,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs ${(e?.userGrowth||0)>=0?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}`,children:[(e?.userGrowth||0)>=0?"":""," ",Math.abs(e?.userGrowth||0),"%"]})]}),o.jsx("p",{className:"text-purple-900 mb-1",children:e?.newUsers||0}),o.jsx("p",{className:"text-stone-600 text-sm",children:"New Users"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-6 border border-amber-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center",children:o.jsx(vs,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs ${(e?.pgGrowth||0)>=0?"bg-green-200 text-green-700":"bg-red-200 text-red-700"}`,children:[(e?.pgGrowth||0)>=0?"":""," ",Math.abs(e?.pgGrowth||0),"%"]})]}),o.jsx("p",{className:"text-amber-900 mb-1",children:e?.activePGs||0}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Active PGs"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"Top Performing PGs"}),o.jsx("div",{className:"space-y-3",children:e?.topPGs&&e.topPGs.length>0?e.topPGs.map((g,v)=>o.jsxs("div",{className:"flex items-center gap-4 p-3 bg-stone-50 rounded-lg",children:[o.jsx("div",{className:"w-8 h-8 bg-amber-600 rounded-lg flex items-center justify-center text-white",children:v+1}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:g.name}),o.jsxs("p",{className:"text-stone-600 text-sm",children:[g.bookings," bookings"]})]}),o.jsxs("p",{className:"text-green-700",children:["",g.revenue.toLocaleString()]})]},g.id)):o.jsx("p",{className:"text-stone-500 text-center py-4",children:"No data available"})})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"User Distribution"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-stone-600",children:"Students"}),o.jsx("span",{className:"text-stone-800",children:e?.userDistribution?.students||0})]}),o.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 rounded-full h-2",style:{width:`${e?.userDistribution?e.userDistribution.students/(e.userDistribution.students+e.userDistribution.owners+e.userDistribution.admins)*100:0}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-stone-600",children:"Owners"}),o.jsx("span",{className:"text-stone-800",children:e?.userDistribution?.owners||0})]}),o.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-600 rounded-full h-2",style:{width:`${e?.userDistribution?e.userDistribution.owners/(e.userDistribution.students+e.userDistribution.owners+e.userDistribution.admins)*100:0}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-stone-600",children:"Admins"}),o.jsx("span",{className:"text-stone-800",children:e?.userDistribution?.admins||0})]}),o.jsx("div",{className:"w-full bg-stone-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 rounded-full h-2",style:{width:`${e?.userDistribution?e.userDistribution.admins/(e.userDistribution.students+e.userDistribution.owners+e.userDistribution.admins)*100:0}%`}})})]})]})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h3",{className:"text-stone-800 mb-4",children:"Popular Amenities"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:e?.popularAmenities&&e.popularAmenities.length>0?e.popularAmenities.map(g=>o.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-amber-900 mb-1",children:g.count}),o.jsx("p",{className:"text-stone-600 text-sm",children:g.name})]},g.name)):o.jsx("p",{className:"text-stone-500 col-span-full text-center py-4",children:"No data available"})})]})]})}function KE(){const[n,e]=A.useState("dashboard"),[s,i]=A.useState({totalPGs:0,pendingVerification:0,verifiedPGs:0,rejectedPGs:0,totalUsers:0,totalBookings:0,revenueThisMonth:0}),[l,c]=A.useState(!0),{user:u,logout:h,accessToken:m}=jt();A.useEffect(()=>{p()},[]);const p=async()=>{try{const b=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/admin/stats`,{headers:{Authorization:`Bearer ${m}`}});if(b.ok){const j=await b.json();i(j)}}catch(b){console.error("Error fetching stats:",b)}finally{c(!1)}},g=async()=>{await h(),window.location.href="/"},v=()=>{switch(n){case"verification":return o.jsx(WE,{onBack:()=>e("dashboard"),onUpdate:p});case"users":return o.jsx(HE,{onBack:()=>e("dashboard")});case"reports":return o.jsx(GE,{onBack:()=>e("dashboard")});default:return x()}},x=()=>o.jsxs("div",{className:"space-y-8",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsx("h1",{className:"text-stone-800 mb-2",children:"Admin Portal "}),o.jsxs("p",{className:"text-stone-600",children:["Welcome back, ",u?.name,"! Manage and verify PG listings"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-6 border border-amber-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center",children:o.jsx(vs,{className:"w-6 h-6 text-white"})}),o.jsxs("span",{className:"text-amber-700 bg-amber-200 px-3 py-1 rounded-full text-xs",children:[s.pendingVerification," pending"]})]}),o.jsx("p",{className:"text-amber-900 mb-1",children:s.totalPGs}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total PG Listings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(Bn,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-green-700 bg-green-200 px-3 py-1 rounded-full text-xs",children:"Active"})]}),o.jsx("p",{className:"text-green-900 mb-1",children:s.verifiedPGs}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Verified Listings"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 border border-blue-200",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:o.jsx(Qs,{className:"w-6 h-6 text-white"})})}),o.jsx("p",{className:"text-blue-900 mb-1",children:s.totalUsers}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Users"})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 border border-purple-200",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center",children:o.jsx(Ui,{className:"w-6 h-6 text-white"})})}),o.jsx("p",{className:"text-purple-900 mb-1",children:s.totalBookings}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Total Bookings"})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("button",{onClick:()=>e("verification"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl hover:shadow-md transition-all group border border-amber-200",children:[o.jsxs("div",{className:"w-12 h-12 bg-amber-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform relative",children:[o.jsx(tr,{className:"w-6 h-6 text-white"}),s.pendingVerification>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:s.pendingVerification})]}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Verify Listings"}),o.jsxs("p",{className:"text-stone-600 text-xs",children:[s.pendingVerification," pending review"]})]})]}),o.jsxs("button",{onClick:()=>e("users"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl hover:shadow-md transition-all group border border-blue-200",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Qs,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Manage Users"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"View all users"})]})]}),o.jsxs("button",{onClick:()=>e("reports"),className:"flex items-center gap-4 p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl hover:shadow-md transition-all group border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Ui,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-stone-800",children:"Analytics"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"View insights"})]})]})]})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[o.jsx("h2",{className:"text-stone-800 mb-6",children:"Recent Activity"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:o.jsx(tr,{className:"w-5 h-5 text-amber-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"New PG listing submitted"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Campus View Residency - Pending verification"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"2h ago"})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Bn,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"PG listing verified"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"ADTU Comfort Stay - Now live"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"5h ago"})]}),o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-stone-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(Qs,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-stone-800",children:"New user registered"}),o.jsx("p",{className:"text-stone-600 text-sm",children:"Student account created"})]}),o.jsx("span",{className:"text-stone-500 text-sm",children:"1d ago"})]})]})]})]});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50",children:[o.jsx("nav",{className:"bg-white border-b border-stone-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-600 to-amber-700 rounded-lg flex items-center justify-center",children:o.jsx(Yd,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-stone-800",children:"PG Locator"}),o.jsx("p",{className:"text-stone-600 text-xs",children:"Admin Portal"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{className:"relative p-2 text-stone-600 hover:text-stone-900 transition-colors",children:[o.jsx(Hd,{className:"w-5 h-5"}),s.pendingVerification>0&&o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 text-stone-600 hover:text-stone-900 transition-colors",children:[o.jsx(Kd,{className:"w-4 h-4"}),o.jsx("span",{children:"Logout"})]})]})]})})}),o.jsxs("div",{className:"flex",children:[o.jsx("aside",{className:"hidden lg:block w-64 bg-white border-r border-stone-200 min-h-[calc(100vh-4rem)]",children:o.jsxs("nav",{className:"p-4 space-y-2",children:[o.jsxs("button",{onClick:()=>e("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="dashboard"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Ui,{className:"w-5 h-5"}),o.jsx("span",{children:"Dashboard"})]}),o.jsxs("button",{onClick:()=>e("verification"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="verification"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(tr,{className:"w-5 h-5"}),o.jsx("span",{children:"PG Verification"}),s.pendingVerification>0&&o.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:s.pendingVerification})]}),o.jsxs("button",{onClick:()=>e("users"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="users"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Qs,{className:"w-5 h-5"}),o.jsx("span",{children:"User Management"})]}),o.jsxs("button",{onClick:()=>e("reports"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${n==="reports"?"bg-amber-50 text-amber-700 border border-amber-200":"text-stone-600 hover:bg-stone-50"}`,children:[o.jsx(Ui,{className:"w-5 h-5"}),o.jsx("span",{children:"Analytics"})]})]})}),o.jsx("main",{className:"flex-1 p-4 lg:p-8 max-w-7xl mx-auto w-full",children:v()})]})]})}function qE(){const[n,e]=A.useState(!1);return A.useEffect(()=>{(async()=>{const i=localStorage.getItem("pgDataInitialized"),l=localStorage.getItem("demoUsersInitialized");if(i&&l){e(!0);return}try{if(i||(console.log("Initializing PG data..."),(await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/init-data`,{method:"POST",headers:{Authorization:`Bearer ${il}`}})).ok&&(console.log("PG data initialized successfully"),localStorage.setItem("pgDataInitialized","true"))),!l){console.log("Initializing demo users...");try{const c=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/init-demo-users`,{method:"POST",headers:{Authorization:`Bearer ${il}`}});if(c.ok){const u=await c.json();console.log("Demo users initialization result:",u),localStorage.setItem("demoUsersInitialized","true")}else{const u=await c.text();console.error("Failed to initialize demo users:",u)}}catch(c){console.error("Error initializing demo users:",c)}}e(!0),console.log("Data initialization complete")}catch(c){console.error("Error initializing data:",c),e(!0)}})()},[]),null}function YE(){const[n,e]=A.useState("loading"),[s,i]=A.useState(null),{user:l,setUser:c,setAccessToken:u,setIsLoading:h}=jt(),m=A.useRef(!1);console.log("App render - appState:",n,"user:",l?.role,l?.name),A.useEffect(()=>{const b=nr(),{data:{subscription:j}}=b.auth.onAuthStateChange(async(N,k)=>{if(console.log("Auth event:",N),N==="SIGNED_OUT"||!k){c(null),u(null),h(!1);const C=localStorage.getItem("hasSeenOnboarding");e(C?"onboarding":"splash")}else if(N==="SIGNED_IN"||N==="TOKEN_REFRESHED"||N==="INITIAL_SESSION"){u(k.access_token);try{const C=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/user/profile`,{headers:{Authorization:`Bearer ${k.access_token}`}});if(C.ok){const D=await C.json();c(D),localStorage.setItem("userRole",D.role),i(D.role),e("app")}else await b.auth.signOut()}catch(C){console.error("Error fetching profile:",C),await b.auth.signOut()}finally{h(!1)}}});return p(),()=>{j.unsubscribe()}},[]),A.useEffect(()=>{l&&m.current&&n==="auth"&&(console.log("User logged in successfully, navigating to app..."),m.current=!1,e("app"))},[l,n]);const p=async()=>{const b=localStorage.getItem("pgDataInitialized"),j=localStorage.getItem("demoUsersInitialized");try{if(b)console.log("PG data already initialized");else{console.log("Initializing PG data...");const N=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/init-data`,{method:"POST"});if(N.ok){const k=await N.json();console.log("PG data initialization result:",k),localStorage.setItem("pgDataInitialized","true")}else console.error("Failed to initialize PG data:",N.status)}if(j)console.log("Demo users already initialized");else{console.log("Initializing demo users...");const N=await fetch(`https://${ke}.supabase.co/functions/v1/make-server-2c39c550/init-demo-users`,{method:"POST"});if(N.ok){const k=await N.json();console.log("Demo users initialization result:",k),k.results&&k.results.some(C=>C.status==="created"||C.status==="already_exists")?localStorage.setItem("demoUsersInitialized","true"):console.warn("Demo user initialization may have failed:",k)}else console.error("Failed to initialize demo users:",N.status,await N.text())}}catch(N){console.error("Error initializing data:",N)}},g=()=>{localStorage.setItem("hasSeenOnboarding","true"),e("onboarding")},v=b=>{i(b),e("auth")},x=()=>{console.log("handleAuthSuccess called - Marking login in progress"),m.current=!0};if(n==="loading")return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading..."})]})});if(n==="splash")return o.jsx(ek,{onComplete:g});if(n==="onboarding")return o.jsx(rk,{onRoleSelect:v,onSkip:()=>e("onboarding")});if(n==="auth"&&s)return o.jsx(AE,{initialRole:s,onSuccess:x});if(n==="app"&&l){if(console.log("Rendering app for user:",l.role,l.name),l.role==="student")return o.jsxs(o.Fragment,{children:[o.jsx(LE,{}),o.jsx(qE,{}),o.jsx(Ba,{position:"bottom-right",richColors:!0})]});if(l.role==="owner")return o.jsxs(o.Fragment,{children:[o.jsx(zE,{}),o.jsx(Ba,{position:"bottom-right",richColors:!0})]});if(l.role==="admin")return o.jsxs(o.Fragment,{children:[o.jsx(KE,{}),o.jsx(Ba,{position:"bottom-right",richColors:!0})]})}return n==="app"&&!l?(console.log("Waiting for user data..."),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-stone-600",children:"Loading your profile..."})]})})):(console.warn("Unexpected app state:",n,"user:",l),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-stone-50 to-amber-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-stone-600",children:"Something went wrong. Please refresh the page."}),o.jsxs("p",{className:"text-stone-500 mt-2",children:["State: ",n,", User: ",l?"Set":"Not set"]})]})}))}Nw.createRoot(document.getElementById("root")).render(o.jsx(YE,{}));
